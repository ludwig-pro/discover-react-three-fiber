import React, { useState, useRef, useEffect, useMemo } from 'react';
import { _ as _extends, c as context } from './index-ab2bdb51.js';
import 'three';
import { useThree } from 'react-three-fiber';

function decodeBase64(base64, enableUnicode) {
    var binaryString = atob(base64);
    if (enableUnicode) {
        var binaryView = new Uint8Array(binaryString.length);
        for (var i = 0, n = binaryString.length; i < n; ++i) {
            binaryView[i] = binaryString.charCodeAt(i);
        }
        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));
    }
    return binaryString;
}

function createURL(base64, sourcemapArg, enableUnicodeArg) {
    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;
    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;
    var source = decodeBase64(base64, enableUnicode);
    var start = source.indexOf('\n', 10) + 1;
    var body = source.substring(start) + (sourcemap ? '\/\/# sourceMappingURL=' + sourcemap : '');
    var blob = new Blob([body], { type: 'application/javascript' });
    return URL.createObjectURL(blob);
}

function createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {
    var url;
    return function WorkerFactory(options) {
        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);
        return new Worker(url, options);
    };
}

var WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwpmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgewogICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH07CgogIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7CiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgdmFyIHRhcmdldCA9IHt9OwogIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsKICB2YXIga2V5LCBpOwoKICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgewogICAga2V5ID0gc291cmNlS2V5c1tpXTsKICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7CiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKLyoqDQogKiBSZWNvcmRzIHdoYXQgb2JqZWN0cyBhcmUgY29sbGlkaW5nIHdpdGggZWFjaCBvdGhlcg0KICogQGNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeA0KICogQGNvbnN0cnVjdG9yDQogKi8KLyoqDQogKiBBIDN4MyBtYXRyaXguDQogKiBAY2xhc3MgTWF0Mw0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50cyBBIHZlY3RvciBvZiBsZW5ndGggOSwgY29udGFpbmluZyBhbGwgbWF0cml4IGVsZW1lbnRzLiBPcHRpb25hbC4NCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICovCgoKY2xhc3MgTWF0MyB7CiAgY29uc3RydWN0b3IoZWxlbWVudHMgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pIHsKICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50czsKICB9CiAgLyoqDQogICAqIFNldHMgdGhlIG1hdHJpeCB0byBpZGVudGl0eQ0KICAgKiBAbWV0aG9kIGlkZW50aXR5DQogICAqIEB0b2RvIFNob3VsZCBwZXJoYXBzIGJlIHJlbmFtZWQgdG8gc2V0SWRlbnRpdHkoKSB0byBiZSBtb3JlIGNsZWFyLg0KICAgKiBAdG9kbyBDcmVhdGUgYW5vdGhlciBmdW5jdGlvbiB0aGF0IGltbWVkaWF0ZWx5IGNyZWF0ZXMgYW4gaWRlbnRpdHkgbWF0cml4IGVnLiBleWUoKQ0KICAgKi8KCgogIGlkZW50aXR5KCkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzBdID0gMTsKICAgIGVbMV0gPSAwOwogICAgZVsyXSA9IDA7CiAgICBlWzNdID0gMDsKICAgIGVbNF0gPSAxOwogICAgZVs1XSA9IDA7CiAgICBlWzZdID0gMDsKICAgIGVbN10gPSAwOwogICAgZVs4XSA9IDE7CiAgfQogIC8qKg0KICAgKiBTZXQgYWxsIGVsZW1lbnRzIHRvIHplcm8NCiAgICogQG1ldGhvZCBzZXRaZXJvDQogICAqLwoKCiAgc2V0WmVybygpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgZVswXSA9IDA7CiAgICBlWzFdID0gMDsKICAgIGVbMl0gPSAwOwogICAgZVszXSA9IDA7CiAgICBlWzRdID0gMDsKICAgIGVbNV0gPSAwOwogICAgZVs2XSA9IDA7CiAgICBlWzddID0gMDsKICAgIGVbOF0gPSAwOwogIH0KICAvKioNCiAgICogU2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzIGZyb20gYSBWZWMzDQogICAqIEBtZXRob2Qgc2V0VHJhY2UNCiAgICogQHBhcmFtIHtWZWMzfSB2ZWMzDQogICAqLwoKCiAgc2V0VHJhY2UodmVjdG9yKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGVbMF0gPSB2ZWN0b3IueDsKICAgIGVbNF0gPSB2ZWN0b3IueTsKICAgIGVbOF0gPSB2ZWN0b3IuejsKICB9CiAgLyoqDQogICAqIEdldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50cw0KICAgKiBAbWV0aG9kIGdldFRyYWNlDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgZ2V0VHJhY2UodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICB0YXJnZXQueCA9IGVbMF07CiAgICB0YXJnZXQueSA9IGVbNF07CiAgICB0YXJnZXQueiA9IGVbOF07CiAgfQogIC8qKg0KICAgKiBNYXRyaXgtVmVjdG9yIG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2Qgdm11bHQNCiAgICogQHBhcmFtIHtWZWMzfSB2IFRoZSB2ZWN0b3IgdG8gbXVsdGlwbHkgd2l0aA0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCwgdGFyZ2V0IHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICB2bXVsdCh2LCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGNvbnN0IHggPSB2Lng7CiAgICBjb25zdCB5ID0gdi55OwogICAgY29uc3QgeiA9IHYuejsKICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6OwogICAgdGFyZ2V0LnkgPSBlWzNdICogeCArIGVbNF0gKiB5ICsgZVs1XSAqIHo7CiAgICB0YXJnZXQueiA9IGVbNl0gKiB4ICsgZVs3XSAqIHkgKyBlWzhdICogejsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBNYXRyaXgtc2NhbGFyIG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2Qgc211bHQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHMNCiAgICovCgoKICBzbXVsdChzKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy5lbGVtZW50c1tpXSAqPSBzOwogICAgfQogIH0KICAvKioNCiAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2QgbW11bHQNCiAgICogQHBhcmFtIHtNYXQzfSBtYXRyaXggTWF0cml4IHRvIG11bHRpcGx5IHdpdGggZnJvbSBsZWZ0IHNpZGUuDQogICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuDQogICAqLwoKCiAgbW11bHQobWF0cml4LCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICBjb25zdCB7CiAgICAgIGVsZW1lbnRzCiAgICB9ID0gbWF0cml4OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgbGV0IHN1bSA9IDAuMDsKCiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAzOyBrKyspIHsKICAgICAgICAgIHN1bSArPSBlbGVtZW50c1tpICsgayAqIDNdICogdGhpcy5lbGVtZW50c1trICsgaiAqIDNdOwogICAgICAgIH0KCiAgICAgICAgdGFyZ2V0LmVsZW1lbnRzW2kgKyBqICogM10gPSBzdW07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU2NhbGUgZWFjaCBjb2x1bW4gb2YgdGhlIG1hdHJpeA0KICAgKiBAbWV0aG9kIHNjYWxlDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgcmVzdWx0Lg0KICAgKi8KCgogIHNjYWxlKHZlY3RvciwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSAzOyBpKyspIHsKICAgICAgdFszICogaSArIDBdID0gdmVjdG9yLnggKiBlWzMgKiBpICsgMF07CiAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdOwogICAgICB0WzMgKiBpICsgMl0gPSB2ZWN0b3IueiAqIGVbMyAqIGkgKyAyXTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU29sdmUgQXg9Yg0KICAgKiBAbWV0aG9kIHNvbHZlDQogICAqIEBwYXJhbSB7VmVjM30gYiBUaGUgcmlnaHQgaGFuZCBzaWRlDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdmVjdG9yIHRvIHNhdmUgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBzb2x1dGlvbiB4DQogICAqIEB0b2RvIHNob3VsZCByZXVzZSBhcnJheXMNCiAgICovCgoKICBzb2x2ZShiLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zCiAgICBjb25zdCBuciA9IDM7IC8vIG51bSByb3dzCgogICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29scwoKICAgIGNvbnN0IGVxbnMgPSBbXTsKICAgIGxldCBpOwogICAgbGV0IGo7CgogICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykgewogICAgICBlcW5zLnB1c2goMCk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTsKICAgICAgfQogICAgfQoKICAgIGVxbnNbMyArIDQgKiAwXSA9IGIueDsKICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTsKICAgIGVxbnNbMyArIDQgKiAyXSA9IGIuejsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uCgogICAgbGV0IG4gPSAzOwogICAgY29uc3QgayA9IG47CiAgICBsZXQgbnA7CiAgICBjb25zdCBrcCA9IDQ7IC8vIG51bSByb3dzCgogICAgbGV0IHA7CgogICAgZG8gewogICAgICBpID0gayAtIG47CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGkgKSA9IGxpZ25lKCBpICkgKyBsaWduZSggayApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBrICkgPSBsaWduZSggayApIC0gbXVsdGlwbGllciAqIGxpZ25lKCBpICkKICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IHdoaWxlICgtLW4pOyAvLyBHZXQgdGhlIHNvbHV0aW9uCgoKICAgIHRhcmdldC56ID0gZXFuc1syICogbmMgKyAzXSAvIGVxbnNbMiAqIG5jICsgMl07CiAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07CiAgICB0YXJnZXQueCA9IChlcW5zWzAgKiBuYyArIDNdIC0gZXFuc1swICogbmMgKyAyXSAqIHRhcmdldC56IC0gZXFuc1swICogbmMgKyAxXSAqIHRhcmdldC55KSAvIGVxbnNbMCAqIG5jICsgMF07CgogICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7CiAgICAgIHRocm93ICJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVsiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyAiXSwgYj1bIiArIGIudG9TdHJpbmcoKSArICJdLCBBPVsiICsgdGhpcy50b1N0cmluZygpICsgIl0iOwogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWxlbWVudCBpbiB0aGUgbWF0cml4IGJ5IGluZGV4LiBJbmRleCBzdGFydHMgYXQgMCwgbm90IDEhISENCiAgICogQG1ldGhvZCBlDQogICAqIEBwYXJhbSB7TnVtYmVyfSByb3cNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbg0KICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgT3B0aW9uYWwuIElmIHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnQgd2lsbCBiZSBzZXQgdG8gdGhpcyB2YWx1ZS4NCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGUocm93LCBjb2x1bW4sIHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFNldCB2YWx1ZQogICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb3B5IGFub3RoZXIgbWF0cml4IGludG8gdGhpcyBtYXRyaXggb2JqZWN0Lg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2UNCiAgICogQHJldHVybiB7TWF0M30gdGhpcw0KICAgKi8KCgogIGNvcHkobWF0cml4KSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbWF0cml4LmVsZW1lbnRzW2ldOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4Lg0KICAgKiBAbWV0aG9kIHRvU3RyaW5nDQogICAqIEByZXR1cm4gc3RyaW5nDQogICAqLwoKCiAgdG9TdHJpbmcoKSB7CiAgICBsZXQgciA9ICcnOwogICAgY29uc3Qgc2VwID0gJywnOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7CiAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9CiAgLyoqDQogICAqIHJldmVyc2UgdGhlIG1hdHJpeA0KICAgKiBAbWV0aG9kIHJldmVyc2UNCiAgICogQHBhcmFtIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCBtYXRyaXggdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHNvbHV0aW9uIHgNCiAgICovCgoKICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgIC8vIENvbnN0cnVjdCBlcXVhdGlvbnMKICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3MKCiAgICBjb25zdCBuYyA9IDY7IC8vIG51bSBjb2xzCgogICAgY29uc3QgZXFucyA9IFtdOwogICAgbGV0IGk7CiAgICBsZXQgajsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbnIgKiBuYzsgaSsrKSB7CiAgICAgIGVxbnMucHVzaCgwKTsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICBlcW5zW2kgKyBuYyAqIGpdID0gdGhpcy5lbGVtZW50c1tpICsgMyAqIGpdOwogICAgICB9CiAgICB9CgogICAgZXFuc1szICsgNiAqIDBdID0gMTsKICAgIGVxbnNbMyArIDYgKiAxXSA9IDA7CiAgICBlcW5zWzMgKyA2ICogMl0gPSAwOwogICAgZXFuc1s0ICsgNiAqIDBdID0gMDsKICAgIGVxbnNbNCArIDYgKiAxXSA9IDE7CiAgICBlcW5zWzQgKyA2ICogMl0gPSAwOwogICAgZXFuc1s1ICsgNiAqIDBdID0gMDsKICAgIGVxbnNbNSArIDYgKiAxXSA9IDA7CiAgICBlcW5zWzUgKyA2ICogMl0gPSAxOyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICBsZXQgbiA9IDM7CiAgICBjb25zdCBrID0gbjsKICAgIGxldCBucDsKICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzCgogICAgbGV0IHA7CgogICAgZG8gewogICAgICBpID0gayAtIG47CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGluZSggaSApID0gbGluZSggaSApICsgbGluZSggayApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpICkKICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeAoKCiAgICBpID0gMjsKCiAgICBkbyB7CiAgICAgIGogPSBpIC0gMTsKCiAgICAgIGRvIHsKICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgbnAgPSBuYzsKCiAgICAgICAgZG8gewogICAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICB9IHdoaWxlIChqLS0pOwogICAgfSB3aGlsZSAoLS1pKTsgLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGlhZ29uYWwKCgogICAgaSA9IDI7CgogICAgZG8gewogICAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgIG5wID0gbmM7CgogICAgICBkbyB7CiAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgZXFuc1twICsgbmMgKiBpXSA9IGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICB9IHdoaWxlICgtLW5wKTsKICAgIH0gd2hpbGUgKGktLSk7CgogICAgaSA9IDI7CgogICAgZG8gewogICAgICBqID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBwID0gZXFuc1tuciArIGogKyBuYyAqIGldOwoKICAgICAgICBpZiAoaXNOYU4ocCkgfHwgcCA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgIHRocm93ICJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bIiArIHRoaXMudG9TdHJpbmcoKSArICJdIjsKICAgICAgICB9CgogICAgICAgIHRhcmdldC5lKGksIGosIHApOwogICAgICB9IHdoaWxlIChqLS0pOwogICAgfSB3aGlsZSAoaS0tKTsKCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvbg0KICAgKiBAbWV0aG9kIHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxDQogICAqLwoKCiAgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKSB7CiAgICBjb25zdCB4ID0gcS54OwogICAgY29uc3QgeSA9IHEueTsKICAgIGNvbnN0IHogPSBxLno7CiAgICBjb25zdCB3ID0gcS53OwogICAgY29uc3QgeDIgPSB4ICsgeDsKICAgIGNvbnN0IHkyID0geSArIHk7CiAgICBjb25zdCB6MiA9IHogKyB6OwogICAgY29uc3QgeHggPSB4ICogeDI7CiAgICBjb25zdCB4eSA9IHggKiB5MjsKICAgIGNvbnN0IHh6ID0geCAqIHoyOwogICAgY29uc3QgeXkgPSB5ICogeTI7CiAgICBjb25zdCB5eiA9IHkgKiB6MjsKICAgIGNvbnN0IHp6ID0geiAqIHoyOwogICAgY29uc3Qgd3ggPSB3ICogeDI7CiAgICBjb25zdCB3eSA9IHcgKiB5MjsKICAgIGNvbnN0IHd6ID0gdyAqIHoyOwogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzMgKiAwICsgMF0gPSAxIC0gKHl5ICsgenopOwogICAgZVszICogMCArIDFdID0geHkgLSB3ejsKICAgIGVbMyAqIDAgKyAyXSA9IHh6ICsgd3k7CiAgICBlWzMgKiAxICsgMF0gPSB4eSArIHd6OwogICAgZVszICogMSArIDFdID0gMSAtICh4eCArIHp6KTsKICAgIGVbMyAqIDEgKyAyXSA9IHl6IC0gd3g7CiAgICBlWzMgKiAyICsgMF0gPSB4eiAtIHd5OwogICAgZVszICogMiArIDFdID0geXogKyB3eDsKICAgIGVbMyAqIDIgKyAyXSA9IDEgLSAoeHggKyB5eSk7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4DQogICAqIEBtZXRob2QgdHJhbnNwb3NlDQogICAqIEBwYXJhbSAge01hdDN9IHRhcmdldCBPcHRpb25hbC4gV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdC4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHRhcmdldCBNYXQzLCBvciBhIG5ldyBNYXQzIGlmIHRhcmdldCB3YXMgb21pdHRlZC4NCiAgICovCgoKICB0cmFuc3Bvc2UodGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgY29uc3QgTXQgPSB0YXJnZXQuZWxlbWVudHM7CiAgICBjb25zdCBNID0gdGhpcy5lbGVtZW50czsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAzOyBqKyspIHsKICAgICAgICBNdFszICogaSArIGpdID0gTVszICogaiArIGldOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9Cgp9Ci8qKg0KICogMy1kaW1lbnNpb25hbCB2ZWN0b3INCiAqIEBjbGFzcyBWZWMzDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7TnVtYmVyfSB4DQogKiBAcGFyYW0ge051bWJlcn0geQ0KICogQHBhcmFtIHtOdW1iZXJ9IHoNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBleGFtcGxlDQogKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpOw0KICogICAgIGNvbnNvbGUubG9nKCd4PScgKyB2LngpOyAvLyB4PTENCiAqLwoKCmNsYXNzIFZlYzMgewogIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICB9CiAgLyoqDQogICAqIFZlY3RvciBjcm9zcyBwcm9kdWN0DQogICAqIEBtZXRob2QgY3Jvc3MNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjcm9zcyh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IHZ4ID0gdmVjdG9yLng7CiAgICBjb25zdCB2eSA9IHZlY3Rvci55OwogICAgY29uc3QgdnogPSB2ZWN0b3IuejsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIHRhcmdldC54ID0geSAqIHZ6IC0geiAqIHZ5OwogICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7CiAgICB0YXJnZXQueiA9IHggKiB2eSAtIHkgKiB2eDsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHZlY3RvcnMnIDMgZWxlbWVudHMNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHgNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHkNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHoNCiAgICogQHJldHVybiBWZWMzDQogICAqLwoKCiAgc2V0KHgsIHksIHopIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby4NCiAgICogQG1ldGhvZCBzZXRaZXJvDQogICAqLwoKCiAgc2V0WmVybygpIHsKICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7CiAgfQogIC8qKg0KICAgKiBWZWN0b3IgYWRkaXRpb24NCiAgICogQG1ldGhvZCB2YWRkDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2YWRkKHZlY3RvciwgdGFyZ2V0KSB7CiAgICBpZiAodGFyZ2V0KSB7CiAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7CiAgICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKyB0aGlzLnk7CiAgICAgIHRhcmdldC56ID0gdmVjdG9yLnogKyB0aGlzLno7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54ICsgdmVjdG9yLngsIHRoaXMueSArIHZlY3Rvci55LCB0aGlzLnogKyB2ZWN0b3Iueik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBWZWN0b3Igc3VidHJhY3Rpb24NCiAgICogQG1ldGhvZCB2c3ViDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdnN1Yih2ZWN0b3IsIHRhcmdldCkgewogICAgaWYgKHRhcmdldCkgewogICAgICB0YXJnZXQueCA9IHRoaXMueCAtIHZlY3Rvci54OwogICAgICB0YXJnZXQueSA9IHRoaXMueSAtIHZlY3Rvci55OwogICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHZlY3Rvci54LCB0aGlzLnkgLSB2ZWN0b3IueSwgdGhpcy56IC0gdmVjdG9yLnopOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IHRoZSBjcm9zcyBwcm9kdWN0IG1hdHJpeCBhX2Nyb3NzIGZyb20gYSB2ZWN0b3IsIHN1Y2ggdGhhdCBhIHggYiA9IGFfY3Jvc3MgKiBiID0gYw0KICAgKiBAbWV0aG9kIGNyb3NzbWF0DQogICAqIEBzZWUgaHR0cDovL3d3dzguY3MudW11LnNlL2t1cnNlci9UREJEMjQvVlQwNi9sZWN0dXJlcy9MZWN0dXJlNi5wZGYNCiAgICogQHJldHVybiB7TWF0M30NCiAgICovCgoKICBjcm9zc21hdCgpIHsKICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pOwogIH0KICAvKioNCiAgICogTm9ybWFsaXplIHRoZSB2ZWN0b3IuIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBpbiB0aGUgdmVjdG9yLg0KICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFJldHVybnMgdGhlIG5vcm0gb2YgdGhlIHZlY3Rvcg0KICAgKi8KCgogIG5vcm1hbGl6ZSgpIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICBpZiAobiA+IDAuMCkgewogICAgICBjb25zdCBpbnZOID0gMSAvIG47CiAgICAgIHRoaXMueCAqPSBpbnZOOwogICAgICB0aGlzLnkgKj0gaW52TjsKICAgICAgdGhpcy56ICo9IGludk47CiAgICB9IGVsc2UgewogICAgICAvLyBNYWtlIHNvbWV0aGluZyB1cAogICAgICB0aGlzLnggPSAwOwogICAgICB0aGlzLnkgPSAwOwogICAgICB0aGlzLnogPSAwOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KICAvKioNCiAgICogR2V0IHRoZSB2ZXJzaW9uIG9mIHRoaXMgdmVjdG9yIHRoYXQgaXMgb2YgbGVuZ3RoIDEuDQogICAqIEBtZXRob2QgdW5pdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbg0KICAgKiBAcmV0dXJuIHtWZWMzfSBSZXR1cm5zIHRoZSB1bml0IHZlY3Rvcg0KICAgKi8KCgogIHVuaXQodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgbGV0IG5pbnYgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICBpZiAobmludiA+IDAuMCkgewogICAgICBuaW52ID0gMS4wIC8gbmludjsKICAgICAgdGFyZ2V0LnggPSB4ICogbmludjsKICAgICAgdGFyZ2V0LnkgPSB5ICogbmludjsKICAgICAgdGFyZ2V0LnogPSB6ICogbmludjsKICAgIH0gZWxzZSB7CiAgICAgIHRhcmdldC54ID0gMTsKICAgICAgdGFyZ2V0LnkgPSAwOwogICAgICB0YXJnZXQueiA9IDA7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3INCiAgICogQG1ldGhvZCBsZW5ndGgNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGxlbmd0aCgpIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIHZlY3Rvci4NCiAgICogQG1ldGhvZCBsZW5ndGhTcXVhcmVkDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBsZW5ndGhTcXVhcmVkKCkgewogICAgcmV0dXJuIHRoaXMuZG90KHRoaXMpOwogIH0KICAvKioNCiAgICogR2V0IGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50DQogICAqIEBtZXRob2QgZGlzdGFuY2VUbw0KICAgKiBAcGFyYW0gIHtWZWMzfSBwDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBkaXN0YW5jZVRvKHApIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHB4ID0gcC54OwogICAgY29uc3QgcHkgPSBwLnk7CiAgICBjb25zdCBweiA9IHAuejsKICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTsKICB9CiAgLyoqDQogICAqIEdldCBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50DQogICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkDQogICAqIEBwYXJhbSAge1ZlYzN9IHANCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRpc3RhbmNlU3F1YXJlZChwKSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICBjb25zdCBweCA9IHAueDsKICAgIGNvbnN0IHB5ID0gcC55OwogICAgY29uc3QgcHogPSBwLno7CiAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3Igd2l0aCBhIHNjYWxhci4NCiAgICogQG1ldGhvZCBzY2FsZQ0KICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHNjYWxlKHNjYWxhciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4OwogICAgdGFyZ2V0LnkgPSBzY2FsYXIgKiB5OwogICAgdGFyZ2V0LnogPSBzY2FsYXIgKiB6OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIE11bHRpcGx5IHRoZSB2ZWN0b3Igd2l0aCBhbiBvdGhlciB2ZWN0b3IsIGNvbXBvbmVudC13aXNlLg0KICAgKiBAbWV0aG9kIHZtdWx0DQogICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWN0b3INCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHRhcmdldC54ID0gdmVjdG9yLnggKiB0aGlzLng7CiAgICB0YXJnZXQueSA9IHZlY3Rvci55ICogdGhpcy55OwogICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTY2FsZSBhIHZlY3RvciBhbmQgYWRkIGl0IHRvIHRoaXMgdmVjdG9yLiBTYXZlIHRoZSByZXN1bHQgaW4gInRhcmdldCIuICh0YXJnZXQgPSB0aGlzICsgdmVjdG9yICogc2NhbGFyKQ0KICAgKiBAbWV0aG9kIGFkZFNjYWxlZFZlY3Rvcg0KICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyDQogICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSB0aGlzLnggKyBzY2FsYXIgKiB2ZWN0b3IueDsKICAgIHRhcmdldC55ID0gdGhpcy55ICsgc2NhbGFyICogdmVjdG9yLnk7CiAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENhbGN1bGF0ZSBkb3QgcHJvZHVjdA0KICAgKiBAbWV0aG9kIGRvdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHYNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRvdCh2ZWN0b3IpIHsKICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55ICsgdGhpcy56ICogdmVjdG9yLno7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGlzWmVybw0KICAgKiBAcmV0dXJuIGJvb2wNCiAgICovCgoKICBpc1plcm8oKSB7CiAgICByZXR1cm4gdGhpcy54ID09PSAwICYmIHRoaXMueSA9PT0gMCAmJiB0aGlzLnogPT09IDA7CiAgfQogIC8qKg0KICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4NCiAgICogQG1ldGhvZCBuZWdhdGUNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSAtdGhpcy54OwogICAgdGFyZ2V0LnkgPSAtdGhpcy55OwogICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3Rvcg0KICAgKiBAbWV0aG9kIHRhbmdlbnRzDQogICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluDQogICAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbg0KICAgKi8KCgogIHRhbmdlbnRzKHQxLCB0MikgewogICAgY29uc3Qgbm9ybSA9IHRoaXMubGVuZ3RoKCk7CgogICAgaWYgKG5vcm0gPiAwLjApIHsKICAgICAgY29uc3QgbiA9IFZlYzNfdGFuZ2VudHNfbjsKICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTsKICAgICAgbi5zZXQodGhpcy54ICogaW5vcm0sIHRoaXMueSAqIGlub3JtLCB0aGlzLnogKiBpbm9ybSk7CiAgICAgIGNvbnN0IHJhbmRWZWMgPSBWZWMzX3RhbmdlbnRzX3JhbmRWZWM7CgogICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkgewogICAgICAgIHJhbmRWZWMuc2V0KDEsIDAsIDApOwogICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHJhbmRWZWMuc2V0KDAsIDEsIDApOwogICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICB9CgogICAgICBuLmNyb3NzKHQxLCB0Mik7CiAgICB9IGVsc2UgewogICAgICAvLyBUaGUgbm9ybWFsIGxlbmd0aCBpcyB6ZXJvLCBtYWtlIHNvbWV0aGluZyB1cAogICAgICB0MS5zZXQoMSwgMCwgMCk7CiAgICAgIHQyLnNldCgwLCAxLCAwKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENvbnZlcnRzIHRvIGEgbW9yZSByZWFkYWJsZSBmb3JtYXQNCiAgICogQG1ldGhvZCB0b1N0cmluZw0KICAgKiBAcmV0dXJuIHN0cmluZw0KICAgKi8KCgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMuejsKICB9CiAgLyoqDQogICAqIENvbnZlcnRzIHRvIGFuIGFycmF5DQogICAqIEBtZXRob2QgdG9BcnJheQ0KICAgKiBAcmV0dXJuIEFycmF5DQogICAqLwoKCiAgdG9BcnJheSgpIHsKICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07CiAgfQogIC8qKg0KICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtWZWMzfSBzb3VyY2UNCiAgICogQHJldHVybiB7VmVjM30gdGhpcw0KICAgKi8KCgogIGNvcHkodmVjdG9yKSB7CiAgICB0aGlzLnggPSB2ZWN0b3IueDsKICAgIHRoaXMueSA9IHZlY3Rvci55OwogICAgdGhpcy56ID0gdmVjdG9yLno7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9ycw0KICAgKiBAbWV0aG9kIGxlcnANCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7TnVtYmVyfSB0IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gMCB3aWxsIG1ha2UgdGhpcyBmdW5jdGlvbiByZXR1cm4gdSwgYW5kIDEgd2lsbCBtYWtlIGl0IHJldHVybiB2LiBOdW1iZXJzIGluIGJldHdlZW4gd2lsbCBnZW5lcmF0ZSBhIHZlY3RvciBpbiBiZXR3ZWVuIHRoZW0uDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogICAqLwoKCiAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSB4ICsgKHZlY3Rvci54IC0geCkgKiB0OwogICAgdGFyZ2V0LnkgPSB5ICsgKHZlY3Rvci55IC0geSkgKiB0OwogICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0OwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgZXF1YWxzIGlzIGFsbW9zdCBlcXVhbCB0byBhbm90aGVyIG9uZS4NCiAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHMNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb24NCiAgICogQHJldHVybiBib29sDQogICAqLwoKCiAgYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uID0gMWUtNikgewogICAgaWYgKE1hdGguYWJzKHRoaXMueCAtIHZlY3Rvci54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkgLSB2ZWN0b3IueSkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy56IC0gdmVjdG9yLnopID4gcHJlY2lzaW9uKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvDQogICAqIEBtZXRob2QgYWxtb3N0WmVybw0KICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uDQogICAqLwoKCiAgYWxtb3N0WmVybyhwcmVjaXNpb24gPSAxZS02KSB7CiAgICBpZiAoTWF0aC5hYnModGhpcy54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueikgPiBwcmVjaXNpb24pIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGlzQW50aXBhcmFsbGVsVG8NCiAgICogQHBhcmFtICB7VmVjM30gIHYNCiAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29ucw0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGlzQW50aXBhcmFsbGVsVG8odmVjdG9yLCBwcmVjaXNpb24pIHsKICAgIHRoaXMubmVnYXRlKGFudGlwX25lZyk7CiAgICByZXR1cm4gYW50aXBfbmVnLmFsbW9zdEVxdWFscyh2ZWN0b3IsIHByZWNpc2lvbik7CiAgfQogIC8qKg0KICAgKiBDbG9uZSB0aGUgdmVjdG9yDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLngsIHRoaXMueSwgdGhpcy56KTsKICB9Cgp9CgpWZWMzLlpFUk8gPSBuZXcgVmVjMygwLCAwLCAwKTsKVmVjMy5VTklUX1ggPSBuZXcgVmVjMygxLCAwLCAwKTsKVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTsKVmVjMy5VTklUX1ogPSBuZXcgVmVjMygwLCAwLCAxKTsKLyoqDQogKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3INCiAqIEBtZXRob2QgdGFuZ2VudHMNCiAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluDQogKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW4NCiAqLwoKY29uc3QgVmVjM190YW5nZW50c19uID0gbmV3IFZlYzMoKTsKY29uc3QgVmVjM190YW5nZW50c19yYW5kVmVjID0gbmV3IFZlYzMoKTsKY29uc3QgYW50aXBfbmVnID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLg0KICogQGNsYXNzIEFBQkINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLnVwcGVyQm91bmRdIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94Lg0KICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLmxvd2VyQm91bmRdIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94DQogKi8KCmNsYXNzIEFBQkIgewogIC8vIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94CiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIHRoaXMubG93ZXJCb3VuZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLmxvd2VyQm91bmQpIHsKICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkob3B0aW9ucy5sb3dlckJvdW5kKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy51cHBlckJvdW5kKSB7CiAgICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KG9wdGlvbnMudXBwZXJCb3VuZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIEFBQkIgYm91bmRzIGZyb20gYSBzZXQgb2YgcG9pbnRzLg0KICAgKiBAbWV0aG9kIHNldEZyb21Qb2ludHMNCiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncy4NCiAgICogQHBhcmFtIHtWZWMzfSBwb3NpdGlvbiBPcHRpb25hbC4NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ZXJuaW9uIE9wdGlvbmFsLg0KICAgKiBAcGFyYW0ge251bWJlcn0gc2tpblNpemUgT3B0aW9uYWwuDQogICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBzZWxmIG9iamVjdA0KICAgKi8KCgogIHNldEZyb21Qb2ludHMocG9pbnRzLCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2tpblNpemUpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgY29uc3QgcSA9IHF1YXRlcm5pb247IC8vIFNldCB0byB0aGUgZmlyc3QgcG9pbnQKCiAgICBsLmNvcHkocG9pbnRzWzBdKTsKCiAgICBpZiAocSkgewogICAgICBxLnZtdWx0KGwsIGwpOwogICAgfQoKICAgIHUuY29weShsKTsKCiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgewogICAgICBsZXQgcCA9IHBvaW50c1tpXTsKCiAgICAgIGlmIChxKSB7CiAgICAgICAgcS52bXVsdChwLCB0bXApOwogICAgICAgIHAgPSB0bXA7CiAgICAgIH0KCiAgICAgIGlmIChwLnggPiB1LngpIHsKICAgICAgICB1LnggPSBwLng7CiAgICAgIH0KCiAgICAgIGlmIChwLnggPCBsLngpIHsKICAgICAgICBsLnggPSBwLng7CiAgICAgIH0KCiAgICAgIGlmIChwLnkgPiB1LnkpIHsKICAgICAgICB1LnkgPSBwLnk7CiAgICAgIH0KCiAgICAgIGlmIChwLnkgPCBsLnkpIHsKICAgICAgICBsLnkgPSBwLnk7CiAgICAgIH0KCiAgICAgIGlmIChwLnogPiB1LnopIHsKICAgICAgICB1LnogPSBwLno7CiAgICAgIH0KCiAgICAgIGlmIChwLnogPCBsLnopIHsKICAgICAgICBsLnogPSBwLno7CiAgICAgIH0KICAgIH0gLy8gQWRkIG9mZnNldAoKCiAgICBpZiAocG9zaXRpb24pIHsKICAgICAgcG9zaXRpb24udmFkZChsLCBsKTsKICAgICAgcG9zaXRpb24udmFkZCh1LCB1KTsKICAgIH0KCiAgICBpZiAoc2tpblNpemUpIHsKICAgICAgbC54IC09IHNraW5TaXplOwogICAgICBsLnkgLT0gc2tpblNpemU7CiAgICAgIGwueiAtPSBza2luU2l6ZTsKICAgICAgdS54ICs9IHNraW5TaXplOwogICAgICB1LnkgKz0gc2tpblNpemU7CiAgICAgIHUueiArPSBza2luU2l6ZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkINCiAgICogQG1ldGhvZCBjb3B5DQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmIgU291cmNlIHRvIGNvcHkgZnJvbQ0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkNCiAgICovCgoKICBjb3B5KGFhYmIpIHsKICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KGFhYmIubG93ZXJCb3VuZCk7CiAgICB0aGlzLnVwcGVyQm91bmQuY29weShhYWJiLnVwcGVyQm91bmQpOwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDbG9uZSBhbiBBQUJCDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgQUFCQigpLmNvcHkodGhpcyk7CiAgfQogIC8qKg0KICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby4NCiAgICogQG1ldGhvZCBleHRlbmQNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKi8KCgogIGV4dGVuZChhYWJiKSB7CiAgICB0aGlzLmxvd2VyQm91bmQueCA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueCk7CiAgICB0aGlzLnVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueCk7CiAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7CiAgICB0aGlzLnVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC55LCBhYWJiLnVwcGVyQm91bmQueSk7CiAgICB0aGlzLmxvd2VyQm91bmQueiA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC56LCBhYWJiLmxvd2VyQm91bmQueik7CiAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7CiAgfQogIC8qKg0KICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEFBQkIgb3ZlcmxhcHMgdGhpcyBBQUJCLg0KICAgKiBAbWV0aG9kIG92ZXJsYXBzDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBvdmVybGFwcyhhYWJiKSB7CiAgICBjb25zdCBsMSA9IHRoaXMubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1MiA9IGFhYmIudXBwZXJCb3VuZDsgLy8gICAgICBsMiAgICAgICAgdTIKICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgIC8vIHwtLS0tLS0tLXwKICAgIC8vIGwxICAgICAgIHUxCgogICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54OwogICAgY29uc3Qgb3ZlcmxhcHNZID0gbDIueSA8PSB1MS55ICYmIHUxLnkgPD0gdTIueSB8fCBsMS55IDw9IHUyLnkgJiYgdTIueSA8PSB1MS55OwogICAgY29uc3Qgb3ZlcmxhcHNaID0gbDIueiA8PSB1MS56ICYmIHUxLnogPD0gdTIueiB8fCBsMS56IDw9IHUyLnogJiYgdTIueiA8PSB1MS56OwogICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaOwogIH0gLy8gTW9zdGx5IGZvciBkZWJ1Z2dpbmcKCgogIHZvbHVtZSgpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgcmV0dXJuICh1LnggLSBsLngpICogKHUueSAtIGwueSkgKiAodS56IC0gbC56KTsKICB9CiAgLyoqDQogICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLg0KICAgKiBAbWV0aG9kIGNvbnRhaW5zDQogICAqIEBwYXJhbSB7QUFCQn0gYWFiYg0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGNvbnRhaW5zKGFhYmIpIHsKICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MgogICAgLy8gICAgICB8LS0tLS0tLS0tfAogICAgLy8gfC0tLS0tLS0tLS0tLS0tLXwKICAgIC8vIGwxICAgICAgICAgICAgICB1MQoKICAgIHJldHVybiBsMS54IDw9IGwyLnggJiYgdTEueCA+PSB1Mi54ICYmIGwxLnkgPD0gbDIueSAmJiB1MS55ID49IHUyLnkgJiYgbDEueiA8PSBsMi56ICYmIHUxLnogPj0gdTIuejsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgZ2V0Q29ybmVycw0KICAgKiBAcGFyYW0ge1ZlYzN9IGENCiAgICogQHBhcmFtIHtWZWMzfSBiDQogICAqIEBwYXJhbSB7VmVjM30gYw0KICAgKiBAcGFyYW0ge1ZlYzN9IGQNCiAgICogQHBhcmFtIHtWZWMzfSBlDQogICAqIEBwYXJhbSB7VmVjM30gZg0KICAgKiBAcGFyYW0ge1ZlYzN9IGcNCiAgICogQHBhcmFtIHtWZWMzfSBoDQogICAqLwoKCiAgZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7CiAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDsKICAgIGEuY29weShsKTsKICAgIGIuc2V0KHUueCwgbC55LCBsLnopOwogICAgYy5zZXQodS54LCB1LnksIGwueik7CiAgICBkLnNldChsLngsIHUueSwgdS56KTsKICAgIGUuc2V0KHUueCwgbC55LCB1LnopOwogICAgZi5zZXQobC54LCB1LnksIGwueik7CiAgICBnLnNldChsLngsIGwueSwgdS56KTsKICAgIGguY29weSh1KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiBhbm90aGVyIGZyYW1lLg0KICAgKiBAbWV0aG9kIHRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lDQogICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgInRhcmdldCIgQUFCQiBvYmplY3QuDQogICAqLwoKCiAgdG9Mb2NhbEZyYW1lKGZyYW1lLCB0YXJnZXQpIHsKICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdOwogICAgY29uc3QgYiA9IGNvcm5lcnNbMV07CiAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdOwogICAgY29uc3QgZSA9IGNvcm5lcnNbNF07CiAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdOwogICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWUKCiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTsKICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS4NCiAgICogQG1ldGhvZCB0b1dvcmxkRnJhbWUNCiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSBmcmFtZQ0KICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXQNCiAgICogQHJldHVybiB7QUFCQn0gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0Lg0KICAgKi8KCgogIHRvV29ybGRGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7CiAgICBjb25zdCBhID0gY29ybmVyc1swXTsKICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgY29uc3QgYyA9IGNvcm5lcnNbMl07CiAgICBjb25zdCBkID0gY29ybmVyc1szXTsKICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgY29uc3QgZiA9IGNvcm5lcnNbNV07CiAgICBjb25zdCBnID0gY29ybmVyc1s2XTsKICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWUKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5Lg0KICAgKiBAcGFyYW0gIHtSYXl9IHJheQ0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIG92ZXJsYXBzUmF5KHJheSkgewogICAgY29uc3QgewogICAgICBkaXJlY3Rpb24sCiAgICAgIGZyb20KICAgIH0gPSByYXk7CiAgICBjb25zdCBkaXJGcmFjWCA9IDEgLyBkaXJlY3Rpb24ueDsKICAgIGNvbnN0IGRpckZyYWNZID0gMSAvIGRpcmVjdGlvbi55OwogICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyCgogICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7CiAgICBjb25zdCB0MiA9ICh0aGlzLnVwcGVyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDsKICAgIGNvbnN0IHQzID0gKHRoaXMubG93ZXJCb3VuZC55IC0gZnJvbS55KSAqIGRpckZyYWNZOwogICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7CiAgICBjb25zdCB0NSA9ICh0aGlzLmxvd2VyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsKICAgIGNvbnN0IHQ2ID0gKHRoaXMudXBwZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOyAvLyBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSkpOwogICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTsKCiAgICBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSksIE1hdGgubWluKHQ1LCB0NikpOwogICAgY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpLCBNYXRoLm1heCh0NSwgdDYpKTsgLy8gaWYgdG1heCA8IDAsIHJheSAobGluZSkgaXMgaW50ZXJzZWN0aW5nIEFBQkIsIGJ1dCB3aG9sZSBBQUJCIGlzIGJlaGluZyB1cwoKICAgIGlmICh0bWF4IDwgMCkgewogICAgICAvL3QgPSB0bWF4OwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IC8vIGlmIHRtaW4gPiB0bWF4LCByYXkgZG9lc24ndCBpbnRlcnNlY3QgQUFCQgoKCiAgICBpZiAodG1pbiA+IHRtYXgpIHsKICAgICAgLy90ID0gdG1heDsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCn0KCmNvbnN0IHRtcCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwovKioNCiAqIENvbGxpc2lvbiAibWF0cml4Ii4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcA0KICogQGNsYXNzIEFycmF5Q29sbGlzaW9uTWF0cml4DQogKiBAY29uc3RydWN0b3INCiAqLwoKY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXggewogIC8vIFRoZSBtYXRyaXggc3RvcmFnZS4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMubWF0cml4ID0gW107CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWxlbWVudA0KICAgKiBAbWV0aG9kIGdldA0KICAgKiBAcGFyYW0gIHtCb2R5fSBpDQogICAqIEBwYXJhbSAge0JvZHl9IGoNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGdldChiaSwgYmopIHsKICAgIGxldCB7CiAgICAgIGluZGV4OiBpCiAgICB9ID0gYmk7CiAgICBsZXQgewogICAgICBpbmRleDogagogICAgfSA9IGJqOwoKICAgIGlmIChqID4gaSkgewogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIHJldHVybiB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV07CiAgfQogIC8qKg0KICAgKiBTZXQgYW4gZWxlbWVudA0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge0JvZHl9IGkNCiAgICogQHBhcmFtIHtCb2R5fSBqDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUNCiAgICovCgoKICBzZXQoYmksIGJqLCB2YWx1ZSkgewogICAgbGV0IHsKICAgICAgaW5kZXg6IGkKICAgIH0gPSBiaTsKICAgIGxldCB7CiAgICAgIGluZGV4OiBqCiAgICB9ID0gYmo7CgogICAgaWYgKGogPiBpKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdID0gdmFsdWUgPyAxIDogMDsKICB9CiAgLyoqDQogICAqIFNldHMgYWxsIGVsZW1lbnRzIHRvIHplcm8NCiAgICogQG1ldGhvZCByZXNldA0KICAgKi8KCgogIHJlc2V0KCkgewogICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1hdHJpeC5sZW5ndGg7IGkgIT09IGw7IGkrKykgewogICAgICB0aGlzLm1hdHJpeFtpXSA9IDA7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXRzIHRoZSBtYXggbnVtYmVyIG9mIG9iamVjdHMNCiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzDQogICAqIEBwYXJhbSB7TnVtYmVyfSBuDQogICAqLwoKCiAgc2V0TnVtT2JqZWN0cyhuKSB7CiAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxOwogIH0KCn0KLyoqDQogKiBCYXNlIGNsYXNzIGZvciBvYmplY3RzIHRoYXQgZGlzcGF0Y2hlcyBldmVudHMuDQogKiBAY2xhc3MgRXZlbnRUYXJnZXQNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgRXZlbnRUYXJnZXQgewogIGNvbnN0cnVjdG9yKCkge30KICAvKioNCiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyDQogICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9OwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICB9CgogICAgaWYgKCFsaXN0ZW5lcnNbdHlwZV0uaW5jbHVkZXMobGlzdGVuZXIpKSB7CiAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkDQogICAqIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAqLwoKCiAgaGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgaWYgKGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYW55IGV2ZW50IGxpc3RlbmVyIG9mIHRoZSBnaXZlbiB0eXBlIGlzIGFkZGVkDQogICAqIEBtZXRob2QgaGFzQW55RXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBoYXNBbnlFdmVudExpc3RlbmVyKHR5cGUpIHsKICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkOwogIH0KICAvKioNCiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyDQogICAqIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik7CgogICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICBsaXN0ZW5lcnNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIEVtaXQgYW4gZXZlbnQuDQogICAqIEBtZXRob2QgZGlzcGF0Y2hFdmVudA0KICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50DQogICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQudHlwZQ0KICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5Lg0KICAgKi8KCgogIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsKICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CiAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdOwoKICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpczsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKfQovKioKICogQSBRdWF0ZXJuaW9uIGRlc2NyaWJlcyBhIHJvdGF0aW9uIGluIDNEIHNwYWNlLiBUaGUgUXVhdGVybmlvbiBpcyBtYXRoZW1hdGljYWxseSBkZWZpbmVkIGFzIFEgPSB4KmkgKyB5KmogKyB6KmsgKyB3LCB3aGVyZSAoaSxqLGspIGFyZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9ycy4gKHgseSx6KSBjYW4gYmUgc2VlbiBhcyBhIHZlY3RvciByZWxhdGVkIHRvIHRoZSBheGlzIG9mIHJvdGF0aW9uLCB3aGlsZSB0aGUgcmVhbCBtdWx0aXBsaWVyLCB3LCBpcyByZWxhdGVkIHRvIHRoZSBhbW91bnQgb2Ygcm90YXRpb24uCiAqIEBwYXJhbSB7TnVtYmVyfSB4IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3IgaS4KICogQHBhcmFtIHtOdW1iZXJ9IHkgTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBqLgogKiBAcGFyYW0ge051bWJlcn0geiBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGsuCiAqIEBwYXJhbSB7TnVtYmVyfSB3IE11bHRpcGxpZXIgb2YgdGhlIHJlYWwgcGFydC4KICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1F1YXRlcm5pb24KICovCgoKY2xhc3MgUXVhdGVybmlvbiB7CiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDEpIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICAgIHRoaXMudyA9IHc7CiAgfQogIC8qKgogICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uCiAgICovCgoKICBzZXQoeCwgeSwgeiwgdykgewogICAgdGhpcy54ID0geDsKICAgIHRoaXMueSA9IHk7CiAgICB0aGlzLnogPSB6OwogICAgdGhpcy53ID0gdzsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioKICAgKiBDb252ZXJ0IHRvIGEgcmVhZGFibGUgZm9ybWF0CiAgICogQHJldHVybiB7U3RyaW5nfSAieCx5LHosdyIKICAgKi8KCgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMueiArICIsIiArIHRoaXMudzsKICB9CiAgLyoqCiAgICogQ29udmVydCB0byBhbiBBcnJheQogICAqIEByZXR1cm4ge0FycmF5fSBbeCwgeSwgeiwgd10KICAgKi8KCgogIHRvQXJyYXkoKSB7CiAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMud107CiAgfQogIC8qKgogICAqIFNldCB0aGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGdpdmVuIGFuIGF4aXMgYW5kIGFuIGFuZ2xlIGluIHJhZGlhbnMuCiAgICovCgoKICBzZXRGcm9tQXhpc0FuZ2xlKHZlY3RvciwgYW5nbGUpIHsKICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSAqIDAuNSk7CiAgICB0aGlzLnggPSB2ZWN0b3IueCAqIHM7CiAgICB0aGlzLnkgPSB2ZWN0b3IueSAqIHM7CiAgICB0aGlzLnogPSB2ZWN0b3IueiAqIHM7CiAgICB0aGlzLncgPSBNYXRoLmNvcyhhbmdsZSAqIDAuNSk7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqCiAgICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gWyBheGlzLCBhbmdsZSBdIHJlcHJlc2VudGF0aW9uLgogICAqIEBwYXJhbSB7VmVjM30gW3RhcmdldEF4aXNdIEEgdmVjdG9yIG9iamVjdCB0byByZXVzZSBmb3Igc3RvcmluZyB0aGUgYXhpcy4KICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXksIGZpcnN0IGVsZW1lbnQgaXMgdGhlIGF4aXMgYW5kIHRoZSBzZWNvbmQgaXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMuCiAgICovCgoKICB0b0F4aXNBbmdsZSh0YXJnZXRBeGlzID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWQKCiAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLmFjb3ModGhpcy53KTsKICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHRoaXMudyAqIHRoaXMudyk7IC8vIGFzc3VtaW5nIHF1YXRlcm5pb24gbm9ybWFsaXNlZCB0aGVuIHcgaXMgbGVzcyB0aGFuIDEsIHNvIHRlcm0gYWx3YXlzIHBvc2l0aXZlLgoKICAgIGlmIChzIDwgMC4wMDEpIHsKICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnQKICAgICAgLy8gaWYgcyBjbG9zZSB0byB6ZXJvIHRoZW4gZGlyZWN0aW9uIG9mIGF4aXMgbm90IGltcG9ydGFudAogICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wOwoKICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55OwogICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLno7CiAgICB9IGVsc2UgewogICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLnggLyBzOyAvLyBub3JtYWxpc2UgYXhpcwoKICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55IC8gczsKICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56IC8gczsKICAgIH0KCiAgICByZXR1cm4gW3RhcmdldEF4aXMsIGFuZ2xlXTsKICB9CiAgLyoqCiAgICogU2V0IHRoZSBxdWF0ZXJuaW9uIHZhbHVlIGdpdmVuIHR3byB2ZWN0b3JzLiBUaGUgcmVzdWx0aW5nIHJvdGF0aW9uIHdpbGwgYmUgdGhlIG5lZWRlZCByb3RhdGlvbiB0byByb3RhdGUgdSB0byB2LgogICAqLwoKCiAgc2V0RnJvbVZlY3RvcnModSwgdikgewogICAgaWYgKHUuaXNBbnRpcGFyYWxsZWxUbyh2KSkgewogICAgICBjb25zdCB0MSA9IHNmdl90MTsKICAgICAgY29uc3QgdDIgPSBzZnZfdDI7CiAgICAgIHUudGFuZ2VudHModDEsIHQyKTsKICAgICAgdGhpcy5zZXRGcm9tQXhpc0FuZ2xlKHQxLCBNYXRoLlBJKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGEgPSB1LmNyb3NzKHYpOwogICAgICB0aGlzLnggPSBhLng7CiAgICAgIHRoaXMueSA9IGEueTsKICAgICAgdGhpcy56ID0gYS56OwogICAgICB0aGlzLncgPSBNYXRoLnNxcnQodS5sZW5ndGgoKSAqKiAyICogdi5sZW5ndGgoKSAqKiAyKSArIHUuZG90KHYpOwogICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioKICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uCiAgICovCgoKICBtdWx0KHF1YXQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgIGNvbnN0IGF4ID0gdGhpcy54OwogICAgY29uc3QgYXkgPSB0aGlzLnk7CiAgICBjb25zdCBheiA9IHRoaXMuejsKICAgIGNvbnN0IGF3ID0gdGhpcy53OwogICAgY29uc3QgYnggPSBxdWF0Lng7CiAgICBjb25zdCBieSA9IHF1YXQueTsKICAgIGNvbnN0IGJ6ID0gcXVhdC56OwogICAgY29uc3QgYncgPSBxdWF0Lnc7CiAgICB0YXJnZXQueCA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7CiAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7CiAgICB0YXJnZXQueiA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7CiAgICB0YXJnZXQudyA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioKICAgKiBHZXQgdGhlIGludmVyc2UgcXVhdGVybmlvbiByb3RhdGlvbi4KICAgKi8KCgogIGludmVyc2UodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgY29uc3QgdyA9IHRoaXMudzsKICAgIHRoaXMuY29uanVnYXRlKHRhcmdldCk7CiAgICBjb25zdCBpbm9ybTIgPSAxIC8gKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTsKICAgIHRhcmdldC54ICo9IGlub3JtMjsKICAgIHRhcmdldC55ICo9IGlub3JtMjsKICAgIHRhcmdldC56ICo9IGlub3JtMjsKICAgIHRhcmdldC53ICo9IGlub3JtMjsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKgogICAqIEdldCB0aGUgcXVhdGVybmlvbiBjb25qdWdhdGUKICAgKi8KCgogIGNvbmp1Z2F0ZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICB0YXJnZXQueCA9IC10aGlzLng7CiAgICB0YXJnZXQueSA9IC10aGlzLnk7CiAgICB0YXJnZXQueiA9IC10aGlzLno7CiAgICB0YXJnZXQudyA9IHRoaXMudzsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKgogICAqIE5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbi4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBxdWF0ZXJuaW9uLgogICAqIEBtZXRob2Qgbm9ybWFsaXplCiAgICovCgoKICBub3JtYWxpemUoKSB7CiAgICBsZXQgbCA9IE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpOwoKICAgIGlmIChsID09PSAwKSB7CiAgICAgIHRoaXMueCA9IDA7CiAgICAgIHRoaXMueSA9IDA7CiAgICAgIHRoaXMueiA9IDA7CiAgICAgIHRoaXMudyA9IDA7CiAgICB9IGVsc2UgewogICAgICBsID0gMSAvIGw7CiAgICAgIHRoaXMueCAqPSBsOwogICAgICB0aGlzLnkgKj0gbDsKICAgICAgdGhpcy56ICo9IGw7CiAgICAgIHRoaXMudyAqPSBsOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioKICAgKiBBcHByb3hpbWF0aW9uIG9mIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gV29ya3MgYmVzdCB3aGVuIHF1YXQgaXMgYWxyZWFkeSBhbG1vc3Qtbm9ybWFsaXplZC4KICAgKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2Zhc3QtcXVhdGVybmlvbi1ub3JtYWxpemF0aW9uCiAgICogQGF1dGhvciB1bnBoYXNlZCwgaHR0cHM6Ly9naXRodWIuY29tL3VucGhhc2VkCiAgICovCgoKICBub3JtYWxpemVGYXN0KCkgewogICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7CgogICAgaWYgKGYgPT09IDApIHsKICAgICAgdGhpcy54ID0gMDsKICAgICAgdGhpcy55ID0gMDsKICAgICAgdGhpcy56ID0gMDsKICAgICAgdGhpcy53ID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMueCAqPSBmOwogICAgICB0aGlzLnkgKj0gZjsKICAgICAgdGhpcy56ICo9IGY7CiAgICAgIHRoaXMudyAqPSBmOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioKICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3RvcgogICAqLwoKCiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHYueDsKICAgIGNvbnN0IHkgPSB2Lnk7CiAgICBjb25zdCB6ID0gdi56OwogICAgY29uc3QgcXggPSB0aGlzLng7CiAgICBjb25zdCBxeSA9IHRoaXMueTsKICAgIGNvbnN0IHF6ID0gdGhpcy56OwogICAgY29uc3QgcXcgPSB0aGlzLnc7IC8vIHEqdgoKICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5OwogICAgY29uc3QgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7CiAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDsKICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsKICAgIHRhcmdldC54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTsKICAgIHRhcmdldC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejsKICAgIHRhcmdldC56ID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKgogICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLgogICAqIEBtZXRob2QgY29weQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gc291cmNlCiAgICogQHJldHVybiB7UXVhdGVybmlvbn0gdGhpcwogICAqLwoKCiAgY29weShxdWF0KSB7CiAgICB0aGlzLnggPSBxdWF0Lng7CiAgICB0aGlzLnkgPSBxdWF0Lnk7CiAgICB0aGlzLnogPSBxdWF0Lno7CiAgICB0aGlzLncgPSBxdWF0Lnc7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqCiAgICogQ29udmVydCB0aGUgcXVhdGVybmlvbiB0byBldWxlciBhbmdsZSByZXByZXNlbnRhdGlvbi4gT3JkZXI6IFlaWCwgYXMgdGhpcyBwYWdlIGRlc2NyaWJlczogaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvc3RhbmRhcmRzL2luZGV4Lmh0bQogICAqIEBtZXRob2QgdG9FdWxlcgogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0CiAgICogQHBhcmFtIHtTdHJpbmd9IG9yZGVyIFRocmVlLWNoYXJhY3RlciBzdHJpbmcsIGRlZmF1bHRzIHRvICJZWlgiCiAgICovCgoKICB0b0V1bGVyKHRhcmdldCwgb3JkZXIgPSAnWVpYJykgewogICAgbGV0IGhlYWRpbmc7CiAgICBsZXQgYXR0aXR1ZGU7CiAgICBsZXQgYmFuazsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHcgPSB0aGlzLnc7CgogICAgc3dpdGNoIChvcmRlcikgewogICAgICBjYXNlICdZWlgnOgogICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3OwoKICAgICAgICBpZiAodGVzdCA+IDAuNDk5KSB7CiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlCiAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7CiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguUEkgLyAyOwogICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAodGVzdCA8IC0wLjQ5OSkgewogICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZQogICAgICAgICAgaGVhZGluZyA9IC0yICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgIGF0dGl0dWRlID0gLU1hdGguUEkgLyAyOwogICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAoaGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb25zdCBzcXggPSB4ICogeDsKICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5OwogICAgICAgICAgY29uc3Qgc3F6ID0geiAqIHo7CiAgICAgICAgICBoZWFkaW5nID0gTWF0aC5hdGFuMigyICogeSAqIHcgLSAyICogeCAqIHosIDEgLSAyICogc3F5IC0gMiAqIHNxeik7IC8vIEhlYWRpbmcKCiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlCgogICAgICAgICAgYmFuayA9IE1hdGguYXRhbjIoMiAqIHggKiB3IC0gMiAqIHkgKiB6LCAxIC0gMiAqIHNxeCAtIDIgKiBzcXopOyAvLyBiYW5rCiAgICAgICAgfQoKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFdWxlciBvcmRlciAiICsgb3JkZXIgKyAiIG5vdCBzdXBwb3J0ZWQgeWV0LiIpOwogICAgfQoKICAgIHRhcmdldC55ID0gaGVhZGluZzsKICAgIHRhcmdldC56ID0gYXR0aXR1ZGU7CiAgICB0YXJnZXQueCA9IGJhbms7CiAgfQogIC8qKgogICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgKiBAcGFyYW0ge051bWJlcn0gegogICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaGUgb3JkZXIgdG8gYXBwbHkgYW5nbGVzOiAnWFlaJyBvciAnWVhaJyBvciBhbnkgb3RoZXIgY29tYmluYXRpb24KICAgKiBAc2VlIGh0dHA6Ly93d3cubWF0aHdvcmtzLmNvbS9tYXRsYWJjZW50cmFsL2ZpbGVleGNoYW5nZS8yMDY5Ni1mdW5jdGlvbi10by1jb252ZXJ0LWJldHdlZW4tZGNtLWV1bGVyLWFuZ2xlcy1xdWF0ZXJuaW9ucy1hbmQtZXVsZXItdmVjdG9ycy9jb250ZW50L1NwaW5DYWxjLm0KICAgKi8KCgogIHNldEZyb21FdWxlcih4LCB5LCB6LCBvcmRlciA9ICdYWVonKSB7CiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTsKICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpOwogICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7CiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTsKICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpOwogICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7CgogICAgaWYgKG9yZGVyID09PSAnWFlaJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWlhZJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWllYJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWFpZJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKgogICAqIEBtZXRob2QgY2xvbmUKICAgKiBAcmV0dXJuIHtRdWF0ZXJuaW9ufQogICAqLwoKCiAgY2xvbmUoKSB7CiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTsKICB9CiAgLyoqCiAgICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdAogICAqCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSB0b1F1YXQgc2Vjb25kIG9wZXJhbmQKICAgKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCBiZXR3ZWVuIHRoZSBzZWxmIHF1YXRlcm5pb24gYW5kIHRvUXVhdAogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW3RhcmdldF0gQSBxdWF0ZXJuaW9uIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uIElmIG5vdCBwcm92aWRlZCwgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZC4KICAgKiBAcmV0dXJucyB7UXVhdGVybmlvbn0gVGhlICJ0YXJnZXQiIG9iamVjdAogICAqLwoKCiAgc2xlcnAodG9RdWF0LCB0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IHRoaXMueDsKICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgY29uc3QgYXogPSB0aGlzLno7CiAgICBjb25zdCBhdyA9IHRoaXMudzsKICAgIGxldCBieCA9IHRvUXVhdC54OwogICAgbGV0IGJ5ID0gdG9RdWF0Lnk7CiAgICBsZXQgYnogPSB0b1F1YXQuejsKICAgIGxldCBidyA9IHRvUXVhdC53OwogICAgbGV0IG9tZWdhOwogICAgbGV0IGNvc29tOwogICAgbGV0IHNpbm9tOwogICAgbGV0IHNjYWxlMDsKICAgIGxldCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lCgogICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSkKCiAgICBpZiAoY29zb20gPCAwLjApIHsKICAgICAgY29zb20gPSAtY29zb207CiAgICAgIGJ4ID0gLWJ4OwogICAgICBieSA9IC1ieTsKICAgICAgYnogPSAtYno7CiAgICAgIGJ3ID0gLWJ3OwogICAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzCgoKICAgIGlmICgxLjAgLSBjb3NvbSA+IDAuMDAwMDAxKSB7CiAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKQogICAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7CiAgICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpOwogICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTsKICAgICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tOwogICAgfSBlbHNlIHsKICAgICAgLy8gImZyb20iIGFuZCAidG8iIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlCiAgICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb24KICAgICAgc2NhbGUwID0gMS4wIC0gdDsKICAgICAgc2NhbGUxID0gdDsKICAgIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlcwoKCiAgICB0YXJnZXQueCA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7CiAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7CiAgICB0YXJnZXQueiA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7CiAgICB0YXJnZXQudyA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioKICAgKiBSb3RhdGUgYW4gYWJzb2x1dGUgb3JpZW50YXRpb24gcXVhdGVybmlvbiBnaXZlbiBhbiBhbmd1bGFyIHZlbG9jaXR5IGFuZCBhIHRpbWUgc3RlcC4KICAgKi8KCgogIGludGVncmF0ZShhbmd1bGFyVmVsb2NpdHksIGR0LCBhbmd1bGFyRmFjdG9yLCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LAogICAgICAgICAgYXkgPSBhbmd1bGFyVmVsb2NpdHkueSAqIGFuZ3VsYXJGYWN0b3IueSwKICAgICAgICAgIGF6ID0gYW5ndWxhclZlbG9jaXR5LnogKiBhbmd1bGFyRmFjdG9yLnosCiAgICAgICAgICBieCA9IHRoaXMueCwKICAgICAgICAgIGJ5ID0gdGhpcy55LAogICAgICAgICAgYnogPSB0aGlzLnosCiAgICAgICAgICBidyA9IHRoaXMudzsKICAgIGNvbnN0IGhhbGZfZHQgPSBkdCAqIDAuNTsKICAgIHRhcmdldC54ICs9IGhhbGZfZHQgKiAoYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5KTsKICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTsKICAgIHRhcmdldC56ICs9IGhhbGZfZHQgKiAoYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4KTsKICAgIHRhcmdldC53ICs9IGhhbGZfZHQgKiAoLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBieik7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCn0KCmNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNmdl90MiA9IG5ldyBWZWMzKCk7CmNvbnN0IFNIQVBFX1RZUEVTID0gewogIFNQSEVSRTogMSwKICBQTEFORTogMiwKICBCT1g6IDQsCiAgQ09NUE9VTkQ6IDgsCiAgQ09OVkVYUE9MWUhFRFJPTjogMTYsCiAgSEVJR0hURklFTEQ6IDMyLAogIFBBUlRJQ0xFOiA2NCwKICBDWUxJTkRFUjogMTI4LAogIFRSSU1FU0g6IDI1Ngp9OwovKioKICogQmFzZSBjbGFzcyBmb3Igc2hhcGVzCiAqIEBjbGFzcyBTaGFwZQogKiBAY29uc3RydWN0b3IKICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZT10cnVlXQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF0ZXJpYWw9bnVsbF0KICogQGF1dGhvciBzY2h0ZXBwZQogKi8KCmNsYXNzIFNoYXBlIHsKICAvLyBJZGVudGlmeWVyIG9mIHRoZSBTaGFwZS4KICAvLyBUaGUgdHlwZSBvZiB0aGlzIHNoYXBlLiBNdXN0IGJlIHNldCB0byBhbiBpbnQgPiAwIGJ5IHN1YmNsYXNzZXMuCiAgLy8gVGhlIGxvY2FsIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMgb2YgdGhpcyBzaGFwZS4KICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQuCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7CiAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgMDsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwOwogICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCA/IG9wdGlvbnMubWF0ZXJpYWwgOiBudWxsOwogICAgdGhpcy5ib2R5ID0gbnVsbDsKICB9CiAgLyoqCiAgICogQ29tcHV0ZXMgdGhlIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMuIFRoZSByZXN1bHQgaXMgc3RvcmVkIGluIHRoZSBwcm9wZXJ0eSAuYm91bmRpbmdTcGhlcmVSYWRpdXMKICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICovCgoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRocm93ICJjb21wdXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIiArIHRoaXMudHlwZTsKICB9CiAgLyoqCiAgICogR2V0IHRoZSB2b2x1bWUgb2YgdGhpcyBzaGFwZQogICAqIEBtZXRob2Qgdm9sdW1lCiAgICogQHJldHVybiB7TnVtYmVyfQogICAqLwoKCiAgdm9sdW1lKCkgewogICAgdGhyb3cgInZvbHVtZSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiICsgdGhpcy50eXBlOwogIH0KICAvKioKICAgKiBDYWxjdWxhdGVzIHRoZSBpbmVydGlhIGluIHRoZSBsb2NhbCBmcmFtZSBmb3IgdGhpcyBzaGFwZS4KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXNzCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQKICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9tb21lbnRzX29mX2luZXJ0aWEKICAgKi8KCgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHsKICAgIHRocm93ICJjYWxjdWxhdGVMb2NhbEluZXJ0aWEoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIiArIHRoaXMudHlwZTsKICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICB0aHJvdyAiY2FsY3VsYXRlV29ybGRBQUJCKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgfQoKfQoKU2hhcGUuaWRDb3VudGVyID0gMDsKLyoqCiAqIFRoZSBhdmFpbGFibGUgc2hhcGUgdHlwZXMuCiAqIEBzdGF0aWMKICogQHByb3BlcnR5IHR5cGVzCiAqIEB0eXBlIHtPYmplY3R9CiAqLwoKU2hhcGUudHlwZXMgPSBTSEFQRV9UWVBFUzsKCmNsYXNzIFRyYW5zZm9ybSB7CiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHsKICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pOwogICAgfQoKICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBhIGdsb2JhbCBwb2ludCBpbiBsb2NhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuDQogICAqLwoKCiAgcG9pbnRUb0xvY2FsKHdvcmxkUG9pbnQsIHJlc3VsdCkgewogICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCk7CiAgfQogIC8qKg0KICAgKiBHZXQgYSBsb2NhbCBwb2ludCBpbiBnbG9iYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLg0KICAgKi8KCgogIHBvaW50VG9Xb3JsZChsb2NhbFBvaW50LCByZXN1bHQpIHsKICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQpOwogIH0KCiAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgc3RhdGljIHBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB3b3JsZFBvaW50LnZzdWIocG9zaXRpb24sIHJlc3VsdCk7CiAgICBxdWF0ZXJuaW9uLmNvbmp1Z2F0ZSh0bXBRdWF0KTsKICAgIHRtcFF1YXQudm11bHQocmVzdWx0LCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHN0YXRpYyBwb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpOwogICAgcmVzdWx0LnZhZGQocG9zaXRpb24sIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgc3RhdGljIHZlY3RvclRvV29ybGRGcmFtZShxdWF0ZXJuaW9uLCBsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBzdGF0aWMgdmVjdG9yVG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgcXVhdGVybmlvbi53ICo9IC0xOwogICAgcXVhdGVybmlvbi52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTsKICAgIHF1YXRlcm5pb24udyAqPSAtMTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKfQoKY29uc3QgdG1wUXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCk7Ci8qKg0KICogQSBzZXQgb2YgcG9seWdvbnMgZGVzY3JpYmluZyBhIGNvbnZleCBzaGFwZS4NCiAqIEBjbGFzcyBDb252ZXhQb2x5aGVkcm9uDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAZGVzY3JpcHRpb24gVGhlIHNoYXBlIE1VU1QgYmUgY29udmV4IGZvciB0aGUgY29kZSB0byB3b3JrIHByb3Blcmx5LiBObyBwb2x5Z29ucyBtYXkgYmUgY29wbGFuYXIgKGNvbnRhaW5lZA0KICogaW4gdGhlIHNhbWUgM0QgcGxhbmUpLCBpbnN0ZWFkIHRoZXNlIHNob3VsZCBiZSBtZXJnZWQgaW50byBvbmUgcG9seWdvbi4NCiAqDQogKiBAcGFyYW0ge2FycmF5fSBwb2ludHMgQW4gYXJyYXkgb2YgVmVjMydzDQogKiBAcGFyYW0ge2FycmF5fSBmYWNlcyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgZGVzY3JpYmluZyB3aGljaCB2ZXJ0aWNlcyB0aGF0IGlzIGluY2x1ZGVkIGluIGVhY2ggZmFjZS4NCiAqDQogKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhbyAob3JpZ2luYWwgYXV0aG9yLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3FpYW8vdGhyZWUuanMvY29tbWl0Lzg1MDI2ZjBjNzY5ZTQwMDAxNDhhNjdkNDVhOWU5YjljNTEwODgzNmYpDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKiBAc2VlIGh0dHA6Ly93d3cuYWx0ZGV2YmxvZ2FkYXkuY29tLzIwMTEvMDUvMTMvY29udGFjdC1nZW5lcmF0aW9uLWJldHdlZW4tM2QtY29udmV4LW1lc2hlcy8NCiAqDQogKiBAdG9kbyBNb3ZlIHRoZSBjbGlwcGluZyBmdW5jdGlvbnMgdG8gQ29udGFjdEdlbmVyYXRvcj8NCiAqIEB0b2RvIEF1dG9tYXRpY2FsbHkgbWVyZ2UgY29wbGFuYXIgcG9seWdvbnMgaW4gY29uc3RydWN0b3IuDQogKi8KCmNsYXNzIENvbnZleFBvbHloZWRyb24gZXh0ZW5kcyBTaGFwZSB7CiAgLy8gQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGluZGljYXRpbmcgd2hpY2ggdmVydGljZXMgZWFjaCBmYWNlIGNvbnNpc3RzIG9mCiAgLy8gSWYgZ2l2ZW4sIHRoZXNlIGxvY2FsbHkgZGVmaW5lZCwgbm9ybWFsaXplZCBheGVzIGFyZSB0aGUgb25seSBvbmVzIGJlaW5nIGNoZWNrZWQgd2hlbiBkb2luZyBzZXBhcmF0aW5nIGF4aXMgY2hlY2suCiAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkgewogICAgY29uc3QgewogICAgICB2ZXJ0aWNlcyA9IFtdLAogICAgICBmYWNlcyA9IFtdLAogICAgICBub3JtYWxzID0gW10sCiAgICAgIGF4ZXMsCiAgICAgIGJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICB9ID0gcHJvcHM7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04KICAgIH0pOwogICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzOwogICAgdGhpcy5mYWNlcyA9IGZhY2VzOwogICAgdGhpcy5mYWNlTm9ybWFscyA9IG5vcm1hbHM7CgogICAgaWYgKHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID09PSAwKSB7CiAgICAgIHRoaXMuY29tcHV0ZU5vcm1hbHMoKTsKICAgIH0KCiAgICBpZiAoIWJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBib3VuZGluZ1NwaGVyZVJhZGl1czsKICAgIH0KCiAgICB0aGlzLndvcmxkVmVydGljZXMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAudmVydGljZXMKCiAgICB0aGlzLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAuZmFjZU5vcm1hbHMKCiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB0aGlzLnVuaXF1ZUF4ZXMgPSBheGVzID8gYXhlcy5zbGljZSgpIDogbnVsbDsKICAgIHRoaXMudW5pcXVlRWRnZXMgPSBbXTsKICAgIHRoaXMuY29tcHV0ZUVkZ2VzKCk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB1bmlxdWVFZGdlcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVFZGdlcw0KICAgKi8KCgogIGNvbXB1dGVFZGdlcygpIHsKICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlczsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IGVkZ2VzID0gdGhpcy51bmlxdWVFZGdlczsKICAgIGVkZ2VzLmxlbmd0aCA9IDA7CiAgICBjb25zdCBlZGdlID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldOwogICAgICBjb25zdCBudW1WZXJ0aWNlcyA9IGZhY2UubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IG51bVZlcnRpY2VzOyBqKyspIHsKICAgICAgICBjb25zdCBrID0gKGogKyAxKSAlIG51bVZlcnRpY2VzOwogICAgICAgIHZlcnRpY2VzW2ZhY2Vbal1dLnZzdWIodmVydGljZXNbZmFjZVtrXV0sIGVkZ2UpOwogICAgICAgIGVkZ2Uubm9ybWFsaXplKCk7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CgogICAgICAgIGZvciAobGV0IHAgPSAwOyBwICE9PSBlZGdlcy5sZW5ndGg7IHArKykgewogICAgICAgICAgaWYgKGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSB8fCBlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkpIHsKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgIGVkZ2VzLnB1c2goZWRnZS5jbG9uZSgpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIG5vcm1hbHMgb2YgdGhlIGZhY2VzLiBXaWxsIHJldXNlIGV4aXN0aW5nIFZlYzMgb2JqZWN0cyBpbiB0aGUgLmZhY2VOb3JtYWxzIGFycmF5IGlmIHRoZXkgZXhpc3QuDQogICAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbHMNCiAgICovCgoKICBjb21wdXRlTm9ybWFscygpIHsKICAgIHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID0gdGhpcy5mYWNlcy5sZW5ndGg7IC8vIEdlbmVyYXRlIG5vcm1hbHMKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgLy8gQ2hlY2sgc28gYWxsIHZlcnRpY2VzIGV4aXN0cyBmb3IgdGhpcyBmYWNlCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mYWNlc1tpXS5sZW5ndGg7IGorKykgewogICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJWZXJ0ZXggIiArIHRoaXMuZmFjZXNbaV1bal0gKyAiIG5vdCBmb3VuZCEiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ldIHx8IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuZ2V0RmFjZU5vcm1hbChpLCBuKTsKICAgICAgbi5uZWdhdGUobik7CiAgICAgIHRoaXMuZmFjZU5vcm1hbHNbaV0gPSBuOwogICAgICBjb25zdCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bMF1dOwoKICAgICAgaWYgKG4uZG90KHZlcnRleCkgPCAwKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiLmZhY2VOb3JtYWxzWyIgKyBpICsgIl0gPSBWZWMzKCIgKyBuLnRvU3RyaW5nKCkgKyAiKSBsb29rcyBsaWtlIGl0IHBvaW50cyBpbnRvIHRoZSBzaGFwZT8gVGhlIHZlcnRpY2VzIGZvbGxvdy4gTWFrZSBzdXJlIHRoZXkgYXJlIG9yZGVyZWQgQ0NXIGFyb3VuZCB0aGUgbm9ybWFsLCB1c2luZyB0aGUgcmlnaHQgaGFuZCBydWxlLiIpOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGNvbnNvbGUud2FybigiLnZlcnRpY2VzWyIgKyB0aGlzLmZhY2VzW2ldW2pdICsgIl0gPSBWZWMzKCIgKyB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dLnRvU3RyaW5nKCkgKyAiKSIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgbm9ybWFsIG9mIGEgZmFjZSBmcm9tIGl0cyB2ZXJ0aWNlcw0KICAgKiBAbWV0aG9kIGdldEZhY2VOb3JtYWwNCiAgICogQHBhcmFtICB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKi8KCgogIGdldEZhY2VOb3JtYWwoaSwgdGFyZ2V0KSB7CiAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tpXTsKICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTsKICAgIGNvbnN0IHZiID0gdGhpcy52ZXJ0aWNlc1tmWzFdXTsKICAgIGNvbnN0IHZjID0gdGhpcy52ZXJ0aWNlc1tmWzJdXTsKICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjbGlwQWdhaW5zdEh1bGwNCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQg0KICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0INCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0Qg0KICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWwNCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRpc3QgQ2xhbXAgZGlzdGFuY2UNCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERpc3QNCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IFRoZSBhbiBhcnJheSBvZiBjb250YWN0IHBvaW50IG9iamVjdHMsIHNlZSBjbGlwRmFjZUFnYWluc3RIdWxsDQogICAqLwoKCiAgY2xpcEFnYWluc3RIdWxsKHBvc0EsIHF1YXRBLCBodWxsQiwgcG9zQiwgcXVhdEIsIHNlcGFyYXRpbmdOb3JtYWwsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkgewogICAgY29uc3QgV29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwogICAgbGV0IGNsb3Nlc3RGYWNlQiA9IC0xOwogICAgbGV0IGRtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTsKCiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxCLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7CiAgICAgIFdvcmxkTm9ybWFsLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICBxdWF0Qi52bXVsdChXb3JsZE5vcm1hbCwgV29ybGROb3JtYWwpOwogICAgICBjb25zdCBkID0gV29ybGROb3JtYWwuZG90KHNlcGFyYXRpbmdOb3JtYWwpOwoKICAgICAgaWYgKGQgPiBkbWF4KSB7CiAgICAgICAgZG1heCA9IGQ7CiAgICAgICAgY2xvc2VzdEZhY2VCID0gZmFjZTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHdvcmxkVmVydHNCMSA9IFtdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXS5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBiID0gaHVsbEIudmVydGljZXNbaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXVtpXV07CiAgICAgIGNvbnN0IHdvcmxkYiA9IG5ldyBWZWMzKCk7CiAgICAgIHdvcmxkYi5jb3B5KGIpOwogICAgICBxdWF0Qi52bXVsdCh3b3JsZGIsIHdvcmxkYik7CiAgICAgIHBvc0IudmFkZCh3b3JsZGIsIHdvcmxkYik7CiAgICAgIHdvcmxkVmVydHNCMS5wdXNoKHdvcmxkYik7CiAgICB9CgogICAgaWYgKGNsb3Nlc3RGYWNlQiA+PSAwKSB7CiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpOwogICAgfQogIH0KICAvKioNCiAgICogRmluZCB0aGUgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhpcyBodWxsIGFuZCBhbm90aGVyDQogICAqIEBtZXRob2QgZmluZFNlcGFyYXRpbmdBeGlzDQogICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEINCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtWZWMzfSBwb3NCDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEINCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHRhcmdldCB2ZWN0b3IgdG8gc2F2ZSB0aGUgYXhpcyBpbg0KICAgKiBAcmV0dXJuIHtib29sfSBSZXR1cm5zIGZhbHNlIGlmIGEgc2VwYXJhdGlvbiBpcyBmb3VuZCwgZWxzZSB0cnVlDQogICAqLwoKCiAgZmluZFNlcGFyYXRpbmdBeGlzKGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIsIHRhcmdldCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHsKICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MzID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IFdvcmxkbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBkZWx0YUMgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgd29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCB3b3JsZEVkZ2UxID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IENyb3NzID0gbmV3IFZlYzMoKTsKICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIGNvbnN0IGh1bGxBID0gdGhpczsKCiAgICBpZiAoIWh1bGxBLnVuaXF1ZUF4ZXMpIHsKICAgICAgY29uc3QgbnVtRmFjZXNBID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBLmxlbmd0aCA6IGh1bGxBLmZhY2VzLmxlbmd0aDsgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1GYWNlc0E7IGkrKykgewogICAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBW2ldIDogaTsgLy8gR2V0IHdvcmxkIGZhY2Ugbm9ybWFsCgogICAgICAgIGZhY2VBTm9ybWFsV1MzLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTMywgZmFjZUFOb3JtYWxXUzMpOwogICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGh1bGxBLnVuaXF1ZUF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBHZXQgd29ybGQgYXhpcwogICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKCFodWxsQi51bmlxdWVBeGVzKSB7CiAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEIKICAgICAgY29uc3QgbnVtRmFjZXNCID0gZmFjZUxpc3RCID8gZmFjZUxpc3RCLmxlbmd0aCA6IGh1bGxCLmZhY2VzLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNCOyBpKyspIHsKICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0QltpXSA6IGk7CiAgICAgICAgV29ybGRub3JtYWwxLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICBxdWF0Qi52bXVsdChXb3JsZG5vcm1hbDEsIFdvcmxkbm9ybWFsMSk7CiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBUZXN0IHVuaXF1ZSBheGVzIGluIEIKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGh1bGxCLnVuaXF1ZUF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpOwogICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSAvLyBUZXN0IGVkZ2VzCgoKICAgIGZvciAobGV0IGUwID0gMDsgZTAgIT09IGh1bGxBLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTArKykgewogICAgICAvLyBHZXQgd29ybGQgZWRnZQogICAgICBxdWF0QS52bXVsdChodWxsQS51bmlxdWVFZGdlc1tlMF0sIHdvcmxkRWRnZTApOwoKICAgICAgZm9yIChsZXQgZTEgPSAwOyBlMSAhPT0gaHVsbEIudW5pcXVlRWRnZXMubGVuZ3RoOyBlMSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UgMgogICAgICAgIHF1YXRCLnZtdWx0KGh1bGxCLnVuaXF1ZUVkZ2VzW2UxXSwgd29ybGRFZGdlMSk7CiAgICAgICAgd29ybGRFZGdlMC5jcm9zcyh3b3JsZEVkZ2UxLCBDcm9zcyk7CgogICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7CiAgICAgICAgICBDcm9zcy5ub3JtYWxpemUoKTsKICAgICAgICAgIGNvbnN0IGRpc3QgPSBodWxsQS50ZXN0U2VwQXhpcyhDcm9zcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGRpc3QgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGlzdCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGRpc3Q7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KENyb3NzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBwb3NCLnZzdWIocG9zQSwgZGVsdGFDKTsKCiAgICBpZiAoZGVsdGFDLmRvdCh0YXJnZXQpID4gMC4wKSB7CiAgICAgIHRhcmdldC5uZWdhdGUodGFyZ2V0KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqDQogICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuDQogICAqIEBtZXRob2QgdGVzdFNlcEF4aXMNCiAgICogQHBhcmFtIHtWZWMzfSBheGlzDQogICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEINCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtWZWMzfSBwb3NCDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEINCiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3ZlcmxhcCBkZXB0aCwgb3IgRkFMU0UgaWYgbm8gcGVuZXRyYXRpb24uDQogICAqLwoKCiAgdGVzdFNlcEF4aXMoYXhpcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0QikgewogICAgY29uc3QgaHVsbEEgPSB0aGlzOwogICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxBLCBheGlzLCBwb3NBLCBxdWF0QSwgbWF4bWluQSk7CiAgICBDb252ZXhQb2x5aGVkcm9uLnByb2plY3QoaHVsbEIsIGF4aXMsIHBvc0IsIHF1YXRCLCBtYXhtaW5CKTsKICAgIGNvbnN0IG1heEEgPSBtYXhtaW5BWzBdOwogICAgY29uc3QgbWluQSA9IG1heG1pbkFbMV07CiAgICBjb25zdCBtYXhCID0gbWF4bWluQlswXTsKICAgIGNvbnN0IG1pbkIgPSBtYXhtaW5CWzFdOwoKICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkgewogICAgICByZXR1cm4gZmFsc2U7IC8vIFNlcGFyYXRlZAogICAgfQoKICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7CiAgICBjb25zdCBkMSA9IG1heEIgLSBtaW5BOwogICAgY29uc3QgZGVwdGggPSBkMCA8IGQxID8gZDAgOiBkMTsKICAgIHJldHVybiBkZXB0aDsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhDQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXQKICAgIGNvbnN0IGFhYmJtYXggPSBuZXcgVmVjMygpOwogICAgY29uc3QgYWFiYm1pbiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCk7CiAgICBjb25zdCB4ID0gYWFiYm1heC54IC0gYWFiYm1pbi54OwogICAgY29uc3QgeSA9IGFhYmJtYXgueSAtIGFhYmJtaW4ueTsKICAgIGNvbnN0IHogPSBhYWJibWF4LnogLSBhYWJibWluLno7CiAgICB0YXJnZXQueCA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KTsKICAgIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopOwogICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UNCiAgICogQHBhcmFtICB7TnVtYmVyfSBmYWNlX2kgSW5kZXggb2YgdGhlIGZhY2UNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZmFjZV9pKSB7CiAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tmYWNlX2ldOwogICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbZmFjZV9pXTsKICAgIGNvbnN0IHYgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dOwogICAgY29uc3QgYyA9IC1uLmRvdCh2KTsKICAgIHJldHVybiBjOwogIH0KICAvKioNCiAgICogQ2xpcCBhIGZhY2UgYWdhaW5zdCBhIGh1bGwuDQogICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0SHVsbA0KICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWwNCiAgICogQHBhcmFtIHtWZWMzfSBwb3NBDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEENCiAgICogQHBhcmFtIHtBcnJheX0gd29ybGRWZXJ0c0IxIEFuIGFycmF5IG9mIFZlYzMgd2l0aCB2ZXJ0aWNlcyBpbiB0aGUgd29ybGQgZnJhbWUuDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IERpc3RhbmNlIGNsYW1waW5nDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0DQogICAqIEBwYXJhbSBBcnJheSByZXN1bHQgQXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnRzIGluLiBXaWxsIGJlIG9iamVjdHMgd2l0aCBwcm9wZXJ0aWVzOiBwb2ludCwgZGVwdGgsIG5vcm1hbC4gVGhlc2UgYXJlIHJlcHJlc2VudGVkIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKi8KCgogIGNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KSB7CiAgICBjb25zdCBmYWNlQU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IFdvcmxkRWRnZTAgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgd29ybGRQbGFuZUFub3JtYWwxID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHdvcmxkQTEgPSBuZXcgVmVjMygpOwogICAgY29uc3QgbG9jYWxQbGFuZU5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgIGNvbnN0IHdvcmxkVmVydHNCMiA9IFtdOwogICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxOwogICAgY29uc3QgcFZ0eE91dCA9IHdvcmxkVmVydHNCMjsKICAgIGxldCBjbG9zZXN0RmFjZUEgPSAtMTsKICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXMKCiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7CiAgICAgIGZhY2VBTm9ybWFsV1MuY29weShodWxsQS5mYWNlTm9ybWFsc1tmYWNlXSk7CiAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MsIGZhY2VBTm9ybWFsV1MpOwogICAgICBjb25zdCBkID0gZmFjZUFOb3JtYWxXUy5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7CgogICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICBkbWluID0gZDsKICAgICAgICBjbG9zZXN0RmFjZUEgPSBmYWNlOwogICAgICB9CiAgICB9CgogICAgaWYgKGNsb3Nlc3RGYWNlQSA8IDApIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXMKCgogICAgY29uc3QgcG9seUEgPSBodWxsQS5mYWNlc1tjbG9zZXN0RmFjZUFdOwogICAgcG9seUEuY29ubmVjdGVkRmFjZXMgPSBbXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaHVsbEEuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoCiAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovCiAgICAgICAgcG9seUEuaW5kZXhPZihodWxsQS5mYWNlc1tpXVtqXSkgIT09IC0xICYmCiAgICAgICAgLyogTm90IHRoZSBvbmUgd2UgYXJlIGxvb2tpbmcgZm9yIGNvbm5lY3Rpb25zIGZyb20gKi8KICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiYKICAgICAgICAvKiBOb3QgYWxyZWFkeSBhZGRlZCAqLwogICAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzLmluZGV4T2YoaSkgPT09IC0xKSB7CiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSwKICAgIC8vIHRoYXQgYXJlIGFkamFjZW50IHRvIHRoZSB3aXRuZXNzIGZhY2UKCgogICAgY29uc3QgbnVtVmVydGljZXNBID0gcG9seUEubGVuZ3RoOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHsKICAgICAgY29uc3QgYSA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBW2ldXTsKICAgICAgY29uc3QgYiA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBWyhpICsgMSkgJSBudW1WZXJ0aWNlc0FdXTsKICAgICAgYS52c3ViKGIsIGVkZ2UwKTsKICAgICAgV29ybGRFZGdlMC5jb3B5KGVkZ2UwKTsKICAgICAgcXVhdEEudm11bHQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7CiAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTsKICAgICAgd29ybGRQbGFuZUFub3JtYWwxLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgICAgcXVhdEEudm11bHQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICBXb3JsZEVkZ2UwLmNyb3NzKHdvcmxkUGxhbmVBbm9ybWFsMSwgcGxhbmVOb3JtYWxXUzEpOwogICAgICBwbGFuZU5vcm1hbFdTMS5uZWdhdGUocGxhbmVOb3JtYWxXUzEpOwogICAgICB3b3JsZEExLmNvcHkoYSk7CiAgICAgIHF1YXRBLnZtdWx0KHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICBwb3NBLnZhZGQod29ybGRBMSwgd29ybGRBMSk7CiAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldOwogICAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tvdGhlckZhY2VdKTsKICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKG90aGVyRmFjZSk7CiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOyAvLyBDbGlwIGZhY2UgYWdhaW5zdCBvdXIgY29uc3RydWN0ZWQgcGxhbmUKCiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUocFZ0eEluLCBwVnR4T3V0LCBwbGFuZU5vcm1hbFdTLCBwbGFuZUVxV1MpOyAvLyBUaHJvdyBhd2F5IGFsbCBjbGlwcGVkIHBvaW50cywgYnV0IHNhdmUgdGhlIHJlbWFpbmluZyB1bnRpbCBuZXh0IGNsaXAKCiAgICAgIHdoaWxlIChwVnR4SW4ubGVuZ3RoKSB7CiAgICAgICAgcFZ0eEluLnNoaWZ0KCk7CiAgICAgIH0KCiAgICAgIHdoaWxlIChwVnR4T3V0Lmxlbmd0aCkgewogICAgICAgIHBWdHhJbi5wdXNoKHBWdHhPdXQuc2hpZnQoKSk7CiAgICAgIH0KICAgIH0gLy8gb25seSBrZWVwIGNvbnRhY3QgcG9pbnRzIHRoYXQgYXJlIGJlaGluZCB0aGUgd2l0bmVzcyBmYWNlCgoKICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pOwogICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7CiAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7CiAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTsKICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcFZ0eEluLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBkZXB0aCA9IHBsYW5lTm9ybWFsV1MuZG90KHBWdHhJbltpXSkgKyBwbGFuZUVxV1M7IC8vID8/PwoKICAgICAgaWYgKGRlcHRoIDw9IG1pbkRpc3QpIHsKICAgICAgICBjb25zb2xlLmxvZygiY2xhbXBlZDogZGVwdGg9IiArIGRlcHRoICsgIiB0byBtaW5EaXN0PSIgKyBtaW5EaXN0KTsKICAgICAgICBkZXB0aCA9IG1pbkRpc3Q7CiAgICAgIH0KCiAgICAgIGlmIChkZXB0aCA8PSBtYXhEaXN0KSB7CiAgICAgICAgY29uc3QgcG9pbnQgPSBwVnR4SW5baV07CgogICAgICAgIGlmIChkZXB0aCA8PSAxZS02KSB7CiAgICAgICAgICBjb25zdCBwID0gewogICAgICAgICAgICBwb2ludCwKICAgICAgICAgICAgbm9ybWFsOiBwbGFuZU5vcm1hbFdTLAogICAgICAgICAgICBkZXB0aAogICAgICAgICAgfTsKICAgICAgICAgIHJlc3VsdC5wdXNoKHApOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQ2xpcCBhIGZhY2UgaW4gYSBodWxsIGFnYWluc3QgdGhlIGJhY2sgb2YgYSBwbGFuZS4NCiAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RQbGFuZQ0KICAgKiBAcGFyYW0ge0FycmF5fSBpblZlcnRpY2VzDQogICAqIEBwYXJhbSB7QXJyYXl9IG91dFZlcnRpY2VzDQogICAqIEBwYXJhbSB7VmVjM30gcGxhbmVOb3JtYWwNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHBsYW5lQ29uc3RhbnQgVGhlIGNvbnN0YW50IGluIHRoZSBtYXRoZW1hdGljYWwgcGxhbmUgZXF1YXRpb24NCiAgICovCgoKICBjbGlwRmFjZUFnYWluc3RQbGFuZShpblZlcnRpY2VzLCBvdXRWZXJ0aWNlcywgcGxhbmVOb3JtYWwsIHBsYW5lQ29uc3RhbnQpIHsKICAgIGxldCBuX2RvdF9maXJzdDsKICAgIGxldCBuX2RvdF9sYXN0OwogICAgY29uc3QgbnVtVmVydHMgPSBpblZlcnRpY2VzLmxlbmd0aDsKCiAgICBpZiAobnVtVmVydHMgPCAyKSB7CiAgICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICAgIH0KCiAgICBsZXQgZmlyc3RWZXJ0ZXggPSBpblZlcnRpY2VzW2luVmVydGljZXMubGVuZ3RoIC0gMV07CiAgICBsZXQgbGFzdFZlcnRleCA9IGluVmVydGljZXNbMF07CiAgICBuX2RvdF9maXJzdCA9IHBsYW5lTm9ybWFsLmRvdChmaXJzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50OwoKICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykgewogICAgICBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1t2aV07CiAgICAgIG5fZG90X2xhc3QgPSBwbGFuZU5vcm1hbC5kb3QobGFzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50OwoKICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkgewogICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkgewogICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPCAwLCBzbyBvdXRwdXQgbGFzdFZlcnRleAogICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBuZXd2LmNvcHkobGFzdFZlcnRleCk7CiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBTdGFydCA8IDAsIGVuZCA+PSAwLCBzbyBvdXRwdXQgaW50ZXJzZWN0aW9uCiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHsKICAgICAgICAgIC8vIFN0YXJ0ID49IDAsIGVuZCA8IDAgc28gb3V0cHV0IGludGVyc2VjdGlvbiBhbmQgZW5kCiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZpcnN0VmVydGV4ID0gbGFzdFZlcnRleDsKICAgICAgbl9kb3RfZmlyc3QgPSBuX2RvdF9sYXN0OwogICAgfQoKICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICB9IC8vIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS4KCgogIGNvbXB1dGVXb3JsZFZlcnRpY2VzKHBvc2l0aW9uLCBxdWF0KSB7CiAgICB3aGlsZSAodGhpcy53b3JsZFZlcnRpY2VzLmxlbmd0aCA8IHRoaXMudmVydGljZXMubGVuZ3RoKSB7CiAgICAgIHRoaXMud29ybGRWZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKCkpOwogICAgfQoKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IHdvcmxkVmVydHMgPSB0aGlzLndvcmxkVmVydGljZXM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICAgIHBvc2l0aW9uLnZhZGQod29ybGRWZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICB9CgogICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSBmYWxzZTsKICB9CgogIGNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCkgewogICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgYWFiYm1pbi5zZXQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7CiAgICBhYWJibWF4LnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgdiA9IHZlcnRpY2VzW2ldOwoKICAgICAgaWYgKHYueCA8IGFhYmJtaW4ueCkgewogICAgICAgIGFhYmJtaW4ueCA9IHYueDsKICAgICAgfSBlbHNlIGlmICh2LnggPiBhYWJibWF4LngpIHsKICAgICAgICBhYWJibWF4LnggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmICh2LnkgPCBhYWJibWluLnkpIHsKICAgICAgICBhYWJibWluLnkgPSB2Lnk7CiAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7CiAgICAgICAgYWFiYm1heC55ID0gdi55OwogICAgICB9CgogICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7CiAgICAgICAgYWFiYm1pbi56ID0gdi56OwogICAgICB9IGVsc2UgaWYgKHYueiA+IGFhYmJtYXgueikgewogICAgICAgIGFhYmJtYXgueiA9IHYuejsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLg0KICAgKiBAbWV0aG9kIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzDQogICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXQNCiAgICovCgoKICBjb21wdXRlV29ybGRGYWNlTm9ybWFscyhxdWF0KSB7CiAgICBjb25zdCBOID0gdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7CgogICAgd2hpbGUgKHRoaXMud29ybGRGYWNlTm9ybWFscy5sZW5ndGggPCBOKSB7CiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFscy5wdXNoKG5ldyBWZWMzKCkpOwogICAgfQoKICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgY29uc3Qgd29ybGROb3JtYWxzID0gdGhpcy53b3JsZEZhY2VOb3JtYWxzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pOwogICAgfQoKICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzDQogICAqLwoKCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyCiAgICBsZXQgbWF4MiA9IDA7CiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IG5vcm0yID0gdmVydHNbaV0ubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgaWYgKG5vcm0yID4gbWF4MikgewogICAgICAgIG1heDIgPSBub3JtMjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQg0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3MNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdA0KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW4NCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4DQogICAqLwoKCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgIGxldCBtaW54OwogICAgbGV0IG1pbnk7CiAgICBsZXQgbWluejsKICAgIGxldCBtYXh4OwogICAgbGV0IG1heHk7CiAgICBsZXQgbWF4ejsKICAgIGxldCB0ZW1wV29ybGRWZXJ0ZXggPSBuZXcgVmVjMygpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGVtcFdvcmxkVmVydGV4LmNvcHkodmVydHNbaV0pOwogICAgICBxdWF0LnZtdWx0KHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTsKICAgICAgcG9zLnZhZGQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpOwogICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4OwoKICAgICAgaWYgKG1pbnggPT09IHVuZGVmaW5lZCB8fCB2LnggPCBtaW54KSB7CiAgICAgICAgbWlueCA9IHYueDsKICAgICAgfQoKICAgICAgaWYgKG1heHggPT09IHVuZGVmaW5lZCB8fCB2LnggPiBtYXh4KSB7CiAgICAgICAgbWF4eCA9IHYueDsKICAgICAgfQoKICAgICAgaWYgKG1pbnkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPCBtaW55KSB7CiAgICAgICAgbWlueSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKG1heHkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPiBtYXh5KSB7CiAgICAgICAgbWF4eSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKG1pbnogPT09IHVuZGVmaW5lZCB8fCB2LnogPCBtaW56KSB7CiAgICAgICAgbWlueiA9IHYuejsKICAgICAgfQoKICAgICAgaWYgKG1heHogPT09IHVuZGVmaW5lZCB8fCB2LnogPiBtYXh6KSB7CiAgICAgICAgbWF4eiA9IHYuejsKICAgICAgfQogICAgfQoKICAgIG1pbi5zZXQobWlueCwgbWlueSwgbWlueik7CiAgICBtYXguc2V0KG1heHgsIG1heHksIG1heHopOwogIH0KICAvKioNCiAgICogR2V0IGFwcHJveGltYXRlIGNvbnZleCB2b2x1bWUNCiAgICogQG1ldGhvZCB2b2x1bWUNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDsKICB9CiAgLyoqDQogICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zDQogICAqIEBtZXRob2QgZ2V0QXZlcmFnZVBvaW50TG9jYWwNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgZ2V0QXZlcmFnZVBvaW50TG9jYWwodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGFyZ2V0LnZhZGQodmVydHNbaV0sIHRhcmdldCk7CiAgICB9CgogICAgdGFyZ2V0LnNjYWxlKDEgLyB2ZXJ0cy5sZW5ndGgsIHRhcmdldCk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogVHJhbnNmb3JtIGFsbCBsb2NhbCBwb2ludHMuIFdpbGwgY2hhbmdlIHRoZSAudmVydGljZXMNCiAgICogQG1ldGhvZCB0cmFuc2Zvcm1BbGxQb2ludHMNCiAgICogQHBhcmFtICB7VmVjM30gb2Zmc2V0DQogICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXQNCiAgICovCgoKICB0cmFuc2Zvcm1BbGxQb2ludHMob2Zmc2V0LCBxdWF0KSB7CiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7CiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7IC8vIEFwcGx5IHJvdGF0aW9uCgogICAgaWYgKHF1YXQpIHsKICAgICAgLy8gUm90YXRlIHZlcnRpY2VzCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldOwogICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgIH0gLy8gUm90YXRlIGZhY2Ugbm9ybWFscwoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB0aGlzLmZhY2VOb3JtYWxzW2ldOwogICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgIH0KICAgICAgLyoNCiAgICAgICAgICAgIC8vIFJvdGF0ZSBlZGdlcw0KICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7DQogICAgICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMudW5pcXVlRWRnZXNbaV07DQogICAgICAgICAgICAgICAgcXVhdC52bXVsdCh2LHYpOw0KICAgICAgICAgICAgfSovCgogICAgfSAvLyBBcHBseSBvZmZzZXQKCgogICAgaWYgKG9mZnNldCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsKICAgICAgICB2LnZhZGQob2Zmc2V0LCB2KTsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQ2hlY2tzIHdoZXRoZXIgcCBpcyBpbnNpZGUgdGhlIHBvbHloZWRyYS4gTXVzdCBiZSBpbiBsb2NhbCBjb29yZHMuDQogICAqIFRoZSBwb2ludCBsaWVzIG91dHNpZGUgb2YgdGhlIGNvbnZleCBodWxsIG9mIHRoZSBvdGhlciBwb2ludHMgaWYgYW5kIG9ubHkgaWYgdGhlIGRpcmVjdGlvbg0KICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuDQogICAqIEBtZXRob2QgcG9pbnRJc0luc2lkZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBwICAgICAgQSBwb2ludCBnaXZlbiBpbiBsb2NhbCBjb29yZGluYXRlcw0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIHBvaW50SXNJbnNpZGUocCkgewogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwogICAgY29uc3QgZmFjZXMgPSB0aGlzLmZhY2VzOwogICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7CiAgICBjb25zdCBwb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmdldEF2ZXJhZ2VQb2ludExvY2FsKHBvaW50SW5zaWRlKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IG4gPSBub3JtYWxzW2ldOwogICAgICBjb25zdCB2ID0gdmVydHNbZmFjZXNbaV1bMF1dOyAvLyBXZSBvbmx5IG5lZWQgb25lIHBvaW50IGluIHRoZSBmYWNlCiAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgY29uc3QgdlRvUCA9IG5ldyBWZWMzKCk7CiAgICAgIHAudnN1Yih2LCB2VG9QKTsKICAgICAgY29uc3QgcjEgPSBuLmRvdCh2VG9QKTsKICAgICAgY29uc3QgdlRvUG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpOwogICAgICBwb2ludEluc2lkZS52c3ViKHYsIHZUb1BvaW50SW5zaWRlKTsKICAgICAgY29uc3QgcjIgPSBuLmRvdCh2VG9Qb2ludEluc2lkZSk7CgogICAgICBpZiAocjEgPCAwICYmIHIyID4gMCB8fCByMSA+IDAgJiYgcjIgPCAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBFbmNvdW50ZXJlZCBzb21lIG90aGVyIHNpZ24uIEV4aXQuCiAgICAgIH0KICAgIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLgoKCiAgICByZXR1cm4gLTE7CiAgfQoKfQovKioNCiAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWwNCiAqIEBwYXJhbSB7VmVjM30gdmENCiAqIEBwYXJhbSB7VmVjM30gdmINCiAqIEBwYXJhbSB7VmVjM30gdmMNCiAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogKi8KCgpDb252ZXhQb2x5aGVkcm9uLmNvbXB1dGVOb3JtYWwgPSAodmEsIHZiLCB2YywgdGFyZ2V0KSA9PiB7CiAgY29uc3QgY2IgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICB2Yi52c3ViKHZhLCBhYik7CiAgdmMudnN1Yih2YiwgY2IpOwogIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICBpZiAoIXRhcmdldC5pc1plcm8oKSkgewogICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpOwogIH0KfTsKCmNvbnN0IG1heG1pbkEgPSBbXTsKY29uc3QgbWF4bWluQiA9IFtdOwovKioNCiAqIEdldCBtYXggYW5kIG1pbiBkb3QgcHJvZHVjdCBvZiBhIGNvbnZleCBodWxsIGF0IHBvc2l0aW9uIChwb3MscXVhdCkgcHJvamVjdGVkIG9udG8gYW4gYXhpcy4NCiAqIFJlc3VsdHMgYXJlIHNhdmVkIGluIHRoZSBhcnJheSBtYXhtaW4uDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIHByb2plY3QNCiAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbA0KICogQHBhcmFtIHtWZWMzfSBheGlzDQogKiBAcGFyYW0ge1ZlYzN9IHBvcw0KICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0DQogKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgcmVzdWx0WzBdIGFuZCByZXN1bHRbMV0gd2lsbCBiZSBzZXQgdG8gbWF4aW11bSBhbmQgbWluaW11bSwgcmVzcGVjdGl2ZWx5Lg0KICovCgpDb252ZXhQb2x5aGVkcm9uLnByb2plY3QgPSAoc2hhcGUsIGF4aXMsIHBvcywgcXVhdCwgcmVzdWx0KSA9PiB7CiAgY29uc3QgbiA9IHNoYXBlLnZlcnRpY2VzLmxlbmd0aDsKICBjb25zdCBsb2NhbEF4aXMgPSBuZXcgVmVjMygpOwogIGxldCBtYXggPSAwOwogIGxldCBtaW4gPSAwOwogIGNvbnN0IGxvY2FsT3JpZ2luID0gbmV3IFZlYzMoKTsKICBjb25zdCB2cyA9IHNoYXBlLnZlcnRpY2VzOwogIGxvY2FsT3JpZ2luLnNldFplcm8oKTsgLy8gVHJhbnNmb3JtIHRoZSBheGlzIHRvIGxvY2FsCgogIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBheGlzLCBsb2NhbEF4aXMpOwogIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGxvY2FsT3JpZ2luLCBsb2NhbE9yaWdpbik7CiAgY29uc3QgYWRkID0gbG9jYWxPcmlnaW4uZG90KGxvY2FsQXhpcyk7CiAgbWluID0gbWF4ID0gdnNbMF0uZG90KGxvY2FsQXhpcyk7CgogIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICBjb25zdCB2YWwgPSB2c1tpXS5kb3QobG9jYWxBeGlzKTsKCiAgICBpZiAodmFsID4gbWF4KSB7CiAgICAgIG1heCA9IHZhbDsKICAgIH0KCiAgICBpZiAodmFsIDwgbWluKSB7CiAgICAgIG1pbiA9IHZhbDsKICAgIH0KICB9CgogIG1pbiAtPSBhZGQ7CiAgbWF4IC09IGFkZDsKCiAgaWYgKG1pbiA+IG1heCkgewogICAgLy8gSW5jb25zaXN0ZW50IC0gc3dhcAogICAgY29uc3QgdGVtcCA9IG1pbjsKICAgIG1pbiA9IG1heDsKICAgIG1heCA9IHRlbXA7CiAgfSAvLyBPdXRwdXQKCgogIHJlc3VsdFswXSA9IG1heDsKICByZXN1bHRbMV0gPSBtaW47Cn07Ci8qKgogKiBBIDNkIGJveCBzaGFwZS4KICogQGNsYXNzIEJveAogKiBAY29uc3RydWN0b3IKICogQHBhcmFtIHtWZWMzfSBoYWxmRXh0ZW50cwogKiBAYXV0aG9yIHNjaHRlcHBlCiAqIEBleHRlbmRzIFNoYXBlCiAqLwoKCmNsYXNzIEJveCBleHRlbmRzIFNoYXBlIHsKICAvLyBVc2VkIGJ5IHRoZSBjb250YWN0IGdlbmVyYXRvciB0byBtYWtlIGNvbnRhY3RzIHdpdGggb3RoZXIgY29udmV4IHBvbHloZWRyYSBmb3IgZXhhbXBsZS4KICBjb25zdHJ1Y3RvcihoYWxmRXh0ZW50cykgewogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5CT1gKICAgIH0pOwogICAgdGhpcy5oYWxmRXh0ZW50cyA9IGhhbGZFeHRlbnRzOwogICAgdGhpcy5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24gPSBudWxsOwogICAgdGhpcy51cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKTsKICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICB9CiAgLyoqCiAgICogVXBkYXRlcyB0aGUgbG9jYWwgY29udmV4IHBvbHloZWRyb24gcmVwcmVzZW50YXRpb24gdXNlZCBmb3Igc29tZSBjb2xsaXNpb25zLgogICAqIEBtZXRob2QgdXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uCiAgICovCgoKICB1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKSB7CiAgICBjb25zdCBzeCA9IHRoaXMuaGFsZkV4dGVudHMueDsKICAgIGNvbnN0IHN5ID0gdGhpcy5oYWxmRXh0ZW50cy55OwogICAgY29uc3Qgc3ogPSB0aGlzLmhhbGZFeHRlbnRzLno7CiAgICBjb25zdCBWID0gVmVjMzsKICAgIGNvbnN0IHZlcnRpY2VzID0gW25ldyBWKC1zeCwgLXN5LCAtc3opLCBuZXcgVihzeCwgLXN5LCAtc3opLCBuZXcgVihzeCwgc3ksIC1zeiksIG5ldyBWKC1zeCwgc3ksIC1zeiksIG5ldyBWKC1zeCwgLXN5LCBzeiksIG5ldyBWKHN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIHN5LCBzeiksIG5ldyBWKC1zeCwgc3ksIHN6KV07CiAgICBjb25zdCBmYWNlcyA9IFtbMywgMiwgMSwgMF0sIC8vIC16CiAgICBbNCwgNSwgNiwgN10sIC8vICt6CiAgICBbNSwgNCwgMCwgMV0sIC8vIC15CiAgICBbMiwgMywgNywgNl0sIC8vICt5CiAgICBbMCwgNCwgNywgM10sIC8vIC14CiAgICBbMSwgMiwgNiwgNV0gLy8gK3gKICAgIF07CiAgICBjb25zdCBheGVzID0gW25ldyBWKDAsIDAsIDEpLCBuZXcgVigwLCAxLCAwKSwgbmV3IFYoMSwgMCwgMCldOwogICAgY29uc3QgaCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKHsKICAgICAgdmVydGljZXMsCiAgICAgIGZhY2VzLAogICAgICBheGVzCiAgICB9KTsKICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gaDsKICAgIGgubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsOwogIH0KICAvKioKICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcwogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAqIEByZXR1cm4ge1ZlYzN9CiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKgogICAqIEdldCB0aGUgYm94IDYgc2lkZSBub3JtYWxzCiAgICogQG1ldGhvZCBnZXRTaWRlTm9ybWFscwogICAqIEBwYXJhbSB7YXJyYXl9ICAgICAgc2l4VGFyZ2V0VmVjdG9ycyBBbiBhcnJheSBvZiA2IHZlY3RvcnMsIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBub3JtYWxzIGluLgogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdCAgICAgICAgICAgICBPcmllbnRhdGlvbiB0byBhcHBseSB0byB0aGUgbm9ybWFsIHZlY3RvcnMuIElmIG5vdCBwcm92aWRlZCwgdGhlIHZlY3RvcnMgd2lsbCBiZSBpbiByZXNwZWN0IHRvIHRoZSBsb2NhbCBmcmFtZS4KICAgKiBAcmV0dXJuIHthcnJheX0KICAgKi8KCgogIGdldFNpZGVOb3JtYWxzKHNpeFRhcmdldFZlY3RvcnMsIHF1YXQpIHsKICAgIGNvbnN0IHNpZGVzID0gc2l4VGFyZ2V0VmVjdG9yczsKICAgIGNvbnN0IGV4ID0gdGhpcy5oYWxmRXh0ZW50czsKICAgIHNpZGVzWzBdLnNldChleC54LCAwLCAwKTsKICAgIHNpZGVzWzFdLnNldCgwLCBleC55LCAwKTsKICAgIHNpZGVzWzJdLnNldCgwLCAwLCBleC56KTsKICAgIHNpZGVzWzNdLnNldCgtZXgueCwgMCwgMCk7CiAgICBzaWRlc1s0XS5zZXQoMCwgLWV4LnksIDApOwogICAgc2lkZXNbNV0uc2V0KDAsIDAsIC1leC56KTsKCiAgICBpZiAocXVhdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBzaWRlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHF1YXQudm11bHQoc2lkZXNbaV0sIHNpZGVzW2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBzaWRlczsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLmhhbGZFeHRlbnRzLmxlbmd0aCgpOwogIH0KCiAgZm9yRWFjaFdvcmxkQ29ybmVyKHBvcywgcXVhdCwgY2FsbGJhY2spIHsKICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgY29uc3QgY29ybmVycyA9IFtbZS54LCBlLnksIGUuel0sIFstZS54LCBlLnksIGUuel0sIFstZS54LCAtZS55LCBlLnpdLCBbLWUueCwgLWUueSwgLWUuel0sIFtlLngsIC1lLnksIC1lLnpdLCBbZS54LCBlLnksIC1lLnpdLCBbLWUueCwgZS55LCAtZS56XSwgW2UueCwgLWUueSwgZS56XV07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHdvcmxkQ29ybmVyVGVtcFBvcy5zZXQoY29ybmVyc1tpXVswXSwgY29ybmVyc1tpXVsxXSwgY29ybmVyc1tpXVsyXSk7CiAgICAgIHF1YXQudm11bHQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICBwb3MudmFkZCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7CiAgICAgIGNhbGxiYWNrKHdvcmxkQ29ybmVyVGVtcFBvcy54LCB3b3JsZENvcm5lclRlbXBQb3MueSwgd29ybGRDb3JuZXJUZW1wUG9zLnopOwogICAgfQogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgd29ybGRDb3JuZXJzVGVtcFswXS5zZXQoZS54LCBlLnksIGUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzFdLnNldCgtZS54LCBlLnksIGUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzJdLnNldCgtZS54LCAtZS55LCBlLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFszXS5zZXQoLWUueCwgLWUueSwgLWUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzRdLnNldChlLngsIC1lLnksIC1lLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFs1XS5zZXQoZS54LCBlLnksIC1lLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFs2XS5zZXQoLWUueCwgZS55LCAtZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbN10uc2V0KGUueCwgLWUueSwgZS56KTsKICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFswXTsKICAgIHF1YXQudm11bHQod2MsIHdjKTsKICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICBtYXguY29weSh3Yyk7CiAgICBtaW4uY29weSh3Yyk7CgogICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4OyBpKyspIHsKICAgICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wW2ldOwogICAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICAgIGNvbnN0IHggPSB3Yy54OwogICAgICBjb25zdCB5ID0gd2MueTsKICAgICAgY29uc3QgeiA9IHdjLno7CgogICAgICBpZiAoeCA+IG1heC54KSB7CiAgICAgICAgbWF4LnggPSB4OwogICAgICB9CgogICAgICBpZiAoeSA+IG1heC55KSB7CiAgICAgICAgbWF4LnkgPSB5OwogICAgICB9CgogICAgICBpZiAoeiA+IG1heC56KSB7CiAgICAgICAgbWF4LnogPSB6OwogICAgICB9CgogICAgICBpZiAoeCA8IG1pbi54KSB7CiAgICAgICAgbWluLnggPSB4OwogICAgICB9CgogICAgICBpZiAoeSA8IG1pbi55KSB7CiAgICAgICAgbWluLnkgPSB5OwogICAgICB9CgogICAgICBpZiAoeiA8IG1pbi56KSB7CiAgICAgICAgbWluLnogPSB6OwogICAgICB9CiAgICB9IC8vIEdldCBlYWNoIGF4aXMgbWF4CiAgICAvLyBtaW4uc2V0KEluZmluaXR5LEluZmluaXR5LEluZmluaXR5KTsKICAgIC8vIG1heC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpOwogICAgLy8gdGhpcy5mb3JFYWNoV29ybGRDb3JuZXIocG9zLHF1YXQsZnVuY3Rpb24oeCx5LHopewogICAgLy8gICAgIGlmKHggPiBtYXgueCl7CiAgICAvLyAgICAgICAgIG1heC54ID0geDsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeSA+IG1heC55KXsKICAgIC8vICAgICAgICAgbWF4LnkgPSB5OwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZih6ID4gbWF4LnopewogICAgLy8gICAgICAgICBtYXgueiA9IHo7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmKHggPCBtaW4ueCl7CiAgICAvLyAgICAgICAgIG1pbi54ID0geDsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeSA8IG1pbi55KXsKICAgIC8vICAgICAgICAgbWluLnkgPSB5OwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZih6IDwgbWluLnopewogICAgLy8gICAgICAgICBtaW4ueiA9IHo7CiAgICAvLyAgICAgfQogICAgLy8gfSk7CgogIH0KCn0KCkJveC5jYWxjdWxhdGVJbmVydGlhID0gKGhhbGZFeHRlbnRzLCBtYXNzLCB0YXJnZXQpID0+IHsKICBjb25zdCBlID0gaGFsZkV4dGVudHM7CiAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTsKICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnggKiAyICogZS54ICsgMiAqIGUueiAqIDIgKiBlLnopOwogIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS54ICogMiAqIGUueCk7Cn07Cgpjb25zdCB3b3JsZENvcm5lclRlbXBQb3MgPSBuZXcgVmVjMygpOwpjb25zdCB3b3JsZENvcm5lcnNUZW1wID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwpjb25zdCBCT0RZX1NMRUVQX1NUQVRFUyA9IHsKICBBV0FLRTogMCwKICBTTEVFUFk6IDEsCiAgU0xFRVBJTkc6IDIKfTsKLyoqDQogKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy4NCiAqIEBjbGFzcyBCb2R5DQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0DQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy52ZWxvY2l0eV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhclZlbG9jaXR5XQ0KICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbb3B0aW9ucy5xdWF0ZXJuaW9uXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hc3NdDQogKiBAcGFyYW0ge01hdGVyaWFsfSBbb3B0aW9ucy5tYXRlcmlhbF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50eXBlXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmVhckRhbXBpbmc9MC4wMV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyRGFtcGluZz0wLjAxXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwPXRydWVdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0PTAuMV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zbGVlcFRpbWVMaW1pdD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZml4ZWRSb3RhdGlvbj1mYWxzZV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMubGluZWFyRmFjdG9yXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyRmFjdG9yXQ0KICogQHBhcmFtIHtTaGFwZX0gW29wdGlvbnMuc2hhcGVdDQogKiBAZXhhbXBsZQ0KICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7DQogKiAgICAgICAgIG1hc3M6IDENCiAqICAgICB9KTsNCiAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmUoMSk7DQogKiAgICAgYm9keS5hZGRTaGFwZShzaGFwZSk7DQogKiAgICAgd29ybGQuYWRkQm9keShib2R5KTsNCiAqLwoKY2xhc3MgQm9keSBleHRlbmRzIEV2ZW50VGFyZ2V0IHsKICAvLyBQb3NpdGlvbiBvZiBib2R5IGluIFdvcmxkLmJvZGllcy4gVXBkYXRlZCBieSBXb3JsZCBhbmQgdXNlZCBpbiBBcnJheUNvbGxpc2lvbk1hdHJpeC4KICAvLyBSZWZlcmVuY2UgdG8gdGhlIHdvcmxkIHRoZSBib2R5IGlzIGxpdmluZyBpbi4KICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQkVGT1JFIHN0ZXBwaW5nIHRoZSBzeXN0ZW0uIFVzZSBpdCB0byBhcHBseSBmb3JjZXMsIGZvciBleGFtcGxlLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCAidGhpcyIgd2lsbCByZWZlciB0byB0aGlzIEJvZHkgb2JqZWN0LiBEZXByZWNhdGVkIC0gdXNlIFdvcmxkIGV2ZW50cyBpbnN0ZWFkLgogIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBBRlRFUiBzdGVwcGluZyB0aGUgc3lzdGVtLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCAidGhpcyIgd2lsbCByZWZlciB0byB0aGlzIEJvZHkgb2JqZWN0LiBEZXByZWNhdGVkIC0gdXNlIFdvcmxkIGV2ZW50cyBpbnN0ZWFkLgogIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZCAtIGkuZS4gImNvbGxpZGUiIGV2ZW50cyB3aWxsIGJlIHJhaXNlZCwgYnV0IGZvcmNlcyB3aWxsIG5vdCBiZSBhbHRlcmVkLgogIC8vIFdvcmxkIHNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogIC8vIEludGVycG9sYXRlZCBwb3NpdGlvbiBvZiB0aGUgYm9keS4KICAvLyBJbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogIC8vIFdvcmxkIHNwYWNlIHZlbG9jaXR5IG9mIHRoZSBib2R5LgogIC8vIExpbmVhciBmb3JjZSBvbiB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS4KICAvLyBPbmUgb2Y6IEJvZHkuRFlOQU1JQywgQm9keS5TVEFUSUMgYW5kIEJvZHkuS0lORU1BVElDLgogIC8vIElmIHRydWUsIHRoZSBib2R5IHdpbGwgYXV0b21hdGljYWxseSBmYWxsIHRvIHNsZWVwLgogIC8vIEN1cnJlbnQgc2xlZXAgc3RhdGUuCiAgLy8gSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS4KICAvLyBJZiB0aGUgYm9keSBoYXMgYmVlbiBzbGVlcHkgZm9yIHRoaXMgc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBzbGVlcGluZy4KICAvLyBXb3JsZCBzcGFjZSByb3RhdGlvbmFsIGZvcmNlIG9uIHRoZSBib2R5LCBhcm91bmQgY2VudGVyIG9mIG1hc3MuCiAgLy8gV29ybGQgc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuCiAgLy8gSW50ZXJwb2xhdGVkIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LgogIC8vIEFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHksIGluIHdvcmxkIHNwYWNlLiBUaGluayBvZiB0aGUgYW5ndWxhciB2ZWxvY2l0eSBhcyBhIHZlY3Rvciwgd2hpY2ggdGhlIGJvZHkgcm90YXRlcyBhcm91bmQuIFRoZSBsZW5ndGggb2YgdGhpcyB2ZWN0b3IgZGV0ZXJtaW5lcyBob3cgZmFzdCAoaW4gcmFkaWFucyBwZXIgc2Vjb25kKSB0aGUgYm9keSByb3RhdGVzLgogIC8vIFBvc2l0aW9uIG9mIGVhY2ggU2hhcGUgaW4gdGhlIGJvZHksIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuCiAgLy8gT3JpZW50YXRpb24gb2YgZWFjaCBTaGFwZSwgZ2l2ZW4gaW4gbG9jYWwgQm9keSBzcGFjZS4KICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgYm9keSB0byByb3RhdGUuIE1ha2Ugc3VyZSB0byBydW4gLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkgYWZ0ZXIgY2hhbmdpbmcgdGhpcy4KICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgbW90aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuCiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIHJvdGF0aW9uYWwgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgcm90YXRpb24gYWxvbmcgYWxsIGF4ZXMgd2hpbGUgKDAsMCwwKSBhbGxvd3Mgbm9uZS4KICAvLyBXb3JsZCBzcGFjZSBib3VuZGluZyBib3ggb2YgdGhlIGJvZHkgYW5kIGl0cyBzaGFwZXMuCiAgLy8gSW5kaWNhdGVzIGlmIHRoZSBBQUJCIG5lZWRzIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHVzZS4KICAvLyBUb3RhbCBib3VuZGluZyByYWRpdXMgb2YgdGhlIEJvZHkgaW5jbHVkaW5nIGl0cyBzaGFwZXMsIHJlbGF0aXZlIHRvIGJvZHkucG9zaXRpb24uCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5pZCA9IEJvZHkuaWRDb3VudGVyKys7CiAgICB0aGlzLmluZGV4ID0gLTE7CiAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgIHRoaXMucHJlU3RlcCA9IG51bGw7CiAgICB0aGlzLnBvc3RTdGVwID0gbnVsbDsKICAgIHRoaXMudmxhbWJkYSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPT09ICdudW1iZXInID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xOwogICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgdGhpcy5pbml0UG9zaXRpb24gPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7CiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgIH0KCiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy52ZWxvY2l0eSkgewogICAgICB0aGlzLnZlbG9jaXR5LmNvcHkob3B0aW9ucy52ZWxvY2l0eSk7CiAgICB9CgogICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5mb3JjZSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBtYXNzID0gdHlwZW9mIG9wdGlvbnMubWFzcyA9PT0gJ251bWJlcicgPyBvcHRpb25zLm1hc3MgOiAwOwogICAgdGhpcy5tYXNzID0gbWFzczsKICAgIHRoaXMuaW52TWFzcyA9IG1hc3MgPiAwID8gMS4wIC8gbWFzcyA6IDA7CiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCB8fCBudWxsOwogICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxOwogICAgdGhpcy50eXBlID0gbWFzcyA8PSAwLjAgPyBCb2R5LlNUQVRJQyA6IEJvZHkuRFlOQU1JQzsKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PT0gdHlwZW9mIEJvZHkuU1RBVElDKSB7CiAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTsKICAgIH0KCiAgICB0aGlzLmFsbG93U2xlZXAgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd1NsZWVwICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYWxsb3dTbGVlcCA6IHRydWU7CiAgICB0aGlzLnNsZWVwU3RhdGUgPSAwOwogICAgdGhpcy5zbGVlcFNwZWVkTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgOiAwLjE7CiAgICB0aGlzLnNsZWVwVGltZUxpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFRpbWVMaW1pdCA6IDE7CiAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDsKICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgdGhpcy50b3JxdWUgPSBuZXcgVmVjMygpOwogICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHRoaXMuaW5pdFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwogICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwogICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7CiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICB9CgogICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSkgewogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KTsKICAgIH0KCiAgICB0aGlzLmluaXRBbmd1bGFyVmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5zaGFwZXMgPSBbXTsKICAgIHRoaXMuc2hhcGVPZmZzZXRzID0gW107CiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zID0gW107CiAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgdGhpcy5pbnZJbmVydGlhID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkID0gbmV3IE1hdDMoKTsKICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUgPSBuZXcgTWF0MygpOwogICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTsKICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSB0eXBlb2Ygb3B0aW9ucy5hbmd1bGFyRGFtcGluZyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ3VsYXJEYW1waW5nIDogMC4wMTsKICAgIHRoaXMubGluZWFyRmFjdG9yID0gbmV3IFZlYzMoMSwgMSwgMSk7CgogICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7CiAgICAgIHRoaXMubGluZWFyRmFjdG9yLmNvcHkob3B0aW9ucy5saW5lYXJGYWN0b3IpOwogICAgfQoKICAgIHRoaXMuYW5ndWxhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgIGlmIChvcHRpb25zLmFuZ3VsYXJGYWN0b3IpIHsKICAgICAgdGhpcy5hbmd1bGFyRmFjdG9yLmNvcHkob3B0aW9ucy5hbmd1bGFyRmFjdG9yKTsKICAgIH0KCiAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpOwogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7CiAgICB0aGlzLndsYW1iZGEgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLnNoYXBlKSB7CiAgICAgIHRoaXMuYWRkU2hhcGUob3B0aW9ucy5zaGFwZSk7CiAgICB9CgogICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpOwogIH0KICAvKioNCiAgICogV2FrZSB0aGUgYm9keSB1cC4NCiAgICogQG1ldGhvZCB3YWtlVXANCiAgICovCgoKICB3YWtlVXAoKSB7CiAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICB0aGlzLnNsZWVwU3RhdGUgPSAwOwogICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CgogICAgaWYgKHByZXZTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS53YWtldXBFdmVudCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBGb3JjZSBib2R5IHNsZWVwDQogICAqIEBtZXRob2Qgc2xlZXANCiAgICovCgoKICBzbGVlcCgpIHsKICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBJTkc7CiAgICB0aGlzLnZlbG9jaXR5LnNldCgwLCAwLCAwKTsKICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnNldCgwLCAwLCAwKTsKICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQ2FsbGVkIGV2ZXJ5IHRpbWVzdGVwIHRvIHVwZGF0ZSBpbnRlcm5hbCBzbGVlcCB0aW1lciBhbmQgY2hhbmdlIHNsZWVwIHN0YXRlIGlmIG5lZWRlZC4NCiAgICogQG1ldGhvZCBzbGVlcFRpY2sNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgVGhlIHdvcmxkIHRpbWUgaW4gc2Vjb25kcw0KICAgKi8KCgogIHNsZWVwVGljayh0aW1lKSB7CiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7CiAgICAgIGNvbnN0IHNsZWVwU3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZCA9IHRoaXMudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgdGhpcy5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpOwogICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZCA9IHRoaXMuc2xlZXBTcGVlZExpbWl0ICoqIDI7CgogICAgICBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBzcGVlZFNxdWFyZWQgPCBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBZOyAvLyBTbGVlcHkKCiAgICAgICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IHRpbWU7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXB5RXZlbnQpOwogICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHNwZWVkU3F1YXJlZCA+IHNwZWVkTGltaXRTcXVhcmVkKSB7CiAgICAgICAgdGhpcy53YWtlVXAoKTsgLy8gV2FrZSB1cAogICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHRpbWUgLSB0aGlzLnRpbWVMYXN0U2xlZXB5ID4gdGhpcy5zbGVlcFRpbWVMaW1pdCkgewogICAgICAgIHRoaXMuc2xlZXAoKTsgLy8gU2xlZXBpbmcKCiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXBFdmVudCk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgInNvbHZlIG1hc3MiLg0KICAgKiBAbWV0aG9kIHVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMNCiAgICovCgoKICB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCkgewogICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuc2V0WmVybygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gdGhpcy5pbnZNYXNzOwogICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSk7CiAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUuY29weSh0aGlzLmludkluZXJ0aWFXb3JsZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IGEgd29ybGQgcG9pbnQgdG8gbG9jYWwgYm9keSBmcmFtZS4NCiAgICogQG1ldGhvZCBwb2ludFRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuDQogICAqIEBtZXRob2QgdmVjdG9yVG9Mb2NhbEZyYW1lDQogICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnQNCiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdmVjdG9yVG9Mb2NhbEZyYW1lKHdvcmxkVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuDQogICAqIEBtZXRob2QgcG9pbnRUb1dvcmxkRnJhbWUNCiAgICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludA0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBwb2ludFRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTsKICAgIHJlc3VsdC52YWRkKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuDQogICAqIEBtZXRob2QgdmVjdG9yVG9Xb3JsZEZyYW1lDQogICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsVmVjdG9yDQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEFkZCBhIHNoYXBlIHRvIHRoZSBib2R5IHdpdGggYSBsb2NhbCBvZmZzZXQgYW5kIG9yaWVudGF0aW9uLg0KICAgKiBAbWV0aG9kIGFkZFNoYXBlDQogICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlDQogICAqIEBwYXJhbSB7VmVjM30gW19vZmZzZXRdDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW19vcmllbnRhdGlvbl0NCiAgICogQHJldHVybiB7Qm9keX0gVGhlIGJvZHkgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5Lg0KICAgKi8KCgogIGFkZFNoYXBlKHNoYXBlLCBfb2Zmc2V0LCBfb3JpZW50YXRpb24pIHsKICAgIGNvbnN0IG9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgaWYgKF9vZmZzZXQpIHsKICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7CiAgICB9CgogICAgaWYgKF9vcmllbnRhdGlvbikgewogICAgICBvcmllbnRhdGlvbi5jb3B5KF9vcmllbnRhdGlvbik7CiAgICB9CgogICAgdGhpcy5zaGFwZXMucHVzaChzaGFwZSk7CiAgICB0aGlzLnNoYXBlT2Zmc2V0cy5wdXNoKG9mZnNldCk7CiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnB1c2gob3JpZW50YXRpb24pOwogICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpOwogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgc2hhcGUuYm9keSA9IHRoaXM7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBib2R5LiBTaG91bGQgYmUgZG9uZSBpZiBhbnkgb2YgdGhlIHNoYXBlcyBhcmUgY2hhbmdlZC4NCiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1cw0KICAgKi8KCgogIHVwZGF0ZUJvdW5kaW5nUmFkaXVzKCkgewogICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7CiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoOwogICAgbGV0IHJhZGl1cyA9IDA7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsKICAgICAgc2hhcGUudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgY29uc3Qgb2Zmc2V0ID0gc2hhcGVPZmZzZXRzW2ldLmxlbmd0aCgpOwogICAgICBjb25zdCByID0gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7CgogICAgICBpZiAob2Zmc2V0ICsgciA+IHJhZGl1cykgewogICAgICAgIHJhZGl1cyA9IG9mZnNldCArIHI7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzOwogIH0KICAvKioNCiAgICogVXBkYXRlcyB0aGUgLmFhYmINCiAgICogQG1ldGhvZCBjb21wdXRlQUFCQg0KICAgKiBAdG9kbyByZW5hbWUgdG8gdXBkYXRlQUFCQigpDQogICAqLwoKCiAgY29tcHV0ZUFBQkIoKSB7CiAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlczsKICAgIGNvbnN0IHNoYXBlT2Zmc2V0cyA9IHRoaXMuc2hhcGVPZmZzZXRzOwogICAgY29uc3Qgc2hhcGVPcmllbnRhdGlvbnMgPSB0aGlzLnNoYXBlT3JpZW50YXRpb25zOwogICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7CiAgICBjb25zdCBvZmZzZXQgPSB0bXBWZWM7CiAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRtcFF1YXQkMTsKICAgIGNvbnN0IGJvZHlRdWF0ID0gdGhpcy5xdWF0ZXJuaW9uOwogICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjsKICAgIGNvbnN0IHNoYXBlQUFCQiA9IGNvbXB1dGVBQUJCX3NoYXBlQUFCQjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldOyAvLyBHZXQgc2hhcGUgd29ybGQgcG9zaXRpb24KCiAgICAgIGJvZHlRdWF0LnZtdWx0KHNoYXBlT2Zmc2V0c1tpXSwgb2Zmc2V0KTsKICAgICAgb2Zmc2V0LnZhZGQodGhpcy5wb3NpdGlvbiwgb2Zmc2V0KTsgLy8gR2V0IHNoYXBlIHdvcmxkIHF1YXRlcm5pb24KCiAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkIKCiAgICAgIHNoYXBlLmNhbGN1bGF0ZVdvcmxkQUFCQihvZmZzZXQsIG9yaWVudGF0aW9uLCBzaGFwZUFBQkIubG93ZXJCb3VuZCwgc2hhcGVBQUJCLnVwcGVyQm91bmQpOwoKICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICBhYWJiLmNvcHkoc2hhcGVBQUJCKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhYWJiLmV4dGVuZChzaGFwZUFBQkIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSAuaW5lcnRpYVdvcmxkIGFuZCAuaW52SW5lcnRpYVdvcmxkDQogICAqIEBtZXRob2QgdXBkYXRlSW5lcnRpYVdvcmxkDQogICAqLwoKCiAgdXBkYXRlSW5lcnRpYVdvcmxkKGZvcmNlKSB7CiAgICBjb25zdCBJID0gdGhpcy5pbnZJbmVydGlhOwogICAgaWYgKEkueCA9PT0gSS55ICYmIEkueSA9PT0gSS56ICYmICFmb3JjZSkgO2Vsc2UgewogICAgICBjb25zdCBtMSA9IHVpd19tMTsKICAgICAgY29uc3QgbTIgPSB1aXdfbTI7CiAgICAgIG0xLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTsKICAgICAgbTEudHJhbnNwb3NlKG0yKTsKICAgICAgbTEuc2NhbGUoSSwgbTEpOwogICAgICBtMS5tbXVsdChtMiwgdGhpcy5pbnZJbmVydGlhV29ybGQpOwogICAgfQogIH0KCiAgYXBwbHlGb3JjZShmb3JjZSwgcmVsYXRpdmVQb2ludCkgewogICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgIC8vIE5lZWRlZD8KICAgICAgcmV0dXJuOwogICAgfSAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgZm9yY2UKCgogICAgY29uc3Qgcm90Rm9yY2UgPSBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2U7CiAgICByZWxhdGl2ZVBvaW50LmNyb3NzKGZvcmNlLCByb3RGb3JjZSk7IC8vIEFkZCBsaW5lYXIgZm9yY2UKCiAgICB0aGlzLmZvcmNlLnZhZGQoZm9yY2UsIHRoaXMuZm9yY2UpOyAvLyBBZGQgcm90YXRpb25hbCBmb3JjZQoKICAgIHRoaXMudG9ycXVlLnZhZGQocm90Rm9yY2UsIHRoaXMudG9ycXVlKTsKICB9CgogIGFwcGx5TG9jYWxGb3JjZShsb2NhbEZvcmNlLCBsb2NhbFBvaW50KSB7CiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlOwogICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkOyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZQoKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsRm9yY2UsIHdvcmxkRm9yY2UpOwogICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICAgIHRoaXMuYXBwbHlGb3JjZSh3b3JsZEZvcmNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogIH0KCiAgYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbGF0aXZlUG9pbnQpIHsKICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykgewogICAgICByZXR1cm47CiAgICB9IC8vIENvbXB1dGUgcG9pbnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJvZHkgY2VudGVyCgoKICAgIGNvbnN0IHIgPSByZWxhdGl2ZVBvaW50OyAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgIGNvbnN0IHZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvOwogICAgdmVsby5jb3B5KGltcHVsc2UpOwogICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2UKCiAgICB0aGlzLnZlbG9jaXR5LnZhZGQodmVsbywgdGhpcy52ZWxvY2l0eSk7IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBpbXB1bHNlIHZlbG9jaXR5CgogICAgY29uc3Qgcm90VmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG87CiAgICByLmNyb3NzKGltcHVsc2UsIHJvdFZlbG8pOwogICAgLyoNCiAgICAgcm90VmVsby54ICo9IHRoaXMuaW52SW5lcnRpYS54Ow0KICAgICByb3RWZWxvLnkgKj0gdGhpcy5pbnZJbmVydGlhLnk7DQogICAgIHJvdFZlbG8ueiAqPSB0aGlzLmludkluZXJ0aWEuejsNCiAgICAgKi8KCiAgICB0aGlzLmludkluZXJ0aWFXb3JsZC52bXVsdChyb3RWZWxvLCByb3RWZWxvKTsgLy8gQWRkIHJvdGF0aW9uYWwgSW1wdWxzZQoKICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnZhZGQocm90VmVsbywgdGhpcy5hbmd1bGFyVmVsb2NpdHkpOwogIH0KCiAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50KSB7CiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHdvcmxkSW1wdWxzZSA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlOwogICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50OyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZQoKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsSW1wdWxzZSwgd29ybGRJbXB1bHNlKTsKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICB0aGlzLmFwcGx5SW1wdWxzZSh3b3JsZEltcHVsc2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgfQogIC8qKg0KICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGJvZHkgc2hhcGUgb3IgbWFzcy4NCiAgICogQG1ldGhvZCB1cGRhdGVNYXNzUHJvcGVydGllcw0KICAgKi8KCgogIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCkgewogICAgY29uc3QgaGFsZkV4dGVudHMgPSBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzOwogICAgdGhpcy5pbnZNYXNzID0gdGhpcy5tYXNzID4gMCA/IDEuMCAvIHRoaXMubWFzcyA6IDA7CiAgICBjb25zdCBJID0gdGhpcy5pbmVydGlhOwogICAgY29uc3QgZml4ZWQgPSB0aGlzLmZpeGVkUm90YXRpb247IC8vIEFwcHJveGltYXRlIHdpdGggQUFCQiBib3gKCiAgICB0aGlzLmNvbXB1dGVBQUJCKCk7CiAgICBoYWxmRXh0ZW50cy5zZXQoKHRoaXMuYWFiYi51cHBlckJvdW5kLnggLSB0aGlzLmFhYmIubG93ZXJCb3VuZC54KSAvIDIsICh0aGlzLmFhYmIudXBwZXJCb3VuZC55IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueSkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueiAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnopIC8gMik7CiAgICBCb3guY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgdGhpcy5tYXNzLCBJKTsKICAgIHRoaXMuaW52SW5lcnRpYS5zZXQoSS54ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnggOiAwLCBJLnkgPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueSA6IDAsIEkueiA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS56IDogMCk7CiAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCh0cnVlKTsKICB9CiAgLyoqDQogICAqIEdldCB3b3JsZCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5Lg0KICAgKiBAbWV0aG9kIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnQNCiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSByZXN1bHQgdmVjdG9yLg0KICAgKi8KCgogIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdvcmxkUG9pbnQsIHJlc3VsdCkgewogICAgY29uc3QgciA9IG5ldyBWZWMzKCk7CiAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcik7CiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyLCByZXN1bHQpOwogICAgdGhpcy52ZWxvY2l0eS52YWRkKHJlc3VsdCwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBNb3ZlIHRoZSBib2R5IGZvcndhcmQgaW4gdGltZS4NCiAgICogQHBhcmFtIHtudW1iZXJ9IGR0IFRpbWUgc3RlcA0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1YXROb3JtYWxpemUgU2V0IHRvIHRydWUgdG8gbm9ybWFsaXplIHRoZSBib2R5IHF1YXRlcm5pb24NCiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplRmFzdCBJZiB0aGUgcXVhdGVybmlvbiBzaG91bGQgYmUgbm9ybWFsaXplZCB1c2luZyAiZmFzdCIgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uDQogICAqLwoKCiAgaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCkgewogICAgLy8gU2F2ZSBwcmV2aW91cyBwb3NpdGlvbgogICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7CiAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KHRoaXMucXVhdGVybmlvbik7CgogICAgaWYgKCEodGhpcy50eXBlID09PSBCb2R5LkRZTkFNSUMgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgfHwgdGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHZlbG8gPSB0aGlzLnZlbG9jaXR5OwogICAgY29uc3QgYW5ndWxhclZlbG8gPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eTsKICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb247CiAgICBjb25zdCBmb3JjZSA9IHRoaXMuZm9yY2U7CiAgICBjb25zdCB0b3JxdWUgPSB0aGlzLnRvcnF1ZTsKICAgIGNvbnN0IHF1YXQgPSB0aGlzLnF1YXRlcm5pb247CiAgICBjb25zdCBpbnZNYXNzID0gdGhpcy5pbnZNYXNzOwogICAgY29uc3QgaW52SW5lcnRpYSA9IHRoaXMuaW52SW5lcnRpYVdvcmxkOwogICAgY29uc3QgbGluZWFyRmFjdG9yID0gdGhpcy5saW5lYXJGYWN0b3I7CiAgICBjb25zdCBpTWR0ID0gaW52TWFzcyAqIGR0OwogICAgdmVsby54ICs9IGZvcmNlLnggKiBpTWR0ICogbGluZWFyRmFjdG9yLng7CiAgICB2ZWxvLnkgKz0gZm9yY2UueSAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueTsKICAgIHZlbG8ueiArPSBmb3JjZS56ICogaU1kdCAqIGxpbmVhckZhY3Rvci56OwogICAgY29uc3QgZSA9IGludkluZXJ0aWEuZWxlbWVudHM7CiAgICBjb25zdCBhbmd1bGFyRmFjdG9yID0gdGhpcy5hbmd1bGFyRmFjdG9yOwogICAgY29uc3QgdHggPSB0b3JxdWUueCAqIGFuZ3VsYXJGYWN0b3IueDsKICAgIGNvbnN0IHR5ID0gdG9ycXVlLnkgKiBhbmd1bGFyRmFjdG9yLnk7CiAgICBjb25zdCB0eiA9IHRvcnF1ZS56ICogYW5ndWxhckZhY3Rvci56OwogICAgYW5ndWxhclZlbG8ueCArPSBkdCAqIChlWzBdICogdHggKyBlWzFdICogdHkgKyBlWzJdICogdHopOwogICAgYW5ndWxhclZlbG8ueSArPSBkdCAqIChlWzNdICogdHggKyBlWzRdICogdHkgKyBlWzVdICogdHopOwogICAgYW5ndWxhclZlbG8ueiArPSBkdCAqIChlWzZdICogdHggKyBlWzddICogdHkgKyBlWzhdICogdHopOyAvLyBVc2UgbmV3IHZlbG9jaXR5ICAtIGxlYXAgZnJvZwoKICAgIHBvcy54ICs9IHZlbG8ueCAqIGR0OwogICAgcG9zLnkgKz0gdmVsby55ICogZHQ7CiAgICBwb3MueiArPSB2ZWxvLnogKiBkdDsKICAgIHF1YXQuaW50ZWdyYXRlKHRoaXMuYW5ndWxhclZlbG9jaXR5LCBkdCwgdGhpcy5hbmd1bGFyRmFjdG9yLCBxdWF0KTsKCiAgICBpZiAocXVhdE5vcm1hbGl6ZSkgewogICAgICBpZiAocXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgICAgICBxdWF0Lm5vcm1hbGl6ZUZhc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBxdWF0Lm5vcm1hbGl6ZSgpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOyAvLyBVcGRhdGUgd29ybGQgaW5lcnRpYQoKICAgIHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKCk7CiAgfQoKfQovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaA0KICogb2YgdGhlIHR3byBib2RpZXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4NCiAqIEBldmVudCBjb2xsaWRlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4NCiAqIEBwYXJhbSB7Q29udGFjdEVxdWF0aW9ufSBjb250YWN0IFRoZSBkZXRhaWxzIG9mIHRoZSBjb2xsaXNpb24uDQogKi8KCgpCb2R5LkNPTExJREVfRVZFTlRfTkFNRSA9ICdjb2xsaWRlJzsKLyoqDQogKiBBIGR5bmFtaWMgYm9keSBpcyBmdWxseSBzaW11bGF0ZWQuIENhbiBiZSBtb3ZlZCBtYW51YWxseSBieSB0aGUgdXNlciwgYnV0IG5vcm1hbGx5IHRoZXkgbW92ZSBhY2NvcmRpbmcgdG8gZm9yY2VzLiBBIGR5bmFtaWMgYm9keSBjYW4gY29sbGlkZSB3aXRoIGFsbCBib2R5IHR5cGVzLiBBIGR5bmFtaWMgYm9keSBhbHdheXMgaGFzIGZpbml0ZSwgbm9uLXplcm8gbWFzcy4NCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSBEWU5BTUlDDQogKiBAdHlwZSB7TnVtYmVyfQ0KICovCgpCb2R5LkRZTkFNSUMgPSAxOwovKioNCiAqIEEgc3RhdGljIGJvZHkgZG9lcyBub3QgbW92ZSBkdXJpbmcgc2ltdWxhdGlvbiBhbmQgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gU3RhdGljIGJvZGllcyBjYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgc2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkuIFRoZSB2ZWxvY2l0eSBvZiBhIHN0YXRpYyBib2R5IGlzIGFsd2F5cyB6ZXJvLiBTdGF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgU1RBVElDDQogKiBAdHlwZSB7TnVtYmVyfQ0KICovCgpCb2R5LlNUQVRJQyA9IDI7Ci8qKg0KICogQSBraW5lbWF0aWMgYm9keSBtb3ZlcyB1bmRlciBzaW11bGF0aW9uIGFjY29yZGluZyB0byBpdHMgdmVsb2NpdHkuIFRoZXkgZG8gbm90IHJlc3BvbmQgdG8gZm9yY2VzLiBUaGV5IGNhbiBiZSBtb3ZlZCBtYW51YWxseSwgYnV0IG5vcm1hbGx5IGEga2luZW1hdGljIGJvZHkgaXMgbW92ZWQgYnkgc2V0dGluZyBpdHMgdmVsb2NpdHkuIEEga2luZW1hdGljIGJvZHkgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gS2luZW1hdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLg0KICogQHN0YXRpYw0KICogQHByb3BlcnR5IEtJTkVNQVRJQw0KICogQHR5cGUge051bWJlcn0NCiAqLwoKQm9keS5LSU5FTUFUSUMgPSA0OwovKioNCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSBBV0FLRQ0KICogQHR5cGUge251bWJlcn0NCiAqLwoKQm9keS5BV0FLRSA9IEJPRFlfU0xFRVBfU1RBVEVTLkFXQUtFOwpCb2R5LlNMRUVQWSA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQWTsKQm9keS5TTEVFUElORyA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQSU5HOwpCb2R5LmlkQ291bnRlciA9IDA7Ci8qKg0KICogRGlzcGF0Y2hlZCBhZnRlciBhIHNsZWVwaW5nIGJvZHkgaGFzIHdva2VuIHVwLg0KICogQGV2ZW50IHdha2V1cA0KICovCgpCb2R5Lndha2V1cEV2ZW50ID0gewogIHR5cGU6ICd3YWtldXAnCn07Ci8qKg0KICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGdvbmUgaW4gdG8gdGhlIHNsZWVweSBzdGF0ZS4NCiAqIEBldmVudCBzbGVlcHkNCiAqLwoKQm9keS5zbGVlcHlFdmVudCA9IHsKICB0eXBlOiAnc2xlZXB5Jwp9OwovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBmYWxsZW4gYXNsZWVwLg0KICogQGV2ZW50IHNsZWVwDQogKi8KCkJvZHkuc2xlZXBFdmVudCA9IHsKICB0eXBlOiAnc2xlZXAnCn07CmNvbnN0IHRtcFZlYyA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFF1YXQkMSA9IG5ldyBRdWF0ZXJuaW9uKCk7CmNvbnN0IGNvbXB1dGVBQUJCX3NoYXBlQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IHVpd19tMSA9IG5ldyBNYXQzKCk7CmNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7Ci8qKg0KICogQXBwbHkgZm9yY2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFwcGx5aW5nIGZvcmNlIHRoaXMgd2F5IHdpbGwgYWRkIHRvIEJvZHkuZm9yY2UgYW5kIEJvZHkudG9ycXVlLg0KICogQG1ldGhvZCBhcHBseUZvcmNlDQogKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgYW1vdW50IG9mIGZvcmNlIHRvIGFkZC4NCiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLg0KICovCgpjb25zdCBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UgPSBuZXcgVmVjMygpOwovKioNCiAqIEFwcGx5IGZvcmNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuDQogKiBAbWV0aG9kIGFwcGx5TG9jYWxGb3JjZQ0KICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLg0KICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludCBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4NCiAqLwoKY29uc3QgQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZSA9IG5ldyBWZWMzKCk7CmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQXBwbHkgaW1wdWxzZSB0byBhIHdvcmxkIHBvaW50LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4gQW4gaW1wdWxzZSBpcyBhIGZvcmNlIGFkZGVkIHRvIGEgYm9keSBkdXJpbmcgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAoaW1wdWxzZSA9IGZvcmNlICogdGltZSkuIEltcHVsc2VzIHdpbGwgYmUgYWRkZWQgdG8gQm9keS52ZWxvY2l0eSBhbmQgQm9keS5hbmd1bGFyVmVsb2NpdHkuDQogKiBAbWV0aG9kIGFwcGx5SW1wdWxzZQ0KICogQHBhcmFtICB7VmVjM30gaW1wdWxzZSBUaGUgYW1vdW50IG9mIGltcHVsc2UgdG8gYWRkLg0KICogQHBhcmFtICB7VmVjM30gcmVsYXRpdmVQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uDQogKi8KCmNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8gPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBcHBseSBsb2NhbGx5LWRlZmluZWQgaW1wdWxzZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5Lg0KICogQG1ldGhvZCBhcHBseUxvY2FsSW1wdWxzZQ0KICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLg0KICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludCBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4NCiAqLwoKY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UgPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzID0gbmV3IFZlYzMoKTsKLyoqCiAqIEJhc2UgY2xhc3MgZm9yIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb25zCiAqIEBjbGFzcyBCcm9hZHBoYXNlCiAqIEBjb25zdHJ1Y3RvcgogKiBAYXV0aG9yIHNjaHRlcHBlCiAqLwoKY2xhc3MgQnJvYWRwaGFzZSB7CiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi4KICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJyb2FkcGhhc2UgdXNlcyBib3VuZGluZyBib3hlcyBmb3IgaW50ZXJzZWN0aW9uIHRlc3QsIGVsc2UgaXQgdXNlcyBib3VuZGluZyBzcGhlcmVzLgogIC8vIFNldCB0byB0cnVlIGlmIHRoZSBvYmplY3RzIGluIHRoZSB3b3JsZCBtb3ZlZC4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMud29ybGQgPSBudWxsOwogICAgdGhpcy51c2VCb3VuZGluZ0JveGVzID0gZmFsc2U7CiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICB9CiAgLyoqCiAgICogR2V0IHRoZSBjb2xsaXNpb24gcGFpcnMgZnJvbSB0aGUgd29ybGQKICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQgVGhlIHdvcmxkIHRvIHNlYXJjaCBpbgogICAqIEBwYXJhbSB7QXJyYXl9IHAxIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0cwogICAqIEBwYXJhbSB7QXJyYXl9IHAyIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0cwogICAqLwoKCiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgdGhyb3cgbmV3IEVycm9yKCdjb2xsaXNpb25QYWlycyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgQnJvYWRQaGFzZSBjbGFzcyEnKTsKICB9CiAgLyoqCiAgICogQ2hlY2sgaWYgYSBib2R5IHBhaXIgbmVlZHMgdG8gYmUgaW50ZXJzZWN0aW9uIHRlc3RlZCBhdCBhbGwuCiAgICogQG1ldGhvZCBuZWVkQnJvYWRwaGFzZUNvbGxpc2lvbgogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICogQHJldHVybiB7Ym9vbH0KICAgKi8KCgogIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJvZHlBLCBib2R5QikgewogICAgLy8gQ2hlY2sgY29sbGlzaW9uIGZpbHRlciBtYXNrcwogICAgaWYgKChib2R5QS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlCLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5Qi5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlBLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gQ2hlY2sgdHlwZXMKCgogICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHsKICAgICAgLy8gQm90aCBib2RpZXMgYXJlIHN0YXRpYyBvciBzbGVlcGluZy4gU2tpcC4KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioKICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgdm9sdW1lcyBvZiB0d28gYm9kaWVzIGludGVyc2VjdC4KICAgKiBAbWV0aG9kIGludGVyc2VjdGlvblRlc3QKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMQogICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMgogICAqLwoKCiAgaW50ZXJzZWN0aW9uVGVzdChib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICBpZiAodGhpcy51c2VCb3VuZGluZ0JveGVzKSB7CiAgICAgIHRoaXMuZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgfQogIH0KCiAgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgY29uc3QgciA9IEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfcjsKICAgIGJvZHlCLnBvc2l0aW9uLnZzdWIoYm9keUEucG9zaXRpb24sIHIpOwogICAgY29uc3QgYm91bmRpbmdSYWRpdXNTdW0yID0gKGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXMpICoqIDI7CiAgICBjb25zdCBub3JtMiA9IHIubGVuZ3RoU3F1YXJlZCgpOwoKICAgIGlmIChub3JtMiA8IGJvdW5kaW5nUmFkaXVzU3VtMikgewogICAgICBwYWlyczEucHVzaChib2R5QSk7CiAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgIH0KICB9CiAgLyoqCiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIGJveGVzIG9mIHR3byBib2RpZXMgYXJlIGludGVyc2VjdGluZy4KICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczEKICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczIKICAgKi8KCgogIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgIGlmIChib2R5QS5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgYm9keUEuY29tcHV0ZUFBQkIoKTsKICAgIH0KCiAgICBpZiAoYm9keUIuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgIGJvZHlCLmNvbXB1dGVBQUJCKCk7CiAgICB9IC8vIENoZWNrIEFBQkIgLyBBQUJCCgoKICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7CiAgICAgIHBhaXJzMS5wdXNoKGJvZHlBKTsKICAgICAgcGFpcnMyLnB1c2goYm9keUIpOwogICAgfQogIH0KCiAgbWFrZVBhaXJzVW5pcXVlKHBhaXJzMSwgcGFpcnMyKSB7CiAgICBjb25zdCB0ID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcDsKICAgIGNvbnN0IHAxID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDE7CiAgICBjb25zdCBwMiA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyOwogICAgY29uc3QgTiA9IHBhaXJzMS5sZW5ndGg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBwMVtpXSA9IHBhaXJzMVtpXTsKICAgICAgcDJbaV0gPSBwYWlyczJbaV07CiAgICB9CgogICAgcGFpcnMxLmxlbmd0aCA9IDA7CiAgICBwYWlyczIubGVuZ3RoID0gMDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGlkMSA9IHAxW2ldLmlkOwogICAgICBjb25zdCBpZDIgPSBwMltpXS5pZDsKICAgICAgY29uc3Qga2V5ID0gaWQxIDwgaWQyID8gaWQxICsgIiwiICsgaWQyIDogaWQyICsgIiwiICsgaWQxOwogICAgICB0W2tleV0gPSBpOwogICAgICB0LmtleXMucHVzaChrZXkpOwogICAgfQoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0LmtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3Qga2V5ID0gdC5rZXlzLnBvcCgpOwogICAgICBjb25zdCBwYWlySW5kZXggPSB0W2tleV07CiAgICAgIHBhaXJzMS5wdXNoKHAxW3BhaXJJbmRleF0pOwogICAgICBwYWlyczIucHVzaChwMltwYWlySW5kZXhdKTsKICAgICAgZGVsZXRlIHRba2V5XTsKICAgIH0KICB9CiAgLyoqCiAgICogVG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2Fzc2VzCiAgICogQG1ldGhvZCBzZXRXb3JsZAogICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkCiAgICovCgoKICBzZXRXb3JsZCh3b3JsZCkge30KICAvKioKICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiB0aGUgQUFCQi4KICAgKiBAbWV0aG9kIGFhYmJRdWVyeQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmIKICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uCiAgICogQHJldHVybiB7YXJyYXl9CiAgICovCgoKICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCkgewogICAgY29uc29sZS53YXJuKCcuYWFiYlF1ZXJ5IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIEJyb2FkcGhhc2Ugc3ViY2xhc3MuJyk7CiAgICByZXR1cm4gW107CiAgfQoKfQovKioKICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHNwaGVyZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLgogKiBAbWV0aG9kIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlCiAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICogQHBhcmFtIHtCb2R5fSBib2R5QgogKiBAcGFyYW0ge0FycmF5fSBwYWlyczEgYm9keUEgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb24KICogQHBhcmFtIHtBcnJheX0gcGFpcnMyIGJvZHlCIGlzIGFwcGVuZGVkIHRvIHRoaXMgYXJyYXkgaWYgaW50ZXJzZWN0aW9uCiAqLwoKCmNvbnN0IC8vIFRlbXAgb2JqZWN0cwpCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3IgPSBuZXcgVmVjMygpOwovKioKICogUmVtb3ZlcyBkdXBsaWNhdGUgcGFpcnMgZnJvbSB0aGUgcGFpciBhcnJheXMuCiAqIEBtZXRob2QgbWFrZVBhaXJzVW5pcXVlCiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMQogKiBAcGFyYW0ge0FycmF5fSBwYWlyczIKICovCgpjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wID0gewogIGtleXM6IFtdCn07CmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxID0gW107CmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyID0gW107CgpCcm9hZHBoYXNlLmJvdW5kaW5nU3BoZXJlQ2hlY2sgPSAoYm9keUEsIGJvZHlCKSA9PiB7CiAgY29uc3QgZGlzdCA9IG5ldyBWZWMzKCk7IC8vIGJzY19kaXN0OwoKICBib2R5QS5wb3NpdGlvbi52c3ViKGJvZHlCLnBvc2l0aW9uLCBkaXN0KTsKICBjb25zdCBzYSA9IGJvZHlBLnNoYXBlc1swXTsKICBjb25zdCBzYiA9IGJvZHlCLnNoYXBlc1swXTsKICByZXR1cm4gTWF0aC5wb3coc2EuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzYi5ib3VuZGluZ1NwaGVyZVJhZGl1cywgMikgPiBkaXN0Lmxlbmd0aFNxdWFyZWQoKTsKfTsKLyoqDQogKiBOYWl2ZSBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9uLCB1c2VkIGluIGxhY2sgb2YgYmV0dGVyIG9uZXMuDQogKiBAY2xhc3MgTmFpdmVCcm9hZHBoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEBkZXNjcmlwdGlvbiBUaGUgbmFpdmUgYnJvYWRwaGFzZSBsb29rcyBhdCBhbGwgcG9zc2libGUgcGFpcnMgd2l0aG91dCByZXN0cmljdGlvbiwgdGhlcmVmb3JlIGl0IGhhcyBjb21wbGV4aXR5IE5eMiAod2hpY2ggaXMgYmFkKQ0KICogQGV4dGVuZHMgQnJvYWRwaGFzZQ0KICovCgpjbGFzcyBOYWl2ZUJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgfQogIC8qKg0KICAgKiBHZXQgYWxsIHRoZSBjb2xsaXNpb24gcGFpcnMgaW4gdGhlIHBoeXNpY3Mgd29ybGQNCiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycw0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczENCiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyDQogICAqLwoKCiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICBjb25zdCBuID0gYm9kaWVzLmxlbmd0aDsKICAgIGxldCBiaTsKICAgIGxldCBiajsgLy8gTmFpdmUgTl4yIGZ0dyEKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBpOyBqKyspIHsKICAgICAgICBiaSA9IGJvZGllc1tpXTsKICAgICAgICBiaiA9IGJvZGllc1tqXTsKCiAgICAgICAgaWYgKCF0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpOwogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLg0KICAgKiBAbWV0aG9kIGFhYmJRdWVyeQ0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi4NCiAgICogQHJldHVybiB7YXJyYXl9DQogICAqLwoKCiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYiA9IHdvcmxkLmJvZGllc1tpXTsKCiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGIuY29tcHV0ZUFBQkIoKTsKICAgICAgfSAvLyBVZ2x5IGhhY2sgdW50aWwgQm9keSBnZXRzIGFhYmIKCgogICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgcmVzdWx0LnB1c2goYik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCn0KLyoqDQogKiBTdG9yYWdlIGZvciBSYXkgY2FzdGluZyBkYXRhLg0KICogQGNsYXNzIFJheWNhc3RSZXN1bHQNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgUmF5Y2FzdFJlc3VsdCB7CiAgLy8gVGhlIGluZGV4IG9mIHRoZSBoaXQgdHJpYW5nbGUsIGlmIHRoZSBoaXQgc2hhcGUgd2FzIGEgdHJpbWVzaC4KICAvLyBEaXN0YW5jZSB0byB0aGUgaGl0LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0LgogIC8vIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZyB0aGUgYm9kaWVzLgogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5yYXlGcm9tV29ybGQgPSBuZXcgVmVjMygpOwogICAgdGhpcy5yYXlUb1dvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQgPSBuZXcgVmVjMygpOwogICAgdGhpcy5oaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICB0aGlzLnNoYXBlID0gbnVsbDsKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICB0aGlzLmhpdEZhY2VJbmRleCA9IC0xOwogICAgdGhpcy5kaXN0YW5jZSA9IC0xOwogICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBSZXNldCBhbGwgcmVzdWx0IGRhdGEuDQogICAqIEBtZXRob2QgcmVzZXQNCiAgICovCgoKICByZXNldCgpIHsKICAgIHRoaXMucmF5RnJvbVdvcmxkLnNldFplcm8oKTsKICAgIHRoaXMucmF5VG9Xb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLnNldFplcm8oKTsKICAgIHRoaXMuaGl0UG9pbnRXb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICB0aGlzLmJvZHkgPSBudWxsOwogICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTsKICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgIHRoaXMuc2hvdWxkU3RvcCA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBhYm9ydA0KICAgKi8KCgogIGFib3J0KCkgewogICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTsKICB9CiAgLyoqDQogICAqIEBtZXRob2Qgc2V0DQogICAqIEBwYXJhbSB7VmVjM30gcmF5RnJvbVdvcmxkDQogICAqIEBwYXJhbSB7VmVjM30gcmF5VG9Xb3JsZA0KICAgKiBAcGFyYW0ge1ZlYzN9IGhpdE5vcm1hbFdvcmxkDQogICAqIEBwYXJhbSB7VmVjM30gaGl0UG9pbnRXb3JsZA0KICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlDQogICAqLwoKCiAgc2V0KHJheUZyb21Xb3JsZCwgcmF5VG9Xb3JsZCwgaGl0Tm9ybWFsV29ybGQsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSkgewogICAgdGhpcy5yYXlGcm9tV29ybGQuY29weShyYXlGcm9tV29ybGQpOwogICAgdGhpcy5yYXlUb1dvcmxkLmNvcHkocmF5VG9Xb3JsZCk7CiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLmNvcHkoaGl0Tm9ybWFsV29ybGQpOwogICAgdGhpcy5oaXRQb2ludFdvcmxkLmNvcHkoaGl0UG9pbnRXb3JsZCk7CiAgICB0aGlzLnNoYXBlID0gc2hhcGU7CiAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlOwogIH0KCn0KLyoqDQogKiBBIGxpbmUgaW4gM0Qgc3BhY2UgdGhhdCBpbnRlcnNlY3RzIGJvZGllcyBhbmQgcmV0dXJuIHBvaW50cy4NCiAqIEBjbGFzcyBSYXkNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtWZWMzfSBmcm9tDQogKiBAcGFyYW0ge1ZlYzN9IHRvDQogKi8KCmNsYXNzIFJheSB7CiAgLy8gVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLgogIC8vIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoZSBSYXkgdG8gdGFrZSAuY29sbGlzaW9uUmVzcG9uc2UgZmxhZ3MgaW50byBhY2NvdW50IG9uIGJvZGllcyBhbmQgc2hhcGVzLgogIC8vIElmIHNldCB0byB0cnVlLCB0aGUgcmF5IHNraXBzIGFueSBoaXRzIHdpdGggbm9ybWFsLmRvdChyYXlEaXJlY3Rpb24pIDwgMC4KICAvLyBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSBSYXkuQU5ZLCBSYXkuQUxMIG9yIFJheS5DTE9TRVNULgogIC8vIEN1cnJlbnQgcmVzdWx0IG9iamVjdC4KICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGR1cmluZyBpbnRlcnNlY3RXb3JsZCgpIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLgogIC8vIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLgogIGNvbnN0cnVjdG9yKGZyb20gPSBuZXcgVmVjMygpLCB0byA9IG5ldyBWZWMzKCkpIHsKICAgIHRoaXMuZnJvbSA9IGZyb20uY2xvbmUoKTsKICAgIHRoaXMudG8gPSB0by5jbG9uZSgpOwogICAgdGhpcy5kaXJlY3Rpb24gPSBuZXcgVmVjMygpOwogICAgdGhpcy5wcmVjaXNpb24gPSAwLjAwMDE7CiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0cnVlOwogICAgdGhpcy5za2lwQmFja2ZhY2VzID0gZmFsc2U7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSAtMTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSAtMTsKICAgIHRoaXMubW9kZSA9IFJheS5BTlk7CiAgICB0aGlzLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7CiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwoKICAgIHRoaXMuY2FsbGJhY2sgPSByZXN1bHQgPT4ge307CiAgfQogIC8qKg0KICAgKiBEbyBpdGVyc2VjdGlvbiBhZ2FpbnN0IGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIFdvcmxkLg0KICAgKiBAbWV0aG9kIGludGVyc2VjdFdvcmxkDQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMNCiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZywgb3RoZXJ3aXNlIGZhbHNlLg0KICAgKi8KCgogIGludGVyc2VjdFdvcmxkKHdvcmxkLCBvcHRpb25zKSB7CiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgUmF5LkFOWTsKICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9ICEhb3B0aW9ucy5za2lwQmFja2ZhY2VzOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7CiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CgogICAgaWYgKG9wdGlvbnMuZnJvbSkgewogICAgICB0aGlzLmZyb20uY29weShvcHRpb25zLmZyb20pOwogICAgfQoKICAgIGlmIChvcHRpb25zLnRvKSB7CiAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTsKICAgIH0KCiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayB8fCAoKCkgPT4ge30pOwoKICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICB0aGlzLnJlc3VsdC5yZXNldCgpOwogICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgIHRoaXMuZ2V0QUFCQih0bXBBQUJCKTsKICAgIHRtcEFycmF5Lmxlbmd0aCA9IDA7CiAgICB3b3JsZC5icm9hZHBoYXNlLmFhYmJRdWVyeSh3b3JsZCwgdG1wQUFCQiwgdG1wQXJyYXkpOwogICAgdGhpcy5pbnRlcnNlY3RCb2RpZXModG1wQXJyYXkpOwogICAgcmV0dXJuIHRoaXMuaGFzSGl0OwogIH0KICAvKioNCiAgICogU2hvb3QgYSByYXkgYXQgYSBib2R5LCBnZXQgYmFjayBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGl0Lg0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkIC0gc2V0IHRoZSByZXN1bHQgcHJvcGVydHkgb2YgdGhlIFJheSBpbnN0ZWFkLg0KICAgKi8KCgogIGludGVyc2VjdEJvZHkoYm9keSwgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpOwogICAgfQoKICAgIGNvbnN0IGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7CgogICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICgodGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB4aSA9IGludGVyc2VjdEJvZHlfeGk7CiAgICBjb25zdCBxaSA9IGludGVyc2VjdEJvZHlfcWk7CgogICAgZm9yIChsZXQgaSA9IDAsIE4gPSBib2R5LnNoYXBlcy5sZW5ndGg7IGkgPCBOOyBpKyspIHsKICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTsKCiAgICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFzaGFwZS5jb2xsaXNpb25SZXNwb25zZSkgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwCiAgICAgIH0KCiAgICAgIGJvZHkucXVhdGVybmlvbi5tdWx0KGJvZHkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgYm9keS5xdWF0ZXJuaW9uLnZtdWx0KGJvZHkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7CiAgICAgIHhpLnZhZGQoYm9keS5wb3NpdGlvbiwgeGkpOwogICAgICB0aGlzLmludGVyc2VjdFNoYXBlKHNoYXBlLCBxaSwgeGksIGJvZHkpOwoKICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQG1ldGhvZCBpbnRlcnNlY3RCb2RpZXMNCiAgICogQHBhcmFtIHtBcnJheX0gYm9kaWVzIEFuIGFycmF5IG9mIEJvZHkgb2JqZWN0cy4NCiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkDQogICAqLwoKCiAgaW50ZXJzZWN0Qm9kaWVzKGJvZGllcywgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpOwogICAgfQoKICAgIGZvciAobGV0IGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGw7IGkrKykgewogICAgICB0aGlzLmludGVyc2VjdEJvZHkoYm9kaWVzW2ldKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiB2ZWN0b3IuDQogICAqLwoKCiAgdXBkYXRlRGlyZWN0aW9uKCkgewogICAgdGhpcy50by52c3ViKHRoaXMuZnJvbSwgdGhpcy5kaXJlY3Rpb24pOwogICAgdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7CiAgfQoKICBpbnRlcnNlY3RTaGFwZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHkpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207IC8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlCgogICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTsKCiAgICBpZiAoZGlzdGFuY2UgPiBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgaW50ZXJzZWN0TWV0aG9kID0gdGhpc1tzaGFwZS50eXBlXTsKCiAgICBpZiAoaW50ZXJzZWN0TWV0aG9kKSB7CiAgICAgIGludGVyc2VjdE1ldGhvZC5jYWxsKHRoaXMsIHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgc2hhcGUpOwogICAgfQogIH0KCiAgX2ludGVyc2VjdEJveChib3gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0Q29udmV4KGJveC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKTsKICB9CgogIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbAoKICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gbmV3IFZlYzMoMCwgMCwgMSk7CiAgICBxdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7CiAgICBjb25zdCBsZW4gPSBuZXcgVmVjMygpOwogICAgZnJvbS52c3ViKHBvc2l0aW9uLCBsZW4pOwogICAgY29uc3QgcGxhbmVUb0Zyb20gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTsKICAgIHRvLnZzdWIocG9zaXRpb24sIGxlbik7CiAgICBjb25zdCBwbGFuZVRvVG8gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTsKCiAgICBpZiAocGxhbmVUb0Zyb20gKiBwbGFuZVRvVG8gPiAwKSB7CiAgICAgIC8vICJmcm9tIiBhbmQgInRvIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXQKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmIChmcm9tLmRpc3RhbmNlVG8odG8pIDwgcGxhbmVUb0Zyb20pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IG5fZG90X2RpciA9IHdvcmxkTm9ybWFsLmRvdChkaXJlY3Rpb24pOwoKICAgIGlmIChNYXRoLmFicyhuX2RvdF9kaXIpIDwgdGhpcy5wcmVjaXNpb24pIHsKICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uCiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBwbGFuZVBvaW50VG9Gcm9tID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGRpcl9zY2FsZWRfd2l0aF90ID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpOwogICAgZnJvbS52c3ViKHBvc2l0aW9uLCBwbGFuZVBvaW50VG9Gcm9tKTsKICAgIGNvbnN0IHQgPSAtd29ybGROb3JtYWwuZG90KHBsYW5lUG9pbnRUb0Zyb20pIC8gbl9kb3RfZGlyOwogICAgZGlyZWN0aW9uLnNjYWxlKHQsIGRpcl9zY2FsZWRfd2l0aF90KTsKICAgIGZyb20udmFkZChkaXJfc2NhbGVkX3dpdGhfdCwgaGl0UG9pbnRXb3JsZCk7CiAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogIH0KICAvKioNCiAgICogR2V0IHRoZSB3b3JsZCBBQUJCIG9mIHRoZSByYXkuDQogICAqLwoKCiAgZ2V0QUFCQihhYWJiKSB7CiAgICBjb25zdCB7CiAgICAgIGxvd2VyQm91bmQsCiAgICAgIHVwcGVyQm91bmQKICAgIH0gPSBhYWJiOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGxvd2VyQm91bmQueCA9IE1hdGgubWluKHRvLngsIGZyb20ueCk7CiAgICBsb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0by55LCBmcm9tLnkpOwogICAgbG93ZXJCb3VuZC56ID0gTWF0aC5taW4odG8ueiwgZnJvbS56KTsKICAgIHVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRvLngsIGZyb20ueCk7CiAgICB1cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0by55LCBmcm9tLnkpOwogICAgdXBwZXJCb3VuZC56ID0gTWF0aC5tYXgodG8ueiwgZnJvbS56KTsKICB9CgogIF9pbnRlcnNlY3RIZWlnaHRmaWVsZChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgIGNvbnN0IGRhdGEgPSBzaGFwZS5kYXRhOwogICAgY29uc3QgdyA9IHNoYXBlLmVsZW1lbnRTaXplOyAvLyBDb252ZXJ0IHRoZSByYXkgdG8gbG9jYWwgaGVpZ2h0ZmllbGQgY29vcmRpbmF0ZXMKCiAgICBjb25zdCBsb2NhbFJheSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5OyAvL25ldyBSYXkodGhpcy5mcm9tLCB0aGlzLnRvKTsKCiAgICBsb2NhbFJheS5mcm9tLmNvcHkodGhpcy5mcm9tKTsKICAgIGxvY2FsUmF5LnRvLmNvcHkodGhpcy50byk7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LmZyb20sIGxvY2FsUmF5LmZyb20pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS50bywgbG9jYWxSYXkudG8pOwogICAgbG9jYWxSYXkudXBkYXRlRGlyZWN0aW9uKCk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgIGNvbnN0IGluZGV4ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXg7CiAgICBsZXQgaU1pblg7CiAgICBsZXQgaU1pblk7CiAgICBsZXQgaU1heFg7CiAgICBsZXQgaU1heFk7IC8vIFNldCB0byBtYXgKCiAgICBpTWluWCA9IGlNaW5ZID0gMDsKICAgIGlNYXhYID0gaU1heFkgPSBzaGFwZS5kYXRhLmxlbmd0aCAtIDE7CiAgICBjb25zdCBhYWJiID0gbmV3IEFBQkIoKTsKICAgIGxvY2FsUmF5LmdldEFBQkIoYWFiYik7CiAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7CiAgICBpTWluWCA9IE1hdGgubWF4KGlNaW5YLCBpbmRleFswXSk7CiAgICBpTWluWSA9IE1hdGgubWF4KGlNaW5ZLCBpbmRleFsxXSk7CiAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7CiAgICBpTWF4WCA9IE1hdGgubWluKGlNYXhYLCBpbmRleFswXSArIDEpOwogICAgaU1heFkgPSBNYXRoLm1pbihpTWF4WSwgaW5kZXhbMV0gKyAxKTsKCiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2hhcGUuZ2V0QWFiYkF0SW5kZXgoaSwgaiwgYWFiYik7CgogICAgICAgIGlmICghYWFiYi5vdmVybGFwc1JheShsb2NhbFJheSkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gTG93ZXIgdHJpYW5nbGUKCgogICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7CgogICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgc2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpOwogICAgICB9CiAgICB9CiAgfQoKICBfaW50ZXJzZWN0U3BoZXJlKHNwaGVyZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICBjb25zdCByID0gc3BoZXJlLnJhZGl1czsKICAgIGNvbnN0IGEgPSAodG8ueCAtIGZyb20ueCkgKiogMiArICh0by55IC0gZnJvbS55KSAqKiAyICsgKHRvLnogLSBmcm9tLnopICoqIDI7CiAgICBjb25zdCBiID0gMiAqICgodG8ueCAtIGZyb20ueCkgKiAoZnJvbS54IC0gcG9zaXRpb24ueCkgKyAodG8ueSAtIGZyb20ueSkgKiAoZnJvbS55IC0gcG9zaXRpb24ueSkgKyAodG8ueiAtIGZyb20ueikgKiAoZnJvbS56IC0gcG9zaXRpb24ueikpOwogICAgY29uc3QgYyA9IChmcm9tLnggLSBwb3NpdGlvbi54KSAqKiAyICsgKGZyb20ueSAtIHBvc2l0aW9uLnkpICoqIDIgKyAoZnJvbS56IC0gcG9zaXRpb24ueikgKiogMiAtIHIgKiogMjsKICAgIGNvbnN0IGRlbHRhID0gYiAqKiAyIC0gNCAqIGEgKiBjOwogICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnQgPSBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50OwogICAgY29uc3Qgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7CgogICAgaWYgKGRlbHRhIDwgMCkgewogICAgICAvLyBObyBpbnRlcnNlY3Rpb24KICAgICAgcmV0dXJuOwogICAgfSBlbHNlIGlmIChkZWx0YSA9PT0gMCkgewogICAgICAvLyBzaW5nbGUgaW50ZXJzZWN0aW9uIHBvaW50CiAgICAgIGZyb20ubGVycCh0bywgZGVsdGEsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBkMSA9ICgtYiAtIE1hdGguc3FydChkZWx0YSkpIC8gKDIgKiBhKTsKICAgICAgY29uc3QgZDIgPSAoLWIgKyBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7CgogICAgICBpZiAoZDEgPj0gMCAmJiBkMSA8PSAxKSB7CiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMSwgaW50ZXJzZWN0aW9uUG9pbnQpOwogICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChkMiA+PSAwICYmIGQyIDw9IDEpIHsKICAgICAgICBmcm9tLmxlcnAodG8sIGQyLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgICB9CiAgICB9CiAgfQoKICBfaW50ZXJzZWN0Q29udmV4KHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykgewogICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0Q29udmV4X25vcm1hbDsKICAgIGNvbnN0IHZlY3RvciA9IGludGVyc2VjdENvbnZleF92ZWN0b3I7CiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgIGNvbnN0IGZhY2VzID0gc2hhcGUuZmFjZXM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHNoYXBlLnZlcnRpY2VzOwogICAgY29uc3Qgbm9ybWFscyA9IHNoYXBlLmZhY2VOb3JtYWxzOwogICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZnJvbVRvRGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8odG8pOwogICAgY29uc3QgTmZhY2VzID0gZmFjZUxpc3QgPyBmYWNlTGlzdC5sZW5ndGggOiBmYWNlcy5sZW5ndGg7CiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsKCiAgICBmb3IgKGxldCBqID0gMDsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGogPCBOZmFjZXM7IGorKykgewogICAgICBjb25zdCBmaSA9IGZhY2VMaXN0ID8gZmFjZUxpc3Rbal0gOiBqOwogICAgICBjb25zdCBmYWNlID0gZmFjZXNbZmldOwogICAgICBjb25zdCBmYWNlTm9ybWFsID0gbm9ybWFsc1tmaV07CiAgICAgIGNvbnN0IHEgPSBxdWF0OwogICAgICBjb25zdCB4ID0gcG9zaXRpb247IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2UKICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsCiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgdmVjdG9yLmNvcHkodmVydGljZXNbZmFjZVswXV0pOwogICAgICBxLnZtdWx0KHZlY3RvciwgdmVjdG9yKTsKICAgICAgdmVjdG9yLnZhZGQoeCwgdmVjdG9yKTsgLy8gLi4uYnV0IG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHJheSBmcm9tLiBXZSdsbCBmaXggdGhpcyBsYXRlci4KCiAgICAgIHZlY3Rvci52c3ViKGZyb20sIHZlY3Rvcik7IC8vIEdldCBwbGFuZSBub3JtYWwKCiAgICAgIHEudm11bHQoZmFjZU5vcm1hbCwgbm9ybWFsKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmcKCiAgICAgIGNvbnN0IGRvdCA9IGRpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKCiAgICAgIGlmIChNYXRoLmFicyhkb3QpIDwgdGhpcy5wcmVjaXNpb24pIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBjYWxjIGRpc3RhbmNlIHRvIHBsYW5lCgoKICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5CgogICAgICBpZiAoc2NhbGFyIDwgMCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIGlmIChkb3QgPCAwKSB7CiAgICAgIC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyCgoKICAgICAgZGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gYSBpcyB0aGUgcG9pbnQgd2UgY29tcGFyZSBwb2ludHMgYiBhbmQgYyB3aXRoLgoKICAgICAgYS5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgcS52bXVsdChhLCBhKTsKICAgICAgeC52YWRkKGEsIGEpOwoKICAgICAgZm9yIChsZXQgaSA9IDE7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgZmFjZS5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAvLyBUcmFuc2Zvcm0gMyB2ZXJ0aWNlcyB0byB3b3JsZCBjb29yZHMKICAgICAgICBiLmNvcHkodmVydGljZXNbZmFjZVtpXV0pOwogICAgICAgIGMuY29weSh2ZXJ0aWNlc1tmYWNlW2kgKyAxXV0pOwogICAgICAgIHEudm11bHQoYiwgYik7CiAgICAgICAgcS52bXVsdChjLCBjKTsKICAgICAgICB4LnZhZGQoYiwgYik7CiAgICAgICAgeC52YWRkKGMsIGMpOwogICAgICAgIGNvbnN0IGRpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VUbyhmcm9tKTsKCiAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpKSB8fCBkaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIGZpKTsKICAgICAgfSAvLyB9CgogICAgfQogIH0KICAvKioNCiAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC4NCiAgICogQHRvZG8gVXNlIE9jdHJlZSBsb29rdXANCiAgICovCgoKICBfaW50ZXJzZWN0VHJpbWVzaChtZXNoLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykgewogICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWw7CiAgICBjb25zdCB0cmlhbmdsZXMgPSBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlczsKICAgIGNvbnN0IHRyZWVUcmFuc2Zvcm0gPSBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm07CiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgY29uc3QgbG9jYWxEaXJlY3Rpb24gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uOwogICAgY29uc3QgbG9jYWxGcm9tID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb207CiAgICBjb25zdCBsb2NhbFRvID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvOwogICAgY29uc3Qgd29ybGRJbnRlcnNlY3RQb2ludCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludDsKICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbDsKICAgIGNvbnN0IGZhY2VMaXN0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZhY2VMaXN0IHx8IG51bGw7IC8vIENoZWNraW5nIGZhY2VzCgogICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlczsKICAgIGNvbnN0IHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlczsgLy8gY29uc3Qgbm9ybWFscyA9IG1lc2guZmFjZU5vcm1hbHMKCiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICB0cmVlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pOwogICAgdHJlZVRyYW5zZm9ybS5xdWF0ZXJuaW9uLmNvcHkocXVhdCk7IC8vIFRyYW5zZm9ybSByYXkgdG8gbG9jYWwgc3BhY2UhCgogICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGZyb20sIGxvY2FsRnJvbSk7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIHRvLCBsb2NhbFRvKTsKICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7CiAgICBsb2NhbFRvLnkgKj0gbWVzaC5zY2FsZS55OwogICAgbG9jYWxUby56ICo9IG1lc2guc2NhbGUuejsKICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDsKICAgIGxvY2FsRnJvbS55ICo9IG1lc2guc2NhbGUueTsKICAgIGxvY2FsRnJvbS56ICo9IG1lc2guc2NhbGUuejsKICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTsKICAgIGxvY2FsRGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwogICAgY29uc3QgZnJvbVRvRGlzdGFuY2VTcXVhcmVkID0gbG9jYWxGcm9tLmRpc3RhbmNlU3F1YXJlZChsb2NhbFRvKTsKICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpOwoKICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHRyaWFuZ2xlc0luZGV4ID0gdHJpYW5nbGVzW2ldOwogICAgICBtZXNoLmdldE5vcm1hbCh0cmlhbmdsZXNJbmRleCwgbm9ybWFsKTsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZQogICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWwKICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uCgogICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgYS52c3ViKGxvY2FsRnJvbSwgdmVjdG9yKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmcKCiAgICAgIGNvbnN0IGRvdCA9IGxvY2FsRGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbAogICAgICAvLyBpZiAoTWF0aC5hYnMoIGRvdCApIDwgdGhpcy5wcmVjaXNpb24pewogICAgICAvLyAgICAgY29udGludWU7CiAgICAgIC8vIH0KICAgICAgLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5CgogICAgICBpZiAoc2NhbGFyIDwgMCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyCgoKICAgICAgbG9jYWxEaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7CiAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlcwoKICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDMgKyAxXSwgYik7CiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMl0sIGMpOwogICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTsKCiAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYiwgYSwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSkgfHwgc3F1YXJlZERpc3RhbmNlID4gZnJvbVRvRGlzdGFuY2VTcXVhcmVkKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0gLy8gdHJhbnNmb3JtIGludGVyc2VjdHBvaW50IGFuZCBub3JtYWwgdG8gd29ybGQKCgogICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXQsIG5vcm1hbCwgd29ybGROb3JtYWwpOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIGludGVyc2VjdFBvaW50LCB3b3JsZEludGVyc2VjdFBvaW50KTsKICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIHdvcmxkSW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIHRyaWFuZ2xlc0luZGV4KTsKICAgIH0KCiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDsKICB9CiAgLyoqDQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGludGVyc2VjdGlvbnMgc2hvdWxkIGNvbnRpbnVlDQogICAqLwoKCiAgcmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGhpdEZhY2VJbmRleCkgewogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKGhpdFBvaW50V29ybGQpOwogICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7IC8vIFNraXAgYmFjayBmYWNlcz8KCiAgICBpZiAodGhpcy5za2lwQmFja2ZhY2VzICYmIG5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pID4gMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgcmVzdWx0LmhpdEZhY2VJbmRleCA9IHR5cGVvZiBoaXRGYWNlSW5kZXggIT09ICd1bmRlZmluZWQnID8gaGl0RmFjZUluZGV4IDogLTE7CgogICAgc3dpdGNoICh0aGlzLm1vZGUpIHsKICAgICAgY2FzZSBSYXkuQUxMOgogICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgdGhpcy5jYWxsYmFjayhyZXN1bHQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBSYXkuQ0xPU0VTVDoKICAgICAgICAvLyBTdG9yZSBpZiBjbG9zZXIgdGhhbiBjdXJyZW50IGNsb3Nlc3QKICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UgfHwgIXJlc3VsdC5oYXNIaXQpIHsKICAgICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlOwogICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIFJheS5BTlk6CiAgICAgICAgLy8gUmVwb3J0IGFuZCBzdG9wLgogICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgcmVzdWx0LnNob3VsZFN0b3AgPSB0cnVlOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCn0KClJheS5DTE9TRVNUID0gMTsKUmF5LkFOWSA9IDI7ClJheS5BTEwgPSA0Owpjb25zdCB0bXBBQUJCID0gbmV3IEFBQkIoKTsKY29uc3QgdG1wQXJyYXkgPSBbXTsKY29uc3QgdjEgPSBuZXcgVmVjMygpOwpjb25zdCB2MiA9IG5ldyBWZWMzKCk7Ci8qDQogKiBBcyBwZXIgIkJhcnljZW50cmljIFRlY2huaXF1ZSIgYXMgbmFtZWQgaGVyZSBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvZGVmYXVsdC5odG1sIEJ1dCB3aXRob3V0IHRoZSBkaXZpc2lvbg0KICovCgpSYXkucG9pbnRJblRyaWFuZ2xlID0gcG9pbnRJblRyaWFuZ2xlOwoKZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKHAsIGEsIGIsIGMpIHsKICBjLnZzdWIoYSwgdjApOwogIGIudnN1YihhLCB2MSk7CiAgcC52c3ViKGEsIHYyKTsKICBjb25zdCBkb3QwMCA9IHYwLmRvdCh2MCk7CiAgY29uc3QgZG90MDEgPSB2MC5kb3QodjEpOwogIGNvbnN0IGRvdDAyID0gdjAuZG90KHYyKTsKICBjb25zdCBkb3QxMSA9IHYxLmRvdCh2MSk7CiAgY29uc3QgZG90MTIgPSB2MS5kb3QodjIpOwogIGxldCB1OwogIGxldCB2OwogIHJldHVybiAodSA9IGRvdDExICogZG90MDIgLSBkb3QwMSAqIGRvdDEyKSA+PSAwICYmICh2ID0gZG90MDAgKiBkb3QxMiAtIGRvdDAxICogZG90MDIpID49IDAgJiYgdSArIHYgPCBkb3QwMCAqIGRvdDExIC0gZG90MDEgKiBkb3QwMTsKfQoKY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdEJvZHlfcWkgPSBuZXcgUXVhdGVybmlvbigpOwpjb25zdCBpbnRlcnNlY3RQb2ludCA9IG5ldyBWZWMzKCk7CmNvbnN0IGEgPSBuZXcgVmVjMygpOwpjb25zdCBiID0gbmV3IFZlYzMoKTsKY29uc3QgYyA9IG5ldyBWZWMzKCk7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDsKUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5QTEFORV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RQbGFuZTsKY29uc3QgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyA9IHsKICBmYWNlTGlzdDogWzBdCn07CmNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7CmNvbnN0IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4ID0gW107ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuSEVJR0hURklFTERdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0SGVpZ2h0ZmllbGQ7CmNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCA9IG5ldyBWZWMzKCk7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuU1BIRVJFXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFNwaGVyZTsKY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdENvbnZleF92ZWN0b3IgPSBuZXcgVmVjMygpOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST05dID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0Q29udmV4Owpjb25zdCBpbnRlcnNlY3RUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb24gPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbSA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzID0gW107CmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTsKUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5UUklNRVNIXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFRyaW1lc2g7CmNvbnN0IHYwID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0ID0gbmV3IFZlYzMoKTsKCmZ1bmN0aW9uIGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCBkaXJlY3Rpb24sIHBvc2l0aW9uKSB7CiAgLy8gdjAgaXMgdmVjdG9yIGZyb20gZnJvbSB0byBwb3NpdGlvbgogIHBvc2l0aW9uLnZzdWIoZnJvbSwgdjApOwogIGNvbnN0IGRvdCA9IHYwLmRvdChkaXJlY3Rpb24pOyAvLyBpbnRlcnNlY3QgPSBkaXJlY3Rpb24qZG90ICsgZnJvbQoKICBkaXJlY3Rpb24uc2NhbGUoZG90LCBpbnRlcnNlY3QpOwogIGludGVyc2VjdC52YWRkKGZyb20sIGludGVyc2VjdCk7CiAgY29uc3QgZGlzdGFuY2UgPSBwb3NpdGlvbi5kaXN0YW5jZVRvKGludGVyc2VjdCk7CiAgcmV0dXJuIGRpc3RhbmNlOwp9Ci8qKg0KICogU3dlZXAgYW5kIHBydW5lIGJyb2FkcGhhc2UgYWxvbmcgb25lIGF4aXMuDQogKg0KICogQGNsYXNzIFNBUEJyb2FkcGhhc2UNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtXb3JsZH0gW3dvcmxkXQ0KICogQGV4dGVuZHMgQnJvYWRwaGFzZQ0KICovCgoKY2xhc3MgU0FQQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2UgewogIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS4KICAvLyBUaGUgd29ybGQgdG8gc2VhcmNoIGluLgogIC8vIEF4aXMgdG8gc29ydCB0aGUgYm9kaWVzIGFsb25nLiBTZXQgdG8gMCBmb3IgeCBheGlzLCBhbmQgMSBmb3IgeSBheGlzLiBGb3IgYmVzdCBwZXJmb3JtYW5jZSwgY2hvb3NlIGFuIGF4aXMgdGhhdCB0aGUgYm9kaWVzIGFyZSBzcHJlYWQgb3V0IG1vcmUgb24uCiAgY29uc3RydWN0b3Iod29ybGQpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLmF4aXNMaXN0ID0gW107CiAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgIHRoaXMuYXhpc0luZGV4ID0gMDsKICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDsKCiAgICB0aGlzLl9hZGRCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHsKICAgICAgYXhpc0xpc3QucHVzaChldmVudC5ib2R5KTsKICAgIH07CgogICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgIGNvbnN0IGlkeCA9IGF4aXNMaXN0LmluZGV4T2YoZXZlbnQuYm9keSk7CgogICAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpOwogICAgICB9CiAgICB9OwoKICAgIGlmICh3b3JsZCkgewogICAgICB0aGlzLnNldFdvcmxkKHdvcmxkKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENoYW5nZSB0aGUgd29ybGQNCiAgICogQG1ldGhvZCBzZXRXb3JsZA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICovCgoKICBzZXRXb3JsZCh3b3JsZCkgewogICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5CiAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7IC8vIEFkZCBhbGwgYm9kaWVzIGZyb20gdGhlIG5ldyB3b3JsZAoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMuYXhpc0xpc3QucHVzaCh3b3JsZC5ib2RpZXNbaV0pOwogICAgfSAvLyBSZW1vdmUgb2xkIGhhbmRsZXJzLCBpZiBhbnkKCgogICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRkQm9keScsIHRoaXMuX2FkZEJvZHlIYW5kbGVyKTsKICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7IC8vIEFkZCBoYW5kbGVycyB0byB1cGRhdGUgdGhlIGxpc3Qgb2YgYm9kaWVzLgoKICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOwogICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgfQogIC8qKg0KICAgKiBDb2xsZWN0IGFsbCBjb2xsaXNpb24gcGFpcnMNCiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycw0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtICB7QXJyYXl9IHAxDQogICAqIEBwYXJhbSAge0FycmF5fSBwMg0KICAgKi8KCgogIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDsKICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgbGV0IGk7CiAgICBsZXQgajsKCiAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICB0aGlzLnNvcnRMaXN0KCk7CiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0gLy8gTG9vayB0aHJvdWdoIHRoZSBsaXN0CgoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgTjsgaisrKSB7CiAgICAgICAgY29uc3QgYmogPSBib2RpZXNbal07CgogICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGlmICghU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyhiaSwgYmosIGF4aXNJbmRleCkpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcDEsIHAyKTsKICAgICAgfQogICAgfQogIH0KCiAgc29ydExpc3QoKSB7CiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgIGNvbnN0IE4gPSBheGlzTGlzdC5sZW5ndGg7IC8vIFVwZGF0ZSBBQUJCcwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBheGlzTGlzdFtpXTsKCiAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICBiaS5jb21wdXRlQUFCQigpOwogICAgICB9CiAgICB9IC8vIFNvcnQgdGhlIGxpc3QKCgogICAgaWYgKGF4aXNJbmRleCA9PT0gMCkgewogICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYKGF4aXNMaXN0KTsKICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7CiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkoYXhpc0xpc3QpOwogICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WihheGlzTGlzdCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB0aGUgdmFyaWFuY2Ugb2YgdGhlIGJvZHkgcG9zaXRpb25zIGFuZCBlc3RpbWF0ZXMgdGhlIGJlc3QNCiAgICogYXhpcyB0byB1c2UuIFdpbGwgYXV0b21hdGljYWxseSBzZXQgcHJvcGVydHkgLmF4aXNJbmRleC4NCiAgICogQG1ldGhvZCBhdXRvRGV0ZWN0QXhpcw0KICAgKi8KCgogIGF1dG9EZXRlY3RBeGlzKCkgewogICAgbGV0IHN1bVggPSAwOwogICAgbGV0IHN1bVgyID0gMDsKICAgIGxldCBzdW1ZID0gMDsKICAgIGxldCBzdW1ZMiA9IDA7CiAgICBsZXQgc3VtWiA9IDA7CiAgICBsZXQgc3VtWjIgPSAwOwogICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDsKICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwogICAgY29uc3QgaW52TiA9IDEgLyBOOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgY29uc3QgY2VudGVyWCA9IGIucG9zaXRpb24ueDsKICAgICAgc3VtWCArPSBjZW50ZXJYOwogICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDsKICAgICAgY29uc3QgY2VudGVyWSA9IGIucG9zaXRpb24ueTsKICAgICAgc3VtWSArPSBjZW50ZXJZOwogICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTsKICAgICAgY29uc3QgY2VudGVyWiA9IGIucG9zaXRpb24uejsKICAgICAgc3VtWiArPSBjZW50ZXJaOwogICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjsKICAgIH0KCiAgICBjb25zdCB2YXJpYW5jZVggPSBzdW1YMiAtIHN1bVggKiBzdW1YICogaW52TjsKICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOOwogICAgY29uc3QgdmFyaWFuY2VaID0gc3VtWjIgLSBzdW1aICogc3VtWiAqIGludk47CgogICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWSkgewogICAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VaKSB7CiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgfQogICAgfSBlbHNlIGlmICh2YXJpYW5jZVkgPiB2YXJpYW5jZVopIHsKICAgICAgdGhpcy5heGlzSW5kZXggPSAxOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5heGlzSW5kZXggPSAyOwogICAgfQogIH0KICAvKioNCiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gYW4gQUFCQi4NCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uDQogICAqIEByZXR1cm4ge2FycmF5fQ0KICAgKi8KCgogIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHsKICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgIHRoaXMuc29ydExpc3QoKTsKICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlOwogICAgfQoKICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgbGV0IGF4aXMgPSAneCc7CgogICAgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICBheGlzID0gJ3knOwogICAgfQoKICAgIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgYXhpcyA9ICd6JzsKICAgIH0KCiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBsb3dlciA9IGFhYmIubG93ZXJCb3VuZFtheGlzXTsKICAgIGNvbnN0IHVwcGVyID0gYWFiYi51cHBlckJvdW5kW2F4aXNdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhpc0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGF4aXNMaXN0W2ldOwoKICAgICAgaWYgKGIuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgICAgYi5jb21wdXRlQUFCQigpOwogICAgICB9CgogICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgcmVzdWx0LnB1c2goYik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KCn0KLyoqDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGluc2VydGlvblNvcnRYDQogKiBAcGFyYW0gIHtBcnJheX0gYQ0KICogQHJldHVybiB7QXJyYXl9DQogKi8KCgpTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYID0gYSA9PiB7CiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgY29uc3QgdiA9IGFbaV07CiAgICBsZXQgajsKCiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHsKICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnggPD0gdi5hYWJiLmxvd2VyQm91bmQueCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBhW2ogKyAxXSA9IGFbal07CiAgICB9CgogICAgYVtqICsgMV0gPSB2OwogIH0KCiAgcmV0dXJuIGE7Cn07Ci8qKg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WQ0KICogQHBhcmFtICB7QXJyYXl9IGENCiAqIEByZXR1cm4ge0FycmF5fQ0KICovCgoKU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WSA9IGEgPT4gewogIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIGNvbnN0IHYgPSBhW2ldOwogICAgbGV0IGo7CgogICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC55IDw9IHYuYWFiYi5sb3dlckJvdW5kLnkpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgYVtqICsgMV0gPSBhW2pdOwogICAgfQoKICAgIGFbaiArIDFdID0gdjsKICB9CgogIHJldHVybiBhOwp9OwovKioNCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFoNCiAqIEBwYXJhbSAge0FycmF5fSBhDQogKiBAcmV0dXJuIHtBcnJheX0NCiAqLwoKClNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFogPSBhID0+IHsKICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICBjb25zdCB2ID0gYVtpXTsKICAgIGxldCBqOwoKICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkgewogICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueiA8PSB2LmFhYmIubG93ZXJCb3VuZC56KSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gYVtqXTsKICAgIH0KCiAgICBhW2ogKyAxXSA9IHY7CiAgfQoKICByZXR1cm4gYTsKfTsKLyoqDQogKiBDaGVjayBpZiB0aGUgYm91bmRzIG9mIHR3byBib2RpZXMgb3ZlcmxhcCwgYWxvbmcgdGhlIGdpdmVuIFNBUCBheGlzLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBjaGVja0JvdW5kcw0KICogQHBhcmFtICB7Qm9keX0gYmkNCiAqIEBwYXJhbSAge0JvZHl9IGJqDQogKiBAcGFyYW0gIHtOdW1iZXJ9IGF4aXNJbmRleA0KICogQHJldHVybiB7Qm9vbGVhbn0NCiAqLwoKClNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMgPSAoYmksIGJqLCBheGlzSW5kZXgpID0+IHsKICBsZXQgYmlQb3M7CiAgbGV0IGJqUG9zOwoKICBpZiAoYXhpc0luZGV4ID09PSAwKSB7CiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLng7CiAgICBialBvcyA9IGJqLnBvc2l0aW9uLng7CiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgIGJpUG9zID0gYmkucG9zaXRpb24ueTsKICAgIGJqUG9zID0gYmoucG9zaXRpb24ueTsKICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikgewogICAgYmlQb3MgPSBiaS5wb3NpdGlvbi56OwogICAgYmpQb3MgPSBiai5wb3NpdGlvbi56OwogIH0KCiAgY29uc3QgcmkgPSBiaS5ib3VuZGluZ1JhZGl1cywKICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLAogICAgICAgIC8vIGJvdW5kQTEgPSBiaVBvcyAtIHJpLAogIGJvdW5kQTIgPSBiaVBvcyArIHJpLAogICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajsKCiAgcmV0dXJuIGJvdW5kQjEgPCBib3VuZEEyOwp9OwoKZnVuY3Rpb24gVXRpbHMoKSB7fQovKioNCiAqIEV4dGVuZCBhbiBvcHRpb25zIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBkZWZhdWx0cw0KICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC4gTWF5IGJlIGZhbHN5OiBpbiB0aGlzIGNhc2UsIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkIGFuZCByZXR1cm5lZC4NCiAqIEBwYXJhbSAge29iamVjdH0gZGVmYXVsdHMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCB2YWx1ZXMuDQogKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtb2RpZmllZCBvcHRpb25zIG9iamVjdC4NCiAqLwoKClV0aWxzLmRlZmF1bHRzID0gKG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMpID0+IHsKICBmb3IgKGxldCBrZXkgaW4gZGVmYXVsdHMpIHsKICAgIGlmICghKGtleSBpbiBvcHRpb25zKSkgewogICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldOwogICAgfQogIH0KCiAgcmV0dXJuIG9wdGlvbnM7Cn07Ci8qKg0KICogQ29uc3RyYWludCBiYXNlIGNsYXNzDQogKiBAY2xhc3MgQ29uc3RyYWludA0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ9dHJ1ZV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMud2FrZVVwQm9kaWVzPXRydWVdDQogKi8KCgpjbGFzcyBDb25zdHJhaW50IHsKICAvLyBFcXVhdGlvbnMgdG8gYmUgc29sdmVkIGluIHRoaXMgY29uc3RyYWludC4KICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgYm9kaWVzIHRvIGNvbGxpZGUgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IHRydWUsCiAgICAgIHdha2VVcEJvZGllczogdHJ1ZQogICAgfSk7CiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogICAgdGhpcy5ib2R5QSA9IGJvZHlBOwogICAgdGhpcy5ib2R5QiA9IGJvZHlCOwogICAgdGhpcy5pZCA9IENvbnN0cmFpbnQuaWRDb3VudGVyKys7CiAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSBvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CgogICAgaWYgKG9wdGlvbnMud2FrZVVwQm9kaWVzKSB7CiAgICAgIGlmIChib2R5QSkgewogICAgICAgIGJvZHlBLndha2VVcCgpOwogICAgICB9CgogICAgICBpZiAoYm9keUIpIHsKICAgICAgICBib2R5Qi53YWtlVXAoKTsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogVXBkYXRlIGFsbCB0aGUgZXF1YXRpb25zIHdpdGggZGF0YS4NCiAgICogQG1ldGhvZCB1cGRhdGUNCiAgICovCgoKICB1cGRhdGUoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyEnKTsKICB9CiAgLyoqDQogICAqIEVuYWJsZXMgYWxsIGVxdWF0aW9ucyBpbiB0aGUgY29uc3RyYWludC4NCiAgICogQG1ldGhvZCBlbmFibGUNCiAgICovCgoKICBlbmFibGUoKSB7CiAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9uczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICBlcXNbaV0uZW5hYmxlZCA9IHRydWU7CiAgICB9CiAgfQogIC8qKg0KICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50Lg0KICAgKiBAbWV0aG9kIGRpc2FibGUNCiAgICovCgoKICBkaXNhYmxlKCkgewogICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHsKICAgICAgZXFzW2ldLmVuYWJsZWQgPSBmYWxzZTsKICAgIH0KICB9Cgp9CgpDb25zdHJhaW50LmlkQ291bnRlciA9IDA7Ci8qKg0KICogQW4gZWxlbWVudCBjb250YWluaW5nIDYgZW50cmllcywgMyBzcGF0aWFsIGFuZCAzIHJvdGF0aW9uYWwgZGVncmVlcyBvZiBmcmVlZG9tLg0KICovCgpjbGFzcyBKYWNvYmlhbkVsZW1lbnQgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5zcGF0aWFsID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7CiAgfQogIC8qKg0KICAgKiBNdWx0aXBseSB3aXRoIG90aGVyIEphY29iaWFuRWxlbWVudA0KICAgKi8KCgogIG11bHRpcGx5RWxlbWVudChlbGVtZW50KSB7CiAgICByZXR1cm4gZWxlbWVudC5zcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgZWxlbWVudC5yb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgd2l0aCB0d28gdmVjdG9ycw0KICAgKi8KCgogIG11bHRpcGx5VmVjdG9ycyhzcGF0aWFsLCByb3RhdGlvbmFsKSB7CiAgICByZXR1cm4gc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIHJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7CiAgfQoKfQovKioNCiAqIEVxdWF0aW9uIGJhc2UgY2xhc3MNCiAqIEBjbGFzcyBFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJpDQogKiBAcGFyYW0ge0JvZHl9IGJqDQogKiBAcGFyYW0ge051bWJlcn0gbWluRm9yY2UgTWluaW11bSAocmVhZDogbmVnYXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50Lg0KICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIE1heGltdW0gKHJlYWQ6IHBvc2l0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC4NCiAqLwoKCmNsYXNzIEVxdWF0aW9uIHsKICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAvLyBBIG51bWJlciwgcHJvcG9ydGlvbmFsIHRvIHRoZSBmb3JjZSBhZGRlZCB0byB0aGUgYm9kaWVzLgogIGNvbnN0cnVjdG9yKGJpLCBiaiwgbWluRm9yY2UgPSAtMWU2LCBtYXhGb3JjZSA9IDFlNikgewogICAgdGhpcy5pZCA9IEVxdWF0aW9uLmlkKys7CiAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7CiAgICB0aGlzLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgICB0aGlzLmJpID0gYmk7CiAgICB0aGlzLmJqID0gYmo7CiAgICB0aGlzLmEgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgIHRoaXMuYiA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyCgogICAgdGhpcy5lcHMgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QSA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTsKICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QiA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTsKICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7CiAgICB0aGlzLm11bHRpcGxpZXIgPSAwOwogICAgdGhpcy5zZXRTcG9va1BhcmFtcygxZTcsIDQsIDEgLyA2MCk7IC8vIFNldCB0eXBpY2FsIHNwb29rIHBhcmFtcwogIH0KICAvKioNCiAgICogUmVjYWxjdWxhdGVzIGEsYixlcHMuDQogICAqIEBtZXRob2Qgc2V0U3Bvb2tQYXJhbXMNCiAgICovCgoKICBzZXRTcG9va1BhcmFtcyhzdGlmZm5lc3MsIHJlbGF4YXRpb24sIHRpbWVTdGVwKSB7CiAgICBjb25zdCBkID0gcmVsYXhhdGlvbjsKICAgIGNvbnN0IGsgPSBzdGlmZm5lc3M7CiAgICBjb25zdCBoID0gdGltZVN0ZXA7CiAgICB0aGlzLmEgPSA0LjAgLyAoaCAqICgxICsgNCAqIGQpKTsKICAgIHRoaXMuYiA9IDQuMCAqIGQgLyAoMSArIDQgKiBkKTsKICAgIHRoaXMuZXBzID0gNC4wIC8gKGggKiBoICogayAqICgxICsgNCAqIGQpKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIFNQT09LIGVxdWF0aW9uDQogICAqIEBtZXRob2QgY29tcHV0ZUINCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVCKGEsIGIsIGgpIHsKICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgIGNvbnN0IEdxID0gdGhpcy5jb21wdXRlR3EoKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICByZXR1cm4gLUdxICogYSAtIEdXICogYiAtIEdpTWYgKiBoOwogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVHcQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgY29tcHV0ZUdxKCkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHhpID0gYmkucG9zaXRpb247CiAgICBjb25zdCB4aiA9IGJqLnBvc2l0aW9uOwogICAgcmV0dXJuIEdBLnNwYXRpYWwuZG90KHhpKSArIEdCLnNwYXRpYWwuZG90KHhqKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVHVw0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgY29tcHV0ZUdXKCkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICBjb25zdCB2aiA9IGJqLnZlbG9jaXR5OwogICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opOwogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgRypXbGFtYmRhLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzDQogICAqIEBtZXRob2QgY29tcHV0ZUdXbGFtYmRhDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBjb21wdXRlR1dsYW1iZGEoKSB7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgdmkgPSBiaS52bGFtYmRhOwogICAgY29uc3QgdmogPSBiai52bGFtYmRhOwogICAgY29uc3Qgd2kgPSBiaS53bGFtYmRhOwogICAgY29uc3Qgd2ogPSBiai53bGFtYmRhOwogICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7CiAgfQoKICBjb21wdXRlR2lNZigpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCBmaSA9IGJpLmZvcmNlOwogICAgY29uc3QgdGkgPSBiaS50b3JxdWU7CiAgICBjb25zdCBmaiA9IGJqLmZvcmNlOwogICAgY29uc3QgdGogPSBiai50b3JxdWU7CiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTsKICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgZmkuc2NhbGUoaW52TWFzc2ksIGlNZmkpOwogICAgZmouc2NhbGUoaW52TWFzc2osIGlNZmopOwogICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGksIGludklpX3ZtdWx0X3RhdWkpOwogICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGosIGludklqX3ZtdWx0X3RhdWopOwogICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyhpTWZpLCBpbnZJaV92bXVsdF90YXVpKSArIEdCLm11bHRpcGx5VmVjdG9ycyhpTWZqLCBpbnZJal92bXVsdF90YXVqKTsKICB9CgogIGNvbXB1dGVHaU1HdCgpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTsKICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgY29uc3QgaW52SWkgPSBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZTsKICAgIGNvbnN0IGludklqID0gYmouaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICBsZXQgcmVzdWx0ID0gaW52TWFzc2kgKyBpbnZNYXNzajsKICAgIGludklpLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRtcCQxKTsKICAgIHJlc3VsdCArPSB0bXAkMS5kb3QoR0Eucm90YXRpb25hbCk7CiAgICBpbnZJai52bXVsdChHQi5yb3RhdGlvbmFsLCB0bXAkMSk7CiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdCLnJvdGF0aW9uYWwpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEFkZCBjb25zdHJhaW50IHZlbG9jaXR5IHRvIHRoZSBib2RpZXMuDQogICAqIEBtZXRob2QgYWRkVG9XbGFtYmRhDQogICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YWxhbWJkYQ0KICAgKi8KCgogIGFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHRlbXAgPSBhZGRUb1dsYW1iZGFfdGVtcDsgLy8gQWRkIHRvIGxpbmVhciB2ZWxvY2l0eQogICAgLy8gdl9sYW1iZGEgKz0gaW52KE0pICogZGVsdGFfbGFtYmEgKiBHCgogICAgYmkudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmkuaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdBLnNwYXRpYWwsIGJpLnZsYW1iZGEpOwogICAgYmoudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmouaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdCLnNwYXRpYWwsIGJqLnZsYW1iZGEpOyAvLyBBZGQgdG8gYW5ndWxhciB2ZWxvY2l0eQoKICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRlbXApOwogICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpOwogICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoR0Iucm90YXRpb25hbCwgdGVtcCk7CiAgICBiai53bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihkZWx0YWxhbWJkYSwgdGVtcCwgYmoud2xhbWJkYSk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBkZW5vbWluYXRvciBwYXJ0IG9mIHRoZSBTUE9PSyBlcXVhdGlvbjogQyA9IEcqaW52KE0pKkcnICsgZXBzDQogICAqIEBtZXRob2QgY29tcHV0ZUludkMNCiAgICogQHBhcmFtICB7TnVtYmVyfSBlcHMNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVDKCkgewogICAgcmV0dXJuIHRoaXMuY29tcHV0ZUdpTUd0KCkgKyB0aGlzLmVwczsKICB9Cgp9CgpFcXVhdGlvbi5pZCA9IDA7Ci8qKg0KICogQ29tcHV0ZXMgRyppbnYoTSkqZiwgd2hlcmUgTSBpcyB0aGUgbWFzcyBtYXRyaXggd2l0aCBkaWFnb25hbCBibG9ja3MgZm9yIGVhY2ggYm9keSwgYW5kIGYgYXJlIHRoZSBmb3JjZXMgb24gdGhlIGJvZGllcy4NCiAqIEBtZXRob2QgY29tcHV0ZUdpTWYNCiAqIEByZXR1cm4ge051bWJlcn0NCiAqLwoKY29uc3QgaU1maSA9IG5ldyBWZWMzKCk7CmNvbnN0IGlNZmogPSBuZXcgVmVjMygpOwpjb25zdCBpbnZJaV92bXVsdF90YXVpID0gbmV3IFZlYzMoKTsKY29uc3QgaW52SWpfdm11bHRfdGF1aiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQ29tcHV0ZXMgRyppbnYoTSkqRycNCiAqIEBtZXRob2QgY29tcHV0ZUdpTUd0DQogKiBAcmV0dXJuIHtOdW1iZXJ9DQogKi8KCmNvbnN0IHRtcCQxID0gbmV3IFZlYzMoKTsKY29uc3QgYWRkVG9XbGFtYmRhX3RlbXAgPSBuZXcgVmVjMygpOwovKioNCiAqIENvbnRhY3Qvbm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24NCiAqIEBjbGFzcyBDb250YWN0RXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQGV4dGVuZHMgRXF1YXRpb24NCiAqLwoKY2xhc3MgQ29udGFjdEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogIC8vICJib3VuY2luZXNzIjogdTEgPSAtZSp1MAogIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgY2VudGVyIG9mIGJpIHRvIHRoZSBjb250YWN0IHBvaW50LgogIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IHN0YXJ0cyBpbiBib2R5IGogcG9zaXRpb24gYW5kIGdvZXMgdG8gdGhlIGNvbnRhY3QgcG9pbnQuCiAgLy8gQ29udGFjdCBub3JtYWwsIHBvaW50aW5nIG91dCBvZiBib2R5IGkuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBtYXhGb3JjZSA9IDFlNikgewogICAgc3VwZXIoYm9keUEsIGJvZHlCLCAwLCBtYXhGb3JjZSk7CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gMC4wOwogICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTsKICAgIHRoaXMubmkgPSBuZXcgVmVjMygpOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICBjb25zdCByaXhuID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxOwogICAgY29uc3Qgcmp4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICBjb25zdCB3aSA9IGJpLmFuZ3VsYXJWZWxvY2l0eTsKICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7CiAgICBjb25zdCB0YXVpID0gYmkudG9ycXVlOwogICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTsKICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5OwogICAgY29uc3QgZmogPSBiai5mb3JjZTsKICAgIGNvbnN0IHRhdWogPSBiai50b3JxdWU7CiAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMzsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBuID0gdGhpcy5uaTsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgcmkuY3Jvc3Mobiwgcml4bik7CiAgICByai5jcm9zcyhuLCByanhuKTsgLy8gZyA9IHhqK3JqIC0oeGkrcmkpCiAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdCgogICAgbi5uZWdhdGUoR0Euc3BhdGlhbCk7CiAgICByaXhuLm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTsKICAgIEdCLnNwYXRpYWwuY29weShuKTsKICAgIEdCLnJvdGF0aW9uYWwuY29weShyanhuKTsgLy8gQ2FsY3VsYXRlIHRoZSBwZW5ldHJhdGlvbiB2ZWN0b3IKCiAgICBwZW5ldHJhdGlvblZlYy5jb3B5KGJqLnBvc2l0aW9uKTsKICAgIHBlbmV0cmF0aW9uVmVjLnZhZGQocmosIHBlbmV0cmF0aW9uVmVjKTsKICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIoYmkucG9zaXRpb24sIHBlbmV0cmF0aW9uVmVjKTsKICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIocmksIHBlbmV0cmF0aW9uVmVjKTsKICAgIGNvbnN0IGcgPSBuLmRvdChwZW5ldHJhdGlvblZlYyk7IC8vIENvbXB1dGUgaXRlcmF0aW9uCgogICAgY29uc3QgZVBsdXNPbmUgPSB0aGlzLnJlc3RpdHV0aW9uICsgMTsKICAgIGNvbnN0IEdXID0gZVBsdXNPbmUgKiB2ai5kb3QobikgLSBlUGx1c09uZSAqIHZpLmRvdChuKSArIHdqLmRvdChyanhuKSAtIHdpLmRvdChyaXhuKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgY3VycmVudCByZWxhdGl2ZSB2ZWxvY2l0eSBpbiB0aGUgY29udGFjdCBwb2ludC4NCiAgICogQG1ldGhvZCBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsDQogICAqIEByZXR1cm4ge251bWJlcn0NCiAgICovCgoKICBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkgewogICAgY29uc3QgdmkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aTsKICAgIGNvbnN0IHZqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmo7CiAgICBjb25zdCB4aSA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpOwogICAgY29uc3QgeGogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94ajsKICAgIGNvbnN0IHJlbFZlbCA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbDsKICAgIHRoaXMuYmkucG9zaXRpb24udmFkZCh0aGlzLnJpLCB4aSk7CiAgICB0aGlzLmJqLnBvc2l0aW9uLnZhZGQodGhpcy5yaiwgeGopOwogICAgdGhpcy5iaS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aSwgdmkpOwogICAgdGhpcy5iai5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aiwgdmopOwogICAgdmkudnN1Yih2aiwgcmVsVmVsKTsKICAgIHJldHVybiB0aGlzLm5pLmRvdChyZWxWZWwpOwogIH0KCn0KCmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycwoKY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmkgPSBuZXcgVmVjMygpOwpjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aiA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGogPSBuZXcgVmVjMygpOwpjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWwgPSBuZXcgVmVjMygpOwovKioNCiAqIENvbm5lY3RzIHR3byBib2RpZXMgYXQgZ2l2ZW4gb2Zmc2V0IHBvaW50cy4NCiAqIEBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50DQogKiBAZXh0ZW5kcyBDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7VmVjM30gcGl2b3RBIFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgYm9keUEgd2hpY2ggYm9keUEgaXMgY29uc3RyYWluZWQgdG8uDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCIEJvZHkgdGhhdCB3aWxsIGJlIGNvbnN0cmFpbmVkIGluIGEgc2ltaWxhciB3YXkgdG8gdGhlIHNhbWUgcG9pbnQgYXMgYm9keUEuIFdlIHdpbGwgdGhlcmVmb3JlIGdldCBhIGxpbmsgYmV0d2VlbiBib2R5QSBhbmQgYm9keUIuIElmIG5vdCBzcGVjaWZpZWQsIGJvZHlBIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gYSBzdGF0aWMgcG9pbnQuDQogKiBAcGFyYW0ge1ZlYzN9IHBpdm90QiBTZWUgcGl2b3RBLg0KICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIFRoZSBtYXhpbXVtIGZvcmNlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gY29uc3RyYWluIHRoZSBib2RpZXMuDQogKg0KICogQGV4YW1wbGUNCiAqICAgICBjb25zdCBib2R5QSA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTsNCiAqICAgICBjb25zdCBib2R5QiA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTsNCiAqICAgICBib2R5QS5wb3NpdGlvbi5zZXQoLTEsIDAsIDApOw0KICogICAgIGJvZHlCLnBvc2l0aW9uLnNldCgxLCAwLCAwKTsNCiAqICAgICBib2R5QS5hZGRTaGFwZShzaGFwZUEpOw0KICogICAgIGJvZHlCLmFkZFNoYXBlKHNoYXBlQik7DQogKiAgICAgd29ybGQuYWRkQm9keShib2R5QSk7DQogKiAgICAgd29ybGQuYWRkQm9keShib2R5Qik7DQogKiAgICAgY29uc3QgbG9jYWxQaXZvdEEgPSBuZXcgVmVjMygxLCAwLCAwKTsNCiAqICAgICBjb25zdCBsb2NhbFBpdm90QiA9IG5ldyBWZWMzKC0xLCAwLCAwKTsNCiAqICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9keUEsIGxvY2FsUGl2b3RBLCBib2R5QiwgbG9jYWxQaXZvdEIpOw0KICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7DQogKi8KCmNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHsKICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuCiAgY29uc3RydWN0b3IoYm9keUEsIHBpdm90QSA9IG5ldyBWZWMzKCksIGJvZHlCLCBwaXZvdEIgPSBuZXcgVmVjMygpLCBtYXhGb3JjZSA9IDFlNikgewogICAgc3VwZXIoYm9keUEsIGJvZHlCKTsKICAgIHRoaXMucGl2b3RBID0gcGl2b3RBLmNsb25lKCk7CiAgICB0aGlzLnBpdm90QiA9IHBpdm90Qi5jbG9uZSgpOwogICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOwogICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOwogICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOyAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHgsIHksIHopOyAvLyBNYWtlIHRoZSBlcXVhdGlvbnMgYmlkaXJlY3Rpb25hbAoKICAgIHgubWluRm9yY2UgPSB5Lm1pbkZvcmNlID0gei5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgeC5uaS5zZXQoMSwgMCwgMCk7CiAgICB5Lm5pLnNldCgwLCAxLCAwKTsKICAgIHoubmkuc2V0KDAsIDAsIDEpOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YOwogICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZOwogICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aOyAvLyBSb3RhdGUgdGhlIHBpdm90cyB0byB3b3JsZCBzcGFjZQoKICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEEsIHgucmkpOwogICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7CiAgICB5LnJpLmNvcHkoeC5yaSk7CiAgICB5LnJqLmNvcHkoeC5yaik7CiAgICB6LnJpLmNvcHkoeC5yaSk7CiAgICB6LnJqLmNvcHkoeC5yaik7CiAgfQoKfQovKioNCiAqIENvbmUgZXF1YXRpb24uIFdvcmtzIHRvIGtlZXAgdGhlIGdpdmVuIGJvZHkgd29ybGQgdmVjdG9ycyBhbGlnbmVkLCBvciB0aWx0ZWQgd2l0aGluIGEgZ2l2ZW4gYW5nbGUgZnJvbSBlYWNoIG90aGVyLg0KICogQGNsYXNzIENvbmVFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBMb2NhbCBheGlzIGluIEENCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdIExvY2FsIGF4aXMgaW4gQg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmdsZV0gVGhlICJjb25lIGFuZ2xlIiB0byBrZWVwDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgRXF1YXRpb24NCiAqLwoKCmNsYXNzIENvbmVFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyBUaGUgY29uZSBhbmdsZSB0byBrZWVwLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7CiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTsKICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7CiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7CiAgfQoKICBjb21wdXRlQihoKSB7CiAgICBjb25zdCBhID0gdGhpcy5hOwogICAgY29uc3QgYiA9IHRoaXMuYjsKICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTsKICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjsKICAgIGNvbnN0IG5peG5qID0gdG1wVmVjMTsKICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMjsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7CiAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBUaGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yIGlzOgogICAgLy8gY29zKHRoZXRhKSA9IGEgKiBiIC8gKGxlbmd0aChhKSAqIGxlbmd0aChiKSA9IHsgbGVuKGEpID0gbGVuKGIpID0gMSB9ID0gYSAqIGIKICAgIC8vIGcgPSBhICogYgogICAgLy8gZ2RvdCA9IChiIHggYSkgKiB3aSArIChhIHggYikgKiB3agogICAgLy8gRyA9IFswIGJ4YSAwIGF4Yl0KICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdCgogICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTsKICAgIEdCLnJvdGF0aW9uYWwuY29weShuaXhuaik7CiAgICBjb25zdCBnID0gTWF0aC5jb3ModGhpcy5hbmdsZSkgLSBuaS5kb3QobmopOwogICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjsKICAgIHJldHVybiBCOwogIH0KCn0KCmNvbnN0IHRtcFZlYzEgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMyID0gbmV3IFZlYzMoKTsKLyoqDQogKiBSb3RhdGlvbmFsIGNvbnN0cmFpbnQuIFdvcmtzIHRvIGtlZXAgdGhlIGxvY2FsIHZlY3RvcnMgb3J0aG9nb25hbCB0byBlYWNoIG90aGVyIGluIHdvcmxkIHNwYWNlLg0KICogQGNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZV0NCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCmNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgdGhpcy5tYXhBbmdsZSA9IE1hdGguUEkgLyAyOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7CiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMTsKICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMiQxOwogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgbmkuY3Jvc3MobmosIG5peG5qKTsKICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIGcgPSBuaSAqIG5qCiAgICAvLyBnZG90ID0gKG5qIHggbmkpICogd2kgKyAobmkgeCBuaikgKiB3agogICAgLy8gRyA9IFswIG5qeG5pIDAgbml4bmpdCiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopOwogICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMubWF4QW5nbGUpIC0gbmkuZG90KG5qKTsKICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Cgpjb25zdCB0bXBWZWMxJDEgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpOwovKioNCiAqIEBjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdDQogKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50DQogKi8KCmNsYXNzIENvbmVUd2lzdENvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7CiAgICBjb25zdCBjID0gdGhpcy5jb25lRXF1YXRpb24gPSBuZXcgQ29uZUVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgdGhpcy50d2lzdEFuZ2xlID0gdHlwZW9mIG9wdGlvbnMudHdpc3RBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnR3aXN0QW5nbGUgOiAwOyAvLyBNYWtlIHRoZSBjb25lIGVxdWF0aW9uIHB1c2ggdGhlIGJvZGllcyB0b3dhcmQgdGhlIGNvbmUgYXhpcywgbm90IG91dHdhcmQKCiAgICBjLm1heEZvcmNlID0gMDsKICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uCgogICAgdC5tYXhGb3JjZSA9IDA7CiAgICB0Lm1pbkZvcmNlID0gLW1heEZvcmNlOwogICAgdGhpcy5lcXVhdGlvbnMucHVzaChjLCB0KTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgIGNvbnN0IGNvbmUgPSB0aGlzLmNvbmVFcXVhdGlvbjsKICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uOwogICAgc3VwZXIudXBkYXRlKCk7IC8vIFVwZGF0ZSB0aGUgYXhlcyB0byB0aGUgY29uZSBjb25zdHJhaW50CgogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0EsIGNvbmUuYXhpc0EpOwogICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnQKCiAgICB0aGlzLmF4aXNBLnRhbmdlbnRzKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTsKICAgIHRoaXMuYXhpc0IudGFuZ2VudHModHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0d2lzdC5heGlzQiwgdHdpc3QuYXhpc0IpOwogICAgY29uZS5hbmdsZSA9IHRoaXMuYW5nbGU7CiAgICB0d2lzdC5tYXhBbmdsZSA9IHRoaXMudHdpc3RBbmdsZTsKICB9Cgp9Ci8qKg0KICogQ29uc3RyYWlucyB0d28gYm9kaWVzIHRvIGJlIGF0IGEgY29uc3RhbnQgZGlzdGFuY2UgZnJvbSBlYWNoIG90aGVycyBjZW50ZXIgb2YgbWFzcy4NCiAqIEBjbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnQNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtOdW1iZXJ9IFtkaXN0YW5jZV0gVGhlIGRpc3RhbmNlIHRvIGtlZXAuIElmIHVuZGVmaW5lZCwgaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBib2R5QSBhbmQgYm9keUINCiAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgQ29uc3RyYWludA0KICovCgoKY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7CiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBkaXN0YW5jZSwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7CgogICAgaWYgKHR5cGVvZiBkaXN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgZGlzdGFuY2UgPSBib2R5QS5wb3NpdGlvbi5kaXN0YW5jZVRvKGJvZHlCLnBvc2l0aW9uKTsKICAgIH0KCiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOyAvLyBNYWtlIGl0IGJpZGlyZWN0aW9uYWwKCiAgICBlcS5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgIGVxLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgfQoKICB1cGRhdGUoKSB7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjsKICAgIGNvbnN0IGhhbGZEaXN0ID0gdGhpcy5kaXN0YW5jZSAqIDAuNTsKICAgIGNvbnN0IG5vcm1hbCA9IGVxLm5pOwogICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTsKICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgIG5vcm1hbC5zY2FsZShoYWxmRGlzdCwgZXEucmkpOwogICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopOwogIH0KCn0KLyoqDQogKiBMb2NrIGNvbnN0cmFpbnQuIFdpbGwgcmVtb3ZlIGFsbCBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYm9kaWVzLg0KICogQGNsYXNzIExvY2tDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdDQogKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50DQogKi8KCgpjbGFzcyBMb2NrQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuCgogICAgY29uc3QgcGl2b3RBID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBpdm90QiA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBoYWxmV2F5ID0gbmV3IFZlYzMoKTsKICAgIGJvZHlBLnBvc2l0aW9uLnZhZGQoYm9keUIucG9zaXRpb24sIGhhbGZXYXkpOwogICAgaGFsZldheS5zY2FsZSgwLjUsIGhhbGZXYXkpOwogICAgYm9keUIucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RCKTsKICAgIGJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90QSk7IC8vIFRoZSBwb2ludC10by1wb2ludCBjb25zdHJhaW50IHdpbGwga2VlcCBhIHBvaW50IHNoYXJlZCBiZXR3ZWVuIHRoZSBib2RpZXMKCiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7IC8vIFN0b3JlIGluaXRpYWwgcm90YXRpb24gb2YgdGhlIGJvZGllcyBhcyB1bml0IHZlY3RvcnMgaW4gdGhlIGxvY2FsIGJvZHkgc3BhY2VzCgogICAgdGhpcy54QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7CiAgICB0aGlzLnhCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9YKTsKICAgIHRoaXMueUEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpOwogICAgdGhpcy55QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7CiAgICB0aGlzLnpBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsKICAgIHRoaXMuekIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1opOyAvLyAuLi5hbmQgdGhlIGZvbGxvd2luZyByb3RhdGlvbmFsIGVxdWF0aW9ucyB3aWxsIGtlZXAgYWxsIHJvdGF0aW9uYWwgRE9GJ3MgaW4gcGxhY2UKCiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjMgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHIxLCByMiwgcjMpOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb247CiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTsKICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yOwogICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM7CiAgICBzdXBlci51cGRhdGUoKTsgLy8gVGhlc2UgdmVjdG9yIHBhaXJzIG11c3QgYmUgb3J0aG9nb25hbAoKICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhBLCByMS5heGlzQSk7CiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QiwgcjEuYXhpc0IpOwogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUEsIHIyLmF4aXNBKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpCLCByMi5heGlzQik7CiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QSwgcjMuYXhpc0EpOwogICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueEIsIHIzLmF4aXNCKTsKICB9Cgp9Ci8qKg0KICogUm90YXRpb25hbCBtb3RvciBjb25zdHJhaW50LiBUcmllcyB0byBrZWVwIHRoZSByZWxhdGl2ZSBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgdG8gYSBnaXZlbiB2YWx1ZS4NCiAqIEBjbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UNCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCgpjbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgLy8gV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLgogIC8vIE1vdG9yIHZlbG9jaXR5LgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7CiAgICB0aGlzLmF4aXNBID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpOwogICAgdGhpcy50YXJnZXRWZWxvY2l0eSA9IDA7CiAgfQoKICBjb21wdXRlQihoKSB7CiAgICBjb25zdCBhID0gdGhpcy5hOwogICAgY29uc3QgYiA9IHRoaXMuYjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTsKICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIGcgPSAwCiAgICAvLyBnZG90ID0gYXhpc0EgKiB3aSAtIGF4aXNCICogd2oKICAgIC8vIGdkb3QgPSBHICogVyA9IEcgKiBbdmkgd2kgdmogd2pdCiAgICAvLyA9PgogICAgLy8gRyA9IFswIGF4aXNBIDAgLWF4aXNCXQoKICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7CiAgICBheGlzQi5uZWdhdGUoR0Iucm90YXRpb25hbCk7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCkgLSB0aGlzLnRhcmdldFZlbG9jaXR5OwogICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgIGNvbnN0IEIgPSAtR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Ci8qKg0KICogSGluZ2UgY29uc3RyYWludC4gVGhpbmsgb2YgaXQgYXMgYSBkb29yIGhpbmdlLiBJdCB0cmllcyB0byBrZWVwIHRoZSBkb29yIGluIHRoZSBjb3JyZWN0IHBsYWNlIGFuZCB3aXRoIHRoZSBjb3JyZWN0IG9yaWVudGF0aW9uLg0KICogQGNsYXNzIEhpbmdlQ29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0gQSBwb2ludCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuIFRoaXMgZGVmaW5lcyB0aGUgb2Zmc2V0IG9mIGF4aXNBLg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gQW4gYXhpcyB0aGF0IGJvZHlBIGNhbiByb3RhdGUgYXJvdW5kLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90Ql0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICovCgoKY2xhc3MgSGluZ2VDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7CiAgLy8gUm90YXRpb24gYXhpcywgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBpdm90QiA9IG9wdGlvbnMucGl2b3RCID8gb3B0aW9ucy5waXZvdEIuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7CiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICBheGlzQS5ub3JtYWxpemUoKTsKICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTsKICAgIGF4aXNCLm5vcm1hbGl6ZSgpOwogICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICBjb25zdCByb3RhdGlvbmFsMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb24gPSBuZXcgUm90YXRpb25hbE1vdG9yRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtYXhGb3JjZSk7CiAgICBtb3Rvci5lbmFibGVkID0gZmFsc2U7IC8vIE5vdCBlbmFibGVkIGJ5IGRlZmF1bHQKICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlcgoKICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocm90YXRpb25hbDEsIHJvdGF0aW9uYWwyLCBtb3Rvcik7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGVuYWJsZU1vdG9yDQogICAqLwoKCiAgZW5hYmxlTW90b3IoKSB7CiAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IHRydWU7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGRpc2FibGVNb3Rvcg0KICAgKi8KCgogIGRpc2FibGVNb3RvcigpIHsKICAgIHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldE1vdG9yU3BlZWQNCiAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkDQogICAqLwoKCiAgc2V0TW90b3JTcGVlZChzcGVlZCkgewogICAgdGhpcy5tb3RvckVxdWF0aW9uLnRhcmdldFZlbG9jaXR5ID0gc3BlZWQ7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldE1vdG9yTWF4Rm9yY2UNCiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlDQogICAqLwoKCiAgc2V0TW90b3JNYXhGb3JjZShtYXhGb3JjZSkgewogICAgdGhpcy5tb3RvckVxdWF0aW9uLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgfQoKICB1cGRhdGUoKSB7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjsKICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xOwogICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI7CiAgICBjb25zdCB3b3JsZEF4aXNBID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxOwogICAgY29uc3Qgd29ybGRBeGlzQiA9IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMjsKICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTsKICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjsKICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBHZXQgd29ybGQgYXhlcwoKICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpOwogICAgYm9keUIucXVhdGVybmlvbi52bXVsdChheGlzQiwgd29ybGRBeGlzQik7CiAgICB3b3JsZEF4aXNBLnRhbmdlbnRzKHIxLmF4aXNBLCByMi5heGlzQSk7CiAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpOwogICAgcjIuYXhpc0IuY29weSh3b3JsZEF4aXNCKTsKCiAgICBpZiAodGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQpIHsKICAgICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNBLCBtb3Rvci5heGlzQSk7CiAgICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQiwgbW90b3IuYXhpc0IpOwogICAgfQogIH0KCn0KCmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSA9IG5ldyBWZWMzKCk7CmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQ29uc3RyYWlucyB0aGUgc2xpcHBpbmcgaW4gYSBjb250YWN0IGFsb25nIGEgdGFuZ2VudA0KICogQGNsYXNzIEZyaWN0aW9uRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtOdW1iZXJ9IHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnDQogKiBAZXh0ZW5kcyBFcXVhdGlvbg0KICovCgpjbGFzcyBGcmljdGlvbkVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogIC8vIFRhbmdlbnQuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBzbGlwRm9yY2UpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLXNsaXBGb3JjZSwgc2xpcEZvcmNlKTsKICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnQgPSBuZXcgVmVjMygpOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICBjb25zdCByaXh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMTsKICAgIGNvbnN0IHJqeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyOwogICAgY29uc3QgdCA9IHRoaXMudDsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgcmkuY3Jvc3ModCwgcml4dCk7CiAgICByai5jcm9zcyh0LCByanh0KTsgLy8gRyA9IFstdCAtcml4dCB0IHJqeHRdCiAgICAvLyBBbmQgcmVtZW1iZXIsIHRoaXMgaXMgYSBwdXJlIHZlbG9jaXR5IGNvbnN0cmFpbnQsIGcgaXMgYWx3YXlzIHplcm8hCgogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpOwogICAgcml4dC5uZWdhdGUoR0Eucm90YXRpb25hbCk7CiAgICBHQi5zcGF0aWFsLmNvcHkodCk7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgIHJldHVybiBCOwogIH0KCn0KCmNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOwpjb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTsKLyoqCiAqIERlZmluZXMgd2hhdCBoYXBwZW5zIHdoZW4gdHdvIG1hdGVyaWFscyBtZWV0LgogKiBAY2xhc3MgQ29udGFjdE1hdGVyaWFsCiAqIEBjb25zdHJ1Y3RvcgogKiBAcGFyYW0ge01hdGVyaWFsfSBtMQogKiBAcGFyYW0ge01hdGVyaWFsfSBtMgogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbj0wLjNdCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yZXN0aXR1dGlvbj0wLjNdCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M9MWU3XQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbj0zXQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcz0xZTddCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbj0zXQogKiBAdG9kbyBSZWZhY3RvciBtYXRlcmlhbHMgdG8gbWF0ZXJpYWxBIGFuZCBtYXRlcmlhbEIKICovCgpjbGFzcyBDb250YWN0TWF0ZXJpYWwgewogIC8vIElkZW50aWZpZXIgb2YgdGhpcyBtYXRlcmlhbC4KICAvLyBQYXJ0aWNpcGF0aW5nIG1hdGVyaWFscy4KICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC4KICAvLyBSZXN0aXR1dGlvbiBjb2VmZmljaWVudC4KICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGNvbnRhY3QgZXF1YXRpb25zLgogIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMuCiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMKICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIGZyaWN0aW9uOiAwLjMsCiAgICAgIHJlc3RpdHV0aW9uOiAwLjMsCiAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU3LAogICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLAogICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgIGZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOiAzCiAgICB9KTsKICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7CiAgICB0aGlzLm1hdGVyaWFscyA9IFttMSwgbTJdOwogICAgdGhpcy5mcmljdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb247CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjsKICAgIHRoaXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M7CiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb247CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjsKICB9Cgp9CgpDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDsKLyoqDQogKiBEZWZpbmVzIGEgcGh5c2ljcyBtYXRlcmlhbC4NCiAqIEBjbGFzcyBNYXRlcmlhbA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKi8KCmNsYXNzIE1hdGVyaWFsIHsKICAvLyBNYXRlcmlhbCBuYW1lLgogIC8vIE1hdGVyaWFsIGlkLgogIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAvLyBSZXN0aXR1dGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4gSWYgbm9uLW5lZ2F0aXZlLCBpdCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgcmVzdGl0dXRpb24gZ2l2ZW4gYnkgQ29udGFjdE1hdGVyaWFscy4gSWYgdGhlcmUncyBubyBtYXRjaGluZyBDb250YWN0TWF0ZXJpYWwsIHRoZSB2YWx1ZSBmcm9tIC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXgKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7CiAgICAgIG5hbWUgPSBvcHRpb25zOwogICAgICBvcHRpb25zID0ge307CiAgICB9CgogICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgIHRoaXMuZnJpY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5mcmljdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZyaWN0aW9uIDogLTE7CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gdHlwZW9mIG9wdGlvbnMucmVzdGl0dXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5yZXN0aXR1dGlvbiA6IC0xOwogIH0KCn0KCk1hdGVyaWFsLmlkQ291bnRlciA9IDA7Ci8qKg0KICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy4NCiAqDQogKiBAY2xhc3MgU3ByaW5nDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0TGVuZ3RoXSAgIEEgbnVtYmVyID4gMC4gRGVmYXVsdDogMQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzc10gICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMTAwDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ10gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxDQogKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMud29ybGRBbmNob3JCXQ0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLg0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JCXQ0KICovCgpjbGFzcyBTcHJpbmcgewogIC8vIFJlc3QgbGVuZ3RoIG9mIHRoZSBzcHJpbmcuCiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuCiAgLy8gRGFtcGluZyBvZiB0aGUgc3ByaW5nLgogIC8vIEZpcnN0IGNvbm5lY3RlZCBib2R5LgogIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS4KICAvLyBBbmNob3IgZm9yIGJvZHlBIGluIGxvY2FsIGJvZHlBIGNvb3JkaW5hdGVzLgogIC8vIEFuY2hvciBmb3IgYm9keUIgaW4gbG9jYWwgYm9keUIgY29vcmRpbmF0ZXMuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIHRoaXMucmVzdExlbmd0aCA9IHR5cGVvZiBvcHRpb25zLnJlc3RMZW5ndGggPT09ICdudW1iZXInID8gb3B0aW9ucy5yZXN0TGVuZ3RoIDogMTsKICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3MgfHwgMTAwOwogICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7CiAgICB0aGlzLmJvZHlBID0gYm9keUE7CiAgICB0aGlzLmJvZHlCID0gYm9keUI7CiAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmxvY2FsQW5jaG9yQiA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JBKSB7CiAgICAgIHRoaXMubG9jYWxBbmNob3JBLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckEpOwogICAgfQoKICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQikgewogICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckEpIHsKICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpOwogICAgfQoKICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQikgewogICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQQ0KICAgKi8KCgogIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHsKICAgIHRoaXMuYm9keUEucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JBLCB0aGlzLmxvY2FsQW5jaG9yQSk7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQg0KICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQg0KICAgKi8KCgogIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHsKICAgIHRoaXMuYm9keUIucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JCLCB0aGlzLmxvY2FsQW5jaG9yQik7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uDQogICAqLwoKCiAgZ2V0V29ybGRBbmNob3JBKHJlc3VsdCkgewogICAgdGhpcy5ib2R5QS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQSwgcmVzdWx0KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuDQogICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCDQogICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7CiAgICB0aGlzLmJvZHlCLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JCLCByZXN1bHQpOwogIH0KICAvKioNCiAgICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy4NCiAgICogQG1ldGhvZCBhcHBseUZvcmNlDQogICAqLwoKCiAgYXBwbHlGb3JjZSgpIHsKICAgIGNvbnN0IGsgPSB0aGlzLnN0aWZmbmVzczsKICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7CiAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoOwogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjsKICAgIGNvbnN0IHJfdW5pdCA9IGFwcGx5Rm9yY2Vfcl91bml0OwogICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTsKICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7CiAgICBjb25zdCB0bXAgPSBhcHBseUZvcmNlX3RtcDsKICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBOwogICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7CiAgICBjb25zdCByaSA9IGFwcGx5Rm9yY2Vfcmk7CiAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7CiAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjsKICAgIGNvbnN0IHJqX3hfZiA9IGFwcGx5Rm9yY2VfcmpfeF9mOyAvLyBHZXQgd29ybGQgYW5jaG9ycwoKICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7CiAgICB0aGlzLmdldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpOyAvLyBHZXQgb2Zmc2V0IHBvaW50cwoKICAgIHdvcmxkQW5jaG9yQS52c3ViKGJvZHlBLnBvc2l0aW9uLCByaSk7CiAgICB3b3JsZEFuY2hvckIudnN1Yihib2R5Qi5wb3NpdGlvbiwgcmopOyAvLyBDb21wdXRlIGRpc3RhbmNlIHZlY3RvciBiZXR3ZWVuIHdvcmxkIGFuY2hvciBwb2ludHMKCiAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpOwogICAgY29uc3QgcmxlbiA9IHIubGVuZ3RoKCk7CiAgICByX3VuaXQuY29weShyKTsKICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdQoKICAgIGJvZHlCLnZlbG9jaXR5LnZzdWIoYm9keUEudmVsb2NpdHksIHUpOyAvLyBBZGQgcm90YXRpb25hbCB2ZWxvY2l0eQoKICAgIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaiwgdG1wKTsKICAgIHUudmFkZCh0bXAsIHUpOwogICAgYm9keUEuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJpLCB0bXApOwogICAgdS52c3ViKHRtcCwgdSk7IC8vIEYgPSAtIGsgKiAoIHggLSBMICkgLSBEICogKCB1ICkKCiAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllcwoKICAgIGJvZHlBLmZvcmNlLnZzdWIoZiwgYm9keUEuZm9yY2UpOwogICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2UKCiAgICByaS5jcm9zcyhmLCByaV94X2YpOwogICAgcmouY3Jvc3MoZiwgcmpfeF9mKTsKICAgIGJvZHlBLnRvcnF1ZS52c3ViKHJpX3hfZiwgYm9keUEudG9ycXVlKTsKICAgIGJvZHlCLnRvcnF1ZS52YWRkKHJqX3hfZiwgYm9keUIudG9ycXVlKTsKICB9Cgp9Cgpjb25zdCBhcHBseUZvcmNlX3IgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JfdW5pdCA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfdSA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfZiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JpID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yaiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfcmlfeF9mID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yal94X2YgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3RtcCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFJheSA9IG5ldyBSYXkoKTsKLyoqDQogKiBTcGhlcmljYWwgc2hhcGUNCiAqIEBjbGFzcyBTcGhlcmUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgU2hhcGUNCiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgc3BoZXJlLCBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cDovL2dpdGh1Yi5jb20vc2NodGVwcGUNCiAqLwoKCmNsYXNzIFNwaGVyZSBleHRlbmRzIFNoYXBlIHsKICBjb25zdHJ1Y3RvcihyYWRpdXMpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFCiAgICB9KTsKICAgIHRoaXMucmFkaXVzID0gcmFkaXVzICE9PSB1bmRlZmluZWQgPyByYWRpdXMgOiAxLjA7CgogICAgaWYgKHRoaXMucmFkaXVzIDwgMCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzcGhlcmUgcmFkaXVzIGNhbm5vdCBiZSBuZWdhdGl2ZS4nKTsKICAgIH0KCiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgfQoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wOwogICAgdGFyZ2V0LnggPSBJOwogICAgdGFyZ2V0LnkgPSBJOwogICAgdGFyZ2V0LnogPSBJOwogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogTWF0aC5wb3codGhpcy5yYWRpdXMsIDMpIC8gMy4wOwogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5yYWRpdXM7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgY29uc3QgciA9IHRoaXMucmFkaXVzOwogICAgY29uc3QgYXhlcyA9IFsneCcsICd5JywgJ3onXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYXggPSBheGVzW2ldOwogICAgICBtaW5bYXhdID0gcG9zW2F4XSAtIHI7CiAgICAgIG1heFtheF0gPSBwb3NbYXhdICsgcjsKICAgIH0KICB9Cgp9Ci8qKgogKiBAY2xhc3MgQ3lsaW5kZXIKICogQGNvbnN0cnVjdG9yCiAqIEBleHRlbmRzIENvbnZleFBvbHloZWRyb24KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQogKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzVG9wCiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNCb3R0b20KICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodAogKiBAcGFyYW0ge051bWJlcn0gbnVtU2VnbWVudHMgVGhlIG51bWJlciBvZiBzZWdtZW50cyB0byBidWlsZCB0aGUgY3lsaW5kZXIgb3V0IG9mCiAqLwoKY2xhc3MgQ3lsaW5kZXIgZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uIHsKICBjb25zdHJ1Y3RvcihyYWRpdXNUb3AsIHJhZGl1c0JvdHRvbSwgaGVpZ2h0LCBudW1TZWdtZW50cykgewogICAgY29uc3QgTiA9IG51bVNlZ21lbnRzOwogICAgY29uc3QgdmVydGljZXMgPSBbXTsKICAgIGNvbnN0IGF4ZXMgPSBbXTsKICAgIGNvbnN0IGZhY2VzID0gW107CiAgICBjb25zdCBib3R0b21mYWNlID0gW107CiAgICBjb25zdCB0b3BmYWNlID0gW107CiAgICBjb25zdCBjb3MgPSBNYXRoLmNvczsKICAgIGNvbnN0IHNpbiA9IE1hdGguc2luOyAvLyBGaXJzdCBib3R0b20gcG9pbnQKCiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKHJhZGl1c0JvdHRvbSAqIGNvcygwKSwgLWhlaWdodCAqIDAuNSwgLXJhZGl1c0JvdHRvbSAqIHNpbigwKSkpOwogICAgYm90dG9tZmFjZS5wdXNoKDApOyAvLyBGaXJzdCB0b3AgcG9pbnQKCiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKHJhZGl1c1RvcCAqIGNvcygwKSwgaGVpZ2h0ICogMC41LCAtcmFkaXVzVG9wICogc2luKDApKSk7CiAgICB0b3BmYWNlLnB1c2goMSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHsKICAgICAgY29uc3QgdGhldGEgPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDEpOwogICAgICBjb25zdCB0aGV0YU4gPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDAuNSk7CgogICAgICBpZiAoaSA8IE4gLSAxKSB7CiAgICAgICAgLy8gQm90dG9tCiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMyhyYWRpdXNCb3R0b20gKiBjb3ModGhldGEpLCAtaGVpZ2h0ICogMC41LCAtcmFkaXVzQm90dG9tICogc2luKHRoZXRhKSkpOwogICAgICAgIGJvdHRvbWZhY2UucHVzaCgyICogaSArIDIpOyAvLyBUb3AKCiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMyhyYWRpdXNUb3AgKiBjb3ModGhldGEpLCBoZWlnaHQgKiAwLjUsIC1yYWRpdXNUb3AgKiBzaW4odGhldGEpKSk7CiAgICAgICAgdG9wZmFjZS5wdXNoKDIgKiBpICsgMyk7IC8vIEZhY2UKCiAgICAgICAgZmFjZXMucHVzaChbMiAqIGkgKyAyLCAyICogaSArIDMsIDIgKiBpICsgMSwgMiAqIGldKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmYWNlcy5wdXNoKFswLCAxLCAyICogaSArIDEsIDIgKiBpXSk7IC8vIENvbm5lY3QKICAgICAgfSAvLyBBeGlzOiB3ZSBjYW4gY3V0IG9mZiBoYWxmIG9mIHRoZW0gaWYgd2UgaGF2ZSBldmVuIG51bWJlciBvZiBzZWdtZW50cwoKCiAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHsKICAgICAgICBheGVzLnB1c2gobmV3IFZlYzMoY29zKHRoZXRhTiksIDAsIC1zaW4odGhldGFOKSkpOwogICAgICB9CiAgICB9CgogICAgZmFjZXMucHVzaCh0b3BmYWNlKTsKICAgIGF4ZXMucHVzaChuZXcgVmVjMygwLCAxLCAwKSk7IC8vIFJlb3JkZXIgYm90dG9tIGZhY2UKCiAgICBjb25zdCB0ZW1wID0gW107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3R0b21mYWNlLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRlbXAucHVzaChib3R0b21mYWNlW2JvdHRvbWZhY2UubGVuZ3RoIC0gaSAtIDFdKTsKICAgIH0KCiAgICBmYWNlcy5wdXNoKHRlbXApOwogICAgc3VwZXIoewogICAgICB2ZXJ0aWNlcywKICAgICAgZmFjZXMsCiAgICAgIGF4ZXMKICAgIH0pOwogIH0KCn0KLyoqDQogKiBQYXJ0aWNsZSBzaGFwZS4NCiAqIEBjbGFzcyBQYXJ0aWNsZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICovCgoKY2xhc3MgUGFydGljbGUgZXh0ZW5kcyBTaGFwZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFCiAgICB9KTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhDQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcw0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnNldCgwLCAwLCAwKTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gMDsKICB9CgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IDA7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgLy8gR2V0IGVhY2ggYXhpcyBtYXgKICAgIG1pbi5jb3B5KHBvcyk7CiAgICBtYXguY29weShwb3MpOwogIH0KCn0KLyoqDQogKiBBIHBsYW5lLCBmYWNpbmcgaW4gdGhlIFogZGlyZWN0aW9uLiBUaGUgcGxhbmUgaGFzIGl0cyBzdXJmYWNlIGF0IHo9MCBhbmQgZXZlcnl0aGluZyBiZWxvdyB6PTAgaXMgYXNzdW1lZCB0byBiZSBzb2xpZCBwbGFuZS4gVG8gbWFrZSB0aGUgcGxhbmUgZmFjZSBpbiBzb21lIG90aGVyIGRpcmVjdGlvbiB0aGFuIHosIHlvdSBtdXN0IHB1dCBpdCBpbnNpZGUgYSBCb2R5IGFuZCByb3RhdGUgdGhhdCBib2R5LiBTZWUgdGhlIGRlbW9zLg0KICogQGNsYXNzIFBsYW5lDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIFNoYXBlDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKi8KCgpjbGFzcyBQbGFuZSBleHRlbmRzIFNoYXBlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuUExBTkUKICAgIH0pOyAvLyBXb3JsZCBvcmllbnRlZCBub3JtYWwKCiAgICB0aGlzLndvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICB9CgogIGNvbXB1dGVXb3JsZE5vcm1hbChxdWF0KSB7CiAgICBjb25zdCBuID0gdGhpcy53b3JsZE5vcm1hbDsKICAgIG4uc2V0KDAsIDAsIDEpOwogICAgcXVhdC52bXVsdChuLCBuKTsKICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IGZhbHNlOwogIH0KCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLgogICAgICBOdW1iZXIuTUFYX1ZBTFVFCiAgICApOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIC8vIFRoZSBwbGFuZSBBQUJCIGlzIGluZmluaXRlLCBleGNlcHQgaWYgdGhlIG5vcm1hbCBpcyBwb2ludGluZyBhbG9uZyBhbnkgYXhpcwogICAgdGVtcE5vcm1hbC5zZXQoMCwgMCwgMSk7IC8vIERlZmF1bHQgcGxhbmUgbm9ybWFsIGlzIHoKCiAgICBxdWF0LnZtdWx0KHRlbXBOb3JtYWwsIHRlbXBOb3JtYWwpOwogICAgY29uc3QgbWF4VmFsID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIG1pbi5zZXQoLW1heFZhbCwgLW1heFZhbCwgLW1heFZhbCk7CiAgICBtYXguc2V0KG1heFZhbCwgbWF4VmFsLCBtYXhWYWwpOwoKICAgIGlmICh0ZW1wTm9ybWFsLnggPT09IDEpIHsKICAgICAgbWF4LnggPSBwb3MueDsKICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC54ID09PSAtMSkgewogICAgICBtaW4ueCA9IHBvcy54OwogICAgfQoKICAgIGlmICh0ZW1wTm9ybWFsLnkgPT09IDEpIHsKICAgICAgbWF4LnkgPSBwb3MueTsKICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC55ID09PSAtMSkgewogICAgICBtaW4ueSA9IHBvcy55OwogICAgfQoKICAgIGlmICh0ZW1wTm9ybWFsLnogPT09IDEpIHsKICAgICAgbWF4LnogPSBwb3MuejsKICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC56ID09PSAtMSkgewogICAgICBtaW4ueiA9IHBvcy56OwogICAgfQogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICB9Cgp9Cgpjb25zdCB0ZW1wTm9ybWFsID0gbmV3IFZlYzMoKTsKLyoqCiAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBnaXZlbiBkaXN0YW5jZS4KICogQGNsYXNzIEhlaWdodGZpZWxkCiAqIEBleHRlbmRzIFNoYXBlCiAqIEBjb25zdHJ1Y3RvcgogKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi4KICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMKICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi4KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLgogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZWxlbWVudFNpemU9MC4xXSBXb3JsZCBzcGFjaW5nIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggZGlyZWN0aW9uLgogKiBAdG9kbyBTaG91bGQgYmUgcG9zc2libGUgdG8gdXNlIGFsb25nIGFsbCBheGVzLCBub3QganVzdCB5CiAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlcwogKiBAdG9kbyBSZWZhY3RvciBlbGVtZW50U2l6ZSB0byBlbGVtZW50U2l6ZVggYW5kIGVsZW1lbnRTaXplWQogKgogKiBAZXhhbXBsZQogKiAgICAgLy8gR2VuZXJhdGUgc29tZSBoZWlnaHQgZGF0YSAoeS12YWx1ZXMpLgogKiAgICAgY29uc3QgZGF0YSA9IFtdOwogKiAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKyl7CiAqICAgICAgICAgY29uc3QgeSA9IDAuNSAqIE1hdGguY29zKDAuMiAqIGkpOwogKiAgICAgICAgIGRhdGEucHVzaCh5KTsKICogICAgIH0KICoKICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGUKICogICAgIGNvbnN0IGhlaWdodGZpZWxkU2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoZGF0YSwgewogKiAgICAgICAgIGVsZW1lbnRTaXplOiAxIC8vIERpc3RhbmNlIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggYW5kIFkgZGlyZWN0aW9ucwogKiAgICAgfSk7CiAqICAgICBjb25zdCBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpOwogKiAgICAgaGVpZ2h0ZmllbGRCb2R5LmFkZFNoYXBlKGhlaWdodGZpZWxkU2hhcGUpOwogKiAgICAgd29ybGQuYWRkQm9keShoZWlnaHRmaWVsZEJvZHkpOwogKi8KCmNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUgewogIC8vIEFuIGFycmF5IG9mIG51bWJlcnMsIG9yIGhlaWdodCB2YWx1ZXMsIHRoYXQgYXJlIHNwcmVhZCBvdXQgYWxvbmcgdGhlIHggYXhpcy4KICAvLyBNYXggdmFsdWUgb2YgdGhlIGRhdGEuCiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLgogIC8vIFRoZSB3aWR0aCBvZiBlYWNoIGVsZW1lbnQuIFRvIGRvOiBlbGVtZW50U2l6ZVggYW5kIFkKICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zID0ge30pIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIG1heFZhbHVlOiBudWxsLAogICAgICBtaW5WYWx1ZTogbnVsbCwKICAgICAgZWxlbWVudFNpemU6IDEKICAgIH0pOwogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRAogICAgfSk7CiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7CiAgICB0aGlzLm1pblZhbHVlID0gb3B0aW9ucy5taW5WYWx1ZTsKICAgIHRoaXMuZWxlbWVudFNpemUgPSBvcHRpb25zLmVsZW1lbnRTaXplOwoKICAgIGlmIChvcHRpb25zLm1pblZhbHVlID09PSBudWxsKSB7CiAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy5tYXhWYWx1ZSA9PT0gbnVsbCkgewogICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICB9CgogICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlOwogICAgdGhpcy5waWxsYXJDb252ZXggPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgdGhpcy5waWxsYXJPZmZzZXQgPSBuZXcgVmVjMygpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyAiaV9qX2lzVXBwZXIiID0+IHsgY29udmV4OiAuLi4sIG9mZnNldDogLi4uIH0KICAgIC8vIGZvciBleGFtcGxlOgogICAgLy8gX2NhY2hlZFBpbGxhcnNbIjBfMl8xIl0KCiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307CiAgfQogIC8qKgogICAqIENhbGwgd2hlbmV2ZXIgeW91IGNoYW5nZSB0aGUgZGF0YSBhcnJheS4KICAgKiBAbWV0aG9kIHVwZGF0ZQogICAqLwoKCiAgdXBkYXRlKCkgewogICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogIH0KICAvKioKICAgKiBVcGRhdGUgdGhlIC5taW5WYWx1ZSBwcm9wZXJ0eQogICAqIEBtZXRob2QgdXBkYXRlTWluVmFsdWUKICAgKi8KCgogIHVwZGF0ZU1pblZhbHVlKCkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkgewogICAgICAgICAgbWluVmFsdWUgPSB2OwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTsKICB9CiAgLyoqCiAgICogVXBkYXRlIHRoZSAubWF4VmFsdWUgcHJvcGVydHkKICAgKiBAbWV0aG9kIHVwZGF0ZU1heFZhbHVlCiAgICovCgoKICB1cGRhdGVNYXhWYWx1ZSgpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBsZXQgbWF4VmFsdWUgPSBkYXRhWzBdWzBdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07CgogICAgICAgIGlmICh2ID4gbWF4VmFsdWUpIHsKICAgICAgICAgIG1heFZhbHVlID0gdjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7CiAgfQogIC8qKgogICAqIFNldCB0aGUgaGVpZ2h0IHZhbHVlIGF0IGFuIGluZGV4LiBEb24ndCBmb3JnZXQgdG8gdXBkYXRlIG1heFZhbHVlIGFuZCBtaW5WYWx1ZSBhZnRlciB5b3UncmUgZG9uZS4KICAgKiBAbWV0aG9kIHNldEhlaWdodFZhbHVlQXRJbmRleAogICAqIEBwYXJhbSB7aW50ZWdlcn0geGkKICAgKiBAcGFyYW0ge2ludGVnZXJ9IHlpCiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAgICovCgoKICBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgoeGksIHlpLCB2YWx1ZSkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGRhdGFbeGldW3lpXSA9IHZhbHVlOyAvLyBJbnZhbGlkYXRlIGNhY2hlCgogICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZmFsc2UpOwoKICAgIGlmICh4aSA+IDApIHsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWksIHRydWUpOwogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSwgZmFsc2UpOwogICAgfQoKICAgIGlmICh5aSA+IDApIHsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIHRydWUpOwogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpIC0gMSwgZmFsc2UpOwogICAgfQoKICAgIGlmICh5aSA+IDAgJiYgeGkgPiAwKSB7CiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpIC0gMSwgdHJ1ZSk7CiAgICB9CiAgfQogIC8qKgogICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YQogICAqIEBtZXRob2QgZ2V0UmVjdE1pbk1heAogICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNaW5YCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblkKICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWF4WAogICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhZCiAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLgogICAqIEByZXR1cm4ge2FycmF5fSBUaGUgcmVzdWx0IGFycmF5LCBpZiBpdCB3YXMgcGFzc2VkIGluLiBNaW5pbXVtIHdpbGwgYmUgYXQgcG9zaXRpb24gMCBhbmQgbWF4IGF0IDEuCiAgICovCgoKICBnZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCByZXN1bHQgPSBbXSkgewogICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhCiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOyAvLyBTZXQgZmlyc3QgdmFsdWUKCiAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTsKCiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPD0gaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPD0gaU1heFk7IGorKykgewogICAgICAgIGNvbnN0IGhlaWdodCA9IGRhdGFbaV1bal07CgogICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHsKICAgICAgICAgIG1heCA9IGhlaWdodDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlOwogICAgcmVzdWx0WzFdID0gbWF4OwogIH0KICAvKioKICAgKiBHZXQgdGhlIGluZGV4IG9mIGEgbG9jYWwgcG9zaXRpb24gb24gdGhlIGhlaWdodGZpZWxkLiBUaGUgaW5kZXhlcyBpbmRpY2F0ZSB0aGUgcmVjdGFuZ2xlcywgc28gaWYgeW91ciB0ZXJyYWluIGlzIG1hZGUgb2YgTiB4IE4gaGVpZ2h0IGRhdGEgcG9pbnRzLCB5b3Ugd2lsbCBoYXZlIHJlY3RhbmdsZSBpbmRleGVzIHJhbmdpbmcgZnJvbSAwIHRvIE4tMS4KICAgKiBAbWV0aG9kIGdldEluZGV4T2ZQb3NpdGlvbgogICAqIEBwYXJhbSAge251bWJlcn0geAogICAqIEBwYXJhbSAge251bWJlcn0geQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgVHdvLWVsZW1lbnQgYXJyYXkKICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuCiAgICogQHJldHVybiB7Ym9vbGVhbn0KICAgKi8KCgogIGdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCByZXN1bHQsIGNsYW1wKSB7CiAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKICAgIGNvbnN0IHcgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGxldCB4aSA9IE1hdGguZmxvb3IoeCAvIHcpOwogICAgbGV0IHlpID0gTWF0aC5mbG9vcih5IC8gdyk7CiAgICByZXN1bHRbMF0gPSB4aTsKICAgIHJlc3VsdFsxXSA9IHlpOwoKICAgIGlmIChjbGFtcCkgewogICAgICAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwogICAgICBpZiAoeGkgPCAwKSB7CiAgICAgICAgeGkgPSAwOwogICAgICB9CgogICAgICBpZiAoeWkgPCAwKSB7CiAgICAgICAgeWkgPSAwOwogICAgICB9CgogICAgICBpZiAoeGkgPj0gZGF0YS5sZW5ndGggLSAxKSB7CiAgICAgICAgeGkgPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmICh5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHsKICAgICAgICB5aSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQogICAgfSAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluCgoKICAgIGlmICh4aSA8IDAgfHwgeWkgPCAwIHx8IHhpID49IGRhdGEubGVuZ3RoIC0gMSB8fCB5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpIHsKICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDsKICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgIGxldCB4aSA9IGlkeFswXTsKICAgIGxldCB5aSA9IGlkeFsxXTsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CgogICAgaWYgKGVkZ2VDbGFtcCkgewogICAgICB4aSA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeGkpKTsKICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICB9CgogICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgY29uc3QgbG93ZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSB4aSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSB5aSkgKiogMjsKICAgIGNvbnN0IHVwcGVyRGlzdDIgPSAoeCAvIGVsZW1lbnRTaXplIC0gKHhpICsgMSkpICoqIDIgKyAoeSAvIGVsZW1lbnRTaXplIC0gKHlpICsgMSkpICoqIDI7CiAgICBjb25zdCB1cHBlciA9IGxvd2VyRGlzdDIgPiB1cHBlckRpc3QyOwogICAgdGhpcy5nZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKTsKICAgIHJldHVybiB1cHBlcjsKICB9CgogIGdldE5vcm1hbEF0KHgsIHksIGVkZ2VDbGFtcCwgcmVzdWx0KSB7CiAgICBjb25zdCBhID0gZ2V0Tm9ybWFsQXRfYTsKICAgIGNvbnN0IGIgPSBnZXROb3JtYWxBdF9iOwogICAgY29uc3QgYyA9IGdldE5vcm1hbEF0X2M7CiAgICBjb25zdCBlMCA9IGdldE5vcm1hbEF0X2UwOwogICAgY29uc3QgZTEgPSBnZXROb3JtYWxBdF9lMTsKICAgIHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpOwogICAgYi52c3ViKGEsIGUwKTsKICAgIGMudnN1YihhLCBlMSk7CiAgICBlMC5jcm9zcyhlMSwgcmVzdWx0KTsKICAgIHJlc3VsdC5ub3JtYWxpemUoKTsKICB9CiAgLyoqCiAgICogR2V0IGFuIEFBQkIgb2YgYSBzcXVhcmUgaW4gdGhlIGhlaWdodGZpZWxkCiAgICogQHBhcmFtICB7bnVtYmVyfSB4aQogICAqIEBwYXJhbSAge251bWJlcn0geWkKICAgKiBAcGFyYW0gIHtBQUJCfSByZXN1bHQKICAgKi8KCgogIGdldEFhYmJBdEluZGV4KHhpLCB5aSwgewogICAgbG93ZXJCb3VuZCwKICAgIHVwcGVyQm91bmQKICB9KSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgIHVwcGVyQm91bmQuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTsKICB9CiAgLyoqCiAgICogR2V0IHRoZSBoZWlnaHQgaW4gdGhlIGhlaWdodGZpZWxkIGF0IGEgZ2l2ZW4gcG9zaXRpb24KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHgKICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkKICAgKiBAcGFyYW0gIHtib29sZWFufSBlZGdlQ2xhbXAKICAgKiBAcmV0dXJuIHtudW1iZXJ9CiAgICovCgoKICBnZXRIZWlnaHRBdCh4LCB5LCBlZGdlQ2xhbXApIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBhID0gZ2V0SGVpZ2h0QXRfYTsKICAgIGNvbnN0IGIgPSBnZXRIZWlnaHRBdF9iOwogICAgY29uc3QgYyA9IGdldEhlaWdodEF0X2M7CiAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7CiAgICBsZXQgeGkgPSBpZHhbMF07CiAgICBsZXQgeWkgPSBpZHhbMV07CgogICAgaWYgKGVkZ2VDbGFtcCkgewogICAgICB4aSA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeGkpKTsKICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICB9CgogICAgY29uc3QgdXBwZXIgPSB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTsKICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTsKICAgIGNvbnN0IHcgPSBnZXRIZWlnaHRBdF93ZWlnaHRzOwoKICAgIGlmICh1cHBlcikgewogICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgcmV0dXJuIGRhdGFbeGkgKyAxXVt5aSArIDFdICogdy54ICsgZGF0YVt4aV1beWkgKyAxXSAqIHcueSArIGRhdGFbeGkgKyAxXVt5aV0gKiB3Lno7CiAgICB9IGVsc2UgewogICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgcmV0dXJuIGRhdGFbeGldW3lpXSAqIHcueCArIGRhdGFbeGkgKyAxXVt5aV0gKiB3LnkgKyBkYXRhW3hpXVt5aSArIDFdICogdy56OwogICAgfQogIH0KCiAgZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIHJldHVybiB4aSArICJfIiArIHlpICsgIl8iICsgKGdldFVwcGVyVHJpYW5nbGUgPyAxIDogMCk7CiAgfQoKICBnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIHJldHVybiB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTsKICB9CgogIHNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgY29udmV4LCBvZmZzZXQpIHsKICAgIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldID0gewogICAgICBjb252ZXgsCiAgICAgIG9mZnNldAogICAgfTsKICB9CgogIGNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICBkZWxldGUgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07CiAgfQogIC8qKgogICAqIEdldCBhIHRyaWFuZ2xlIGZyb20gdGhlIGhlaWdodGZpZWxkCiAgICogQHBhcmFtICB7bnVtYmVyfSB4aQogICAqIEBwYXJhbSAge251bWJlcn0geWkKICAgKiBAcGFyYW0gIHtib29sZWFufSB1cHBlcgogICAqIEBwYXJhbSAge1ZlYzN9IGEKICAgKiBAcGFyYW0gIHtWZWMzfSBiCiAgICogQHBhcmFtICB7VmVjM30gYwogICAqLwoKCiAgZ2V0VHJpYW5nbGUoeGksIHlpLCB1cHBlciwgYSwgYiwgYykgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKCiAgICBpZiAodXBwZXIpIHsKICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgIGEuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTsKICAgICAgYi5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSk7CiAgICAgIGMuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pOwogICAgfSBlbHNlIHsKICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgIGEuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7CiAgICAgIGIuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pOwogICAgICBjLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTsKICAgIH0KICB9CiAgLyoqCiAgICogR2V0IGEgdHJpYW5nbGUgaW4gdGhlIHRlcnJhaW4gaW4gdGhlIGZvcm0gb2YgYSB0cmlhbmd1bGFyIGNvbnZleCBzaGFwZS4KICAgKiBAbWV0aG9kIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyCiAgICogQHBhcmFtICB7aW50ZWdlcn0gaQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGoKICAgKiBAcGFyYW0gIHtib29sZWFufSBnZXRVcHBlclRyaWFuZ2xlCiAgICovCgoKICBnZXRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDsKICAgIGxldCBvZmZzZXRSZXN1bHQgPSB0aGlzLnBpbGxhck9mZnNldDsKCiAgICBpZiAodGhpcy5jYWNoZUVuYWJsZWQpIHsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKTsKCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgdGhpcy5waWxsYXJDb252ZXggPSBkYXRhLmNvbnZleDsKICAgICAgICB0aGlzLnBpbGxhck9mZnNldCA9IGRhdGEub2Zmc2V0OwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTsKICAgICAgb2Zmc2V0UmVzdWx0ID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5waWxsYXJDb252ZXggPSByZXN1bHQ7CiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0OwogICAgfQoKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CiAgICBjb25zdCBmYWNlcyA9IHJlc3VsdC5mYWNlczsgLy8gUmV1c2UgdmVydHMgaWYgcG9zc2libGUKCiAgICByZXN1bHQudmVydGljZXMubGVuZ3RoID0gNjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICBpZiAoIXJlc3VsdC52ZXJ0aWNlc1tpXSkgewogICAgICAgIHJlc3VsdC52ZXJ0aWNlc1tpXSA9IG5ldyBWZWMzKCk7CiAgICAgIH0KICAgIH0gLy8gUmV1c2UgZmFjZXMgaWYgcG9zc2libGUKCgogICAgZmFjZXMubGVuZ3RoID0gNTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICBpZiAoIWZhY2VzW2ldKSB7CiAgICAgICAgZmFjZXNbaV0gPSBbXTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0LnZlcnRpY2VzOwogICAgY29uc3QgaCA9IChNYXRoLm1pbihkYXRhW3hpXVt5aV0sIGRhdGFbeGkgKyAxXVt5aV0sIGRhdGFbeGldW3lpICsgMV0sIGRhdGFbeGkgKyAxXVt5aSArIDFdKSAtIHRoaXMubWluVmFsdWUpIC8gMiArIHRoaXMubWluVmFsdWU7CgogICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICAgIC8vIENlbnRlciBvZiB0aGUgdHJpYW5nbGUgcGlsbGFyIC0gYWxsIHBvbHlnb25zIGFyZSBnaXZlbiByZWxhdGl2ZSB0byB0aGlzIG9uZQogICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuMjUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGUKICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXIKICAgICAgKTsgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCgogICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7CiAgICAgIHZlcnRzWzFdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsKICAgICAgdmVydHNbMl0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIDAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHMKCiAgICAgIHZlcnRzWzNdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOwogICAgICB2ZXJ0c1s0XS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOwogICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyB0b3AgdHJpYW5nbGUKCiAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgZmFjZXNbMF1bMV0gPSAxOwogICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZQoKICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICBmYWNlc1sxXVsxXSA9IDQ7CiAgICAgIGZhY2VzWzFdWzJdID0gMzsgLy8gLXggZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzJdWzBdID0gMDsKICAgICAgZmFjZXNbMl1bMV0gPSAyOwogICAgICBmYWNlc1syXVsyXSA9IDU7CiAgICAgIGZhY2VzWzJdWzNdID0gMzsgLy8gLXkgZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzNdWzBdID0gMTsKICAgICAgZmFjZXNbM11bMV0gPSAwOwogICAgICBmYWNlc1szXVsyXSA9IDM7CiAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1s0XVswXSA9IDQ7CiAgICAgIGZhY2VzWzRdWzFdID0gNTsKICAgICAgZmFjZXNbNF1bMl0gPSAyOwogICAgICBmYWNlc1s0XVszXSA9IDE7CiAgICB9IGVsc2UgewogICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmUKICAgICAgb2Zmc2V0UmVzdWx0LnNldCgoeGkgKyAwLjc1KSAqIGVsZW1lbnRTaXplLCAvLyBzb3J0IG9mIGNlbnRlciBvZiBhIHRyaWFuZ2xlCiAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyCiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgdmVydHNbMF0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSAtIGgpOwogICAgICB2ZXJ0c1sxXS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7CiAgICAgIHZlcnRzWzJdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzCgogICAgICB2ZXJ0c1szXS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7CiAgICAgIHZlcnRzWzRdLnNldCgtMC43NSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7CiAgICAgIHZlcnRzWzVdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7IC8vIFRvcCB0cmlhbmdsZQoKICAgICAgZmFjZXNbMF1bMF0gPSAwOwogICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgIGZhY2VzWzBdWzJdID0gMjsgLy8gYm90dG9tIHRyaWFuZ2xlCgogICAgICBmYWNlc1sxXVswXSA9IDU7CiAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAreCBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbMl1bMF0gPSAyOwogICAgICBmYWNlc1syXVsxXSA9IDU7CiAgICAgIGZhY2VzWzJdWzJdID0gMzsKICAgICAgZmFjZXNbMl1bM10gPSAwOyAvLyAreSBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbM11bMF0gPSAzOwogICAgICBmYWNlc1szXVsxXSA9IDQ7CiAgICAgIGZhY2VzWzNdWzJdID0gMTsKICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzRdWzBdID0gMTsKICAgICAgZmFjZXNbNF1bMV0gPSA0OwogICAgICBmYWNlc1s0XVsyXSA9IDU7CiAgICAgIGZhY2VzWzRdWzNdID0gMjsKICAgIH0KCiAgICByZXN1bHQuY29tcHV0ZU5vcm1hbHMoKTsKICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTsKICAgIHJlc3VsdC51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgdGhpcy5zZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIHJlc3VsdCwgb2Zmc2V0UmVzdWx0KTsKICB9CgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiAoLy8gVGhlIHRlcnJhaW4gaXMgaW5maW5pdGUKICAgICAgTnVtYmVyLk1BWF9WQUxVRQogICAgKTsKICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAvLyBUT0RPOiBkbyBpdCBwcm9wZXJseQogICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTsKICAgIG1heC5zZXQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIC8vIFVzZSB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBtaW4vbWF4IHZhbHVlcwogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IHMgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IG5ldyBWZWMzKGRhdGEubGVuZ3RoICogcywgZGF0YVswXS5sZW5ndGggKiBzLCBNYXRoLm1heChNYXRoLmFicyh0aGlzLm1heFZhbHVlKSwgTWF0aC5hYnModGhpcy5taW5WYWx1ZSkpKS5sZW5ndGgoKTsKICB9CiAgLyoqCiAgICogU2V0cyB0aGUgaGVpZ2h0IHZhbHVlcyBmcm9tIGFuIGltYWdlLiBDdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgaW4gYnJvd3Nlci4KICAgKiBAbWV0aG9kIHNldEhlaWdodHNGcm9tSW1hZ2UKICAgKiBAcGFyYW0ge0ltYWdlfSBpbWFnZQogICAqIEBwYXJhbSB7VmVjM30gc2NhbGUKICAgKi8KCgogIHNldEhlaWdodHNGcm9tSW1hZ2UoaW1hZ2UsIHNjYWxlKSB7CiAgICBjb25zdCB7CiAgICAgIHgsCiAgICAgIHosCiAgICAgIHkKICAgIH0gPSBzY2FsZTsKICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7CiAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0OwogICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApOwogICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7CiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGE7CiAgICBtYXRyaXgubGVuZ3RoID0gMDsKICAgIHRoaXMuZWxlbWVudFNpemUgPSBNYXRoLmFicyh4KSAvIGltYWdlRGF0YS53aWR0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5oZWlnaHQ7IGkrKykgewogICAgICBjb25zdCByb3cgPSBbXTsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW1hZ2VEYXRhLndpZHRoOyBqKyspIHsKICAgICAgICBjb25zdCBhID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0XTsKICAgICAgICBjb25zdCBiID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMV07CiAgICAgICAgY29uc3QgYyA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDJdOwogICAgICAgIGNvbnN0IGhlaWdodCA9IChhICsgYiArIGMpIC8gNCAvIDI1NSAqIHo7CgogICAgICAgIGlmICh4IDwgMCkgewogICAgICAgICAgcm93LnB1c2goaGVpZ2h0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93LnVuc2hpZnQoaGVpZ2h0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh5IDwgMCkgewogICAgICAgIG1hdHJpeC51bnNoaWZ0KHJvdyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWF0cml4LnB1c2gocm93KTsKICAgICAgfQogICAgfQoKICAgIHRoaXMudXBkYXRlTWF4VmFsdWUoKTsKICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgIHRoaXMudXBkYXRlKCk7CiAgfQoKfQoKY29uc3QgZ2V0SGVpZ2h0QXRfaWR4ID0gW107CmNvbnN0IGdldEhlaWdodEF0X3dlaWdodHMgPSBuZXcgVmVjMygpOwpjb25zdCBnZXRIZWlnaHRBdF9hID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0SGVpZ2h0QXRfYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldEhlaWdodEF0X2MgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9hID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0Tm9ybWFsQXRfYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2MgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9lMCA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2UxID0gbmV3IFZlYzMoKTsgLy8gZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXJ5Y2VudHJpY19jb29yZGluYXRlX3N5c3RlbQoKZnVuY3Rpb24gYmFyeWNlbnRyaWNXZWlnaHRzKHgsIHksIGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHJlc3VsdCkgewogIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7CiAgcmVzdWx0LnkgPSAoKGN5IC0gYXkpICogKHggLSBjeCkgKyAoYXggLSBjeCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTsKICByZXN1bHQueiA9IDEgLSByZXN1bHQueCAtIHJlc3VsdC55Owp9Ci8qKg0KICogQGNsYXNzIE9jdHJlZU5vZGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtPY3RyZWV9IFtvcHRpb25zLnJvb3RdDQogKiBAcGFyYW0ge0FBQkJ9IFtvcHRpb25zLmFhYmJdDQogKi8KCgpjbGFzcyBPY3RyZWVOb2RlIHsKICAvLyBUaGUgcm9vdCBub2RlCiAgLy8gQm91bmRhcnkgb2YgdGhpcyBub2RlCiAgLy8gQ29udGFpbmVkIGRhdGEgYXQgdGhlIGN1cnJlbnQgbm9kZSBsZXZlbAogIC8vIENoaWxkcmVuIHRvIHRoaXMgbm9kZQogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5yb290ID0gb3B0aW9ucy5yb290IHx8IG51bGw7CiAgICB0aGlzLmFhYmIgPSBvcHRpb25zLmFhYmIgPyBvcHRpb25zLmFhYmIuY2xvbmUoKSA6IG5ldyBBQUJCKCk7CiAgICB0aGlzLmRhdGEgPSBbXTsKICAgIHRoaXMuY2hpbGRyZW4gPSBbXTsKICB9CgogIHJlc2V0KCkgewogICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoID0gMDsKICB9CiAgLyoqDQogICAqIEluc2VydCBkYXRhIGludG8gdGhpcyBub2RlDQogICAqIEBtZXRob2QgaW5zZXJ0DQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50RGF0YQ0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZQ0KICAgKi8KCgogIGluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgPSAwKSB7CiAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gSWdub3JlIG9iamVjdHMgdGhhdCBkbyBub3QgYmVsb25nIGluIHRoaXMgbm9kZQoKICAgIGlmICghdGhpcy5hYWJiLmNvbnRhaW5zKGFhYmIpKSB7CiAgICAgIHJldHVybiBmYWxzZTsgLy8gb2JqZWN0IGNhbm5vdCBiZSBhZGRlZAogICAgfQoKICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgIGNvbnN0IG1heERlcHRoID0gdGhpcy5tYXhEZXB0aCB8fCB0aGlzLnJvb3QubWF4RGVwdGg7CgogICAgaWYgKGxldmVsIDwgbWF4RGVwdGgpIHsKICAgICAgLy8gU3ViZGl2aWRlIGlmIHRoZXJlIGFyZSBubyBjaGlsZHJlbiB5ZXQKICAgICAgbGV0IHN1YmRpdmlkZWQgPSBmYWxzZTsKCiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5zdWJkaXZpZGUoKTsKICAgICAgICBzdWJkaXZpZGVkID0gdHJ1ZTsKICAgICAgfSAvLyBhZGQgdG8gd2hpY2hldmVyIG5vZGUgd2lsbCBhY2NlcHQgaXQKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLmluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgKyAxKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoc3ViZGl2aWRlZCkgewogICAgICAgIC8vIE5vIGNoaWxkcmVuIGFjY2VwdGVkISBNaWdodCBhcyB3ZWxsIGp1c3QgcmVtb3ZlIGVtIHNpbmNlIHRoZXkgY29udGFpbiBub25lCiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMDsKICAgICAgfQogICAgfSAvLyBUb28gZGVlcCwgb3IgY2hpbGRyZW4gZGlkbnQgd2FudCBpdC4gYWRkIGl0IGluIGN1cnJlbnQgbm9kZQoKCiAgICBub2RlRGF0YS5wdXNoKGVsZW1lbnREYXRhKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ3JlYXRlIDggZXF1YWxseSBzaXplZCBjaGlsZHJlbiBub2RlcyBhbmQgcHV0IHRoZW0gaW4gdGhlIC5jaGlsZHJlbiBhcnJheS4NCiAgICogQG1ldGhvZCBzdWJkaXZpZGUNCiAgICovCgoKICBzdWJkaXZpZGUoKSB7CiAgICBjb25zdCBhYWJiID0gdGhpcy5hYWJiOwogICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47CiAgICBjaGlsZHJlbi5wdXNoKG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDApCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMCkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAwKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDEpCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMSkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAxKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDEpCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMCkKICAgICAgfSkKICAgIH0pKTsKICAgIHUudnN1YihsLCBoYWxmRGlhZ29uYWwpOwogICAgaGFsZkRpYWdvbmFsLnNjYWxlKDAuNSwgaGFsZkRpYWdvbmFsKTsKICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3QgfHwgdGhpczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07IC8vIFNldCBjdXJyZW50IG5vZGUgYXMgcm9vdAoKICAgICAgY2hpbGQucm9vdCA9IHJvb3Q7IC8vIENvbXB1dGUgYm91bmRzCgogICAgICBjb25zdCBsb3dlckJvdW5kID0gY2hpbGQuYWFiYi5sb3dlckJvdW5kOwogICAgICBsb3dlckJvdW5kLnggKj0gaGFsZkRpYWdvbmFsLng7CiAgICAgIGxvd2VyQm91bmQueSAqPSBoYWxmRGlhZ29uYWwueTsKICAgICAgbG93ZXJCb3VuZC56ICo9IGhhbGZEaWFnb25hbC56OwogICAgICBsb3dlckJvdW5kLnZhZGQobCwgbG93ZXJCb3VuZCk7IC8vIFVwcGVyIGJvdW5kIGlzIGFsd2F5cyBsb3dlciBib3VuZCArIGhhbGZEaWFnb25hbAoKICAgICAgbG93ZXJCb3VuZC52YWRkKGhhbGZEaWFnb25hbCwgY2hpbGQuYWFiYi51cHBlckJvdW5kKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkINCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0DQogICAqIEByZXR1cm4ge2FycmF5fSBUaGUgInJlc3VsdCIgb2JqZWN0DQogICAqLwoKCiAgYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCkgewogICAgY29uc3Qgbm9kZURhdGEgPSB0aGlzLmRhdGE7IC8vIGFib3J0IGlmIHRoZSByYW5nZSBkb2VzIG5vdCBpbnRlcnNlY3QgdGhpcyBub2RlCiAgICAvLyBpZiAoIXRoaXMuYWFiYi5vdmVybGFwcyhhYWJiKSl7CiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDsKICAgIC8vIH0KICAgIC8vIEFkZCBvYmplY3RzIGF0IHRoaXMgbGV2ZWwKICAgIC8vIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZURhdGEpOwogICAgLy8gQWRkIGNoaWxkIGRhdGEKICAgIC8vIEB0b2RvIHVud3JhcCByZWN1cnNpb24gaW50byBhIHF1ZXVlIC8gbG9vcCwgdGhhdCdzIGZhc3RlciBpbiBKUwoKICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsgLy8gZm9yIChsZXQgaSA9IDAsIE4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7CiAgICAvLyAgICAgY2hpbGRyZW5baV0uYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCk7CiAgICAvLyB9CgogICAgY29uc3QgcXVldWUgPSBbdGhpc107CgogICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkgewogICAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7CgogICAgICBpZiAobm9kZS5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlLmRhdGEpOwogICAgICB9CgogICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShxdWV1ZSwgbm9kZS5jaGlsZHJlbik7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuDQogICAqIEBtZXRob2QgcmF5UXVlcnkNCiAgICogQHBhcmFtICB7UmF5fSByYXkNCiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtDQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQNCiAgICogQHJldHVybiB7YXJyYXl9IFRoZSAicmVzdWx0IiBvYmplY3QNCiAgICovCgoKICByYXlRdWVyeShyYXksIHRyZWVUcmFuc2Zvcm0sIHJlc3VsdCkgewogICAgLy8gVXNlIGFhYmIgcXVlcnkgZm9yIG5vdy4KICAgIC8vIEB0b2RvIGltcGxlbWVudCByZWFsIHJheSBxdWVyeSB3aGljaCBuZWVkcyBsZXNzIGxvb2t1cHMKICAgIHJheS5nZXRBQUJCKHRtcEFBQkIkMSk7CiAgICB0bXBBQUJCJDEudG9Mb2NhbEZyYW1lKHRyZWVUcmFuc2Zvcm0sIHRtcEFBQkIkMSk7CiAgICB0aGlzLmFhYmJRdWVyeSh0bXBBQUJCJDEsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQG1ldGhvZCByZW1vdmVFbXB0eU5vZGVzDQogICAqLwoKCiAgcmVtb3ZlRW1wdHlOb2RlcygpIHsKICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVtb3ZlRW1wdHlOb2RlcygpOwoKICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aCAmJiAhdGhpcy5jaGlsZHJlbltpXS5kYXRhLmxlbmd0aCkgewogICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpOwogICAgICB9CiAgICB9CiAgfQoKfQovKioNCiAqIEBjbGFzcyBPY3RyZWUNCiAqIEBwYXJhbSB7QUFCQn0gYWFiYiBUaGUgdG90YWwgQUFCQiBvZiB0aGUgdHJlZQ0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heERlcHRoPThdIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGgNCiAqIEBleHRlbmRzIE9jdHJlZU5vZGUNCiAqLwoKCmNsYXNzIE9jdHJlZSBleHRlbmRzIE9jdHJlZU5vZGUgewogIC8vIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGgKICBjb25zdHJ1Y3RvcihhYWJiLCBvcHRpb25zID0ge30pIHsKICAgIHN1cGVyKHsKICAgICAgcm9vdDogbnVsbCwKICAgICAgYWFiYgogICAgfSk7CiAgICB0aGlzLm1heERlcHRoID0gdHlwZW9mIG9wdGlvbnMubWF4RGVwdGggIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhEZXB0aCA6IDg7CiAgfQoKfQoKY29uc3QgaGFsZkRpYWdvbmFsID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wQUFCQiQxID0gbmV3IEFBQkIoKTsKLyoqCiAqIEBjbGFzcyBUcmltZXNoCiAqIEBjb25zdHJ1Y3RvcgogKiBAcGFyYW0ge2FycmF5fSB2ZXJ0aWNlcwogKiBAcGFyYW0ge2FycmF5fSBpbmRpY2VzCiAqIEBleHRlbmRzIFNoYXBlCiAqIEBleGFtcGxlCiAqICAgICAvLyBIb3cgdG8gbWFrZSBhIG1lc2ggd2l0aCBhIHNpbmdsZSB0cmlhbmdsZQogKiAgICAgY29uc3QgdmVydGljZXMgPSBbCiAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDAKICogICAgICAgICAxLCAwLCAwLCAvLyB2ZXJ0ZXggMQogKiAgICAgICAgIDAsIDEsIDAgIC8vIHZlcnRleCAyCiAqICAgICBdOwogKiAgICAgY29uc3QgaW5kaWNlcyA9IFsKICogICAgICAgICAwLCAxLCAyICAvLyB0cmlhbmdsZSAwCiAqICAgICBdOwogKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpOwogKi8KCmNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7CiAgLy8gQXJyYXkgb2YgaW50ZWdlcnMsIGluZGljYXRpbmcgd2hpY2ggdmVydGljZXMgZWFjaCB0cmlhbmdsZSBjb25zaXN0cyBvZi4gVGhlIGxlbmd0aCBvZiB0aGlzIGFycmF5IGlzIHRodXMgMyB0aW1lcyB0aGUgbnVtYmVyIG9mIHRyaWFuZ2xlcy4KICAvLyBUaGUgbm9ybWFscyBkYXRhLgogIC8vIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLgogIC8vIFJlZmVyZW5jZXMgdG8gdmVydGV4IHBhaXJzLCBtYWtpbmcgdXAgYWxsIHVuaXF1ZSBlZGdlcyBpbiB0aGUgdHJpbWVzaC4KICAvLyBMb2NhbCBzY2FsaW5nIG9mIHRoZSBtZXNoLiBVc2UgLnNldFNjYWxlKCkgdG8gc2V0IGl0LgogIC8vIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LgogIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCBpbmRpY2VzKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlRSSU1FU0gKICAgIH0pOwogICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpOwogICAgdGhpcy5pbmRpY2VzID0gbmV3IEludDE2QXJyYXkoaW5kaWNlcyk7CiAgICB0aGlzLm5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGluZGljZXMubGVuZ3RoKTsKICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7CiAgICB0aGlzLmVkZ2VzID0gbnVsbDsKICAgIHRoaXMuc2NhbGUgPSBuZXcgVmVjMygxLCAxLCAxKTsKICAgIHRoaXMudHJlZSA9IG5ldyBPY3RyZWUoKTsKICAgIHRoaXMudXBkYXRlRWRnZXMoKTsKICAgIHRoaXMudXBkYXRlTm9ybWFscygpOwogICAgdGhpcy51cGRhdGVBQUJCKCk7CiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB0aGlzLnVwZGF0ZVRyZWUoKTsKICB9CiAgLyoqCiAgICogQG1ldGhvZCB1cGRhdGVUcmVlCiAgICovCgoKICB1cGRhdGVUcmVlKCkgewogICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZTsKICAgIHRyZWUucmVzZXQoKTsKICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7CiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7IC8vIFRoZSBsb2NhbCBtZXNoIEFBQkIgaXMgc2NhbGVkLCBidXQgdGhlIG9jdHJlZSBBQUJCIHNob3VsZCBiZSB1bnNjYWxlZAoKICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7CiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueiAqPSAxIC8gc2NhbGUuejsKICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7CiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueiAqPSAxIC8gc2NhbGUuejsgLy8gSW5zZXJ0IGFsbCB0cmlhbmdsZXMKCiAgICBjb25zdCB0cmlhbmdsZUFBQkIgPSBuZXcgQUFCQigpOwogICAgY29uc3QgYSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBiID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGMgPSBuZXcgVmVjMygpOwogICAgY29uc3QgcG9pbnRzID0gW2EsIGIsIGNdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAvL3RoaXMuZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKTsKICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzCiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CgogICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTsKCiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKCiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDJdLCBjKTsKCiAgICAgIHRyaWFuZ2xlQUFCQi5zZXRGcm9tUG9pbnRzKHBvaW50cyk7CiAgICAgIHRyZWUuaW5zZXJ0KHRyaWFuZ2xlQUFCQiwgaSk7CiAgICB9CgogICAgdHJlZS5yZW1vdmVFbXB0eU5vZGVzKCk7CiAgfQogIC8qKgogICAqIEdldCB0cmlhbmdsZXMgaW4gYSBsb2NhbCBBQUJCIGZyb20gdGhlIHRyaW1lc2guCiAgICogQG1ldGhvZCBnZXRUcmlhbmdsZXNJbkFBQkIKICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSBvZiBpbnRlZ2VycywgcmVmZXJlbmNpbmcgdGhlIHF1ZXJpZWQgdHJpYW5nbGVzLgogICAqLwoKCiAgZ2V0VHJpYW5nbGVzSW5BQUJCKGFhYmIsIHJlc3VsdCkgewogICAgdW5zY2FsZWRBQUJCLmNvcHkoYWFiYik7IC8vIFNjYWxlIGl0IHRvIGxvY2FsCgogICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwogICAgY29uc3QgaXN4ID0gc2NhbGUueDsKICAgIGNvbnN0IGlzeSA9IHNjYWxlLnk7CiAgICBjb25zdCBpc3ogPSBzY2FsZS56OwogICAgY29uc3QgbCA9IHVuc2NhbGVkQUFCQi5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IHVuc2NhbGVkQUFCQi51cHBlckJvdW5kOwogICAgbC54IC89IGlzeDsKICAgIGwueSAvPSBpc3k7CiAgICBsLnogLz0gaXN6OwogICAgdS54IC89IGlzeDsKICAgIHUueSAvPSBpc3k7CiAgICB1LnogLz0gaXN6OwogICAgcmV0dXJuIHRoaXMudHJlZS5hYWJiUXVlcnkodW5zY2FsZWRBQUJCLCByZXN1bHQpOwogIH0KICAvKioKICAgKiBAbWV0aG9kIHNldFNjYWxlCiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZQogICAqLwoKCiAgc2V0U2NhbGUoc2NhbGUpIHsKICAgIGNvbnN0IHdhc1VuaWZvcm0gPSB0aGlzLnNjYWxlLnggPT09IHRoaXMuc2NhbGUueSAmJiB0aGlzLnNjYWxlLnkgPT09IHRoaXMuc2NhbGUuejsKICAgIGNvbnN0IGlzVW5pZm9ybSA9IHNjYWxlLnggPT09IHNjYWxlLnkgJiYgc2NhbGUueSA9PT0gc2NhbGUuejsKCiAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHsKICAgICAgLy8gTm9uLXVuaWZvcm0gc2NhbGluZy4gTmVlZCB0byB1cGRhdGUgbm9ybWFscy4KICAgICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7CiAgICB9CgogICAgdGhpcy5zY2FsZS5jb3B5KHNjYWxlKTsKICAgIHRoaXMudXBkYXRlQUFCQigpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogIH0KICAvKioKICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS4KICAgKiBAbWV0aG9kIHVwZGF0ZU5vcm1hbHMKICAgKi8KCgogIHVwZGF0ZU5vcm1hbHMoKSB7CiAgICBjb25zdCBuID0gY29tcHV0ZU5vcm1hbHNfbjsgLy8gR2VuZXJhdGUgbm9ybWFscwoKICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm5vcm1hbHM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdOwogICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoYSwgdmEpOwogICAgICB0aGlzLmdldFZlcnRleChiLCB2Yik7CiAgICAgIHRoaXMuZ2V0VmVydGV4KGMsIHZjKTsKICAgICAgVHJpbWVzaC5jb21wdXRlTm9ybWFsKHZiLCB2YSwgdmMsIG4pOwogICAgICBub3JtYWxzW2kzXSA9IG4ueDsKICAgICAgbm9ybWFsc1tpMyArIDFdID0gbi55OwogICAgICBub3JtYWxzW2kzICsgMl0gPSBuLno7CiAgICB9CiAgfQogIC8qKgogICAqIFVwZGF0ZSB0aGUgLmVkZ2VzIHByb3BlcnR5CiAgICogQG1ldGhvZCB1cGRhdGVFZGdlcwogICAqLwoKCiAgdXBkYXRlRWRnZXMoKSB7CiAgICBjb25zdCBlZGdlcyA9IHt9OwoKICAgIGNvbnN0IGFkZCA9IChhLCBiKSA9PiB7CiAgICAgIGNvbnN0IGtleSA9IGEgPCBiID8gYSArICJfIiArIGIgOiBiICsgIl8iICsgYTsKICAgICAgZWRnZXNba2V5XSA9IHRydWU7CiAgICB9OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdOwogICAgICBjb25zdCBjID0gdGhpcy5pbmRpY2VzW2kzICsgMl07CiAgICAgIGFkZChhLCBiKTsKICAgICAgYWRkKGIsIGMpOwogICAgICBhZGQoYywgYSk7CiAgICB9CgogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VzKTsKICAgIHRoaXMuZWRnZXMgPSBuZXcgSW50MTZBcnJheShrZXlzLmxlbmd0aCAqIDIpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBpbmRpY2VzID0ga2V5c1tpXS5zcGxpdCgnXycpOwogICAgICB0aGlzLmVkZ2VzWzIgKiBpXSA9IHBhcnNlSW50KGluZGljZXNbMF0sIDEwKTsKICAgICAgdGhpcy5lZGdlc1syICogaSArIDFdID0gcGFyc2VJbnQoaW5kaWNlc1sxXSwgMTApOwogICAgfQogIH0KICAvKioKICAgKiBHZXQgYW4gZWRnZSB2ZXJ0ZXgKICAgKiBAbWV0aG9kIGdldEVkZ2VWZXJ0ZXgKICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleAogICAqIEBwYXJhbSAge251bWJlcn0gZmlyc3RPclNlY29uZCAwIG9yIDEsIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgb2YgdGhlIHZlcnRpY2VzIHlvdSBuZWVkLgogICAqIEBwYXJhbSAge1ZlYzN9IHZlcnRleFN0b3JlIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHQKICAgKi8KCgogIGdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCBmaXJzdE9yU2Vjb25kLCB2ZXJ0ZXhTdG9yZSkgewogICAgY29uc3QgdmVydGV4SW5kZXggPSB0aGlzLmVkZ2VzW2VkZ2VJbmRleCAqIDIgKyAoZmlyc3RPclNlY29uZCA/IDEgOiAwKV07CiAgICB0aGlzLmdldFZlcnRleCh2ZXJ0ZXhJbmRleCwgdmVydGV4U3RvcmUpOwogIH0KICAvKioKICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS4KICAgKiBAbWV0aG9kIGdldEVkZ2VWZWN0b3IKICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleAogICAqIEBwYXJhbSAge1ZlYzN9IHZlY3RvclN0b3JlCiAgICovCgoKICBnZXRFZGdlVmVjdG9yKGVkZ2VJbmRleCwgdmVjdG9yU3RvcmUpIHsKICAgIGNvbnN0IHZhID0gZ2V0RWRnZVZlY3Rvcl92YTsKICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjsKICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDAsIHZhKTsKICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDEsIHZiKTsKICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTsKICB9CiAgLyoqCiAgICogR2V0IHZlcnRleCBpLgogICAqIEBtZXRob2QgZ2V0VmVydGV4CiAgICogQHBhcmFtICB7bnVtYmVyfSBpCiAgICogQHBhcmFtICB7VmVjM30gb3V0CiAgICogQHJldHVybiB7VmVjM30gVGhlICJvdXQiIHZlY3RvciBvYmplY3QKICAgKi8KCgogIGdldFZlcnRleChpLCBvdXQpIHsKICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsKCiAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpOwoKICAgIG91dC54ICo9IHNjYWxlLng7CiAgICBvdXQueSAqPSBzY2FsZS55OwogICAgb3V0LnogKj0gc2NhbGUuejsKICAgIHJldHVybiBvdXQ7CiAgfQogIC8qKgogICAqIEdldCByYXcgdmVydGV4IGkKICAgKiBAcHJpdmF0ZQogICAqIEBtZXRob2QgX2dldFVuc2NhbGVkVmVydGV4CiAgICogQHBhcmFtICB7bnVtYmVyfSBpCiAgICogQHBhcmFtICB7VmVjM30gb3V0CiAgICogQHJldHVybiB7VmVjM30gVGhlICJvdXQiIHZlY3RvciBvYmplY3QKICAgKi8KCgogIF9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpIHsKICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICByZXR1cm4gb3V0LnNldCh2ZXJ0aWNlc1tpM10sIHZlcnRpY2VzW2kzICsgMV0sIHZlcnRpY2VzW2kzICsgMl0pOwogIH0KICAvKioKICAgKiBHZXQgYSB2ZXJ0ZXggZnJvbSB0aGUgdHJpbWVzaCx0cmFuc2Zvcm1lZCBieSB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHF1YXRlcm5pb24uCiAgICogQG1ldGhvZCBnZXRXb3JsZFZlcnRleAogICAqIEBwYXJhbSAge251bWJlcn0gaQogICAqIEBwYXJhbSAge1ZlYzN9IHBvcwogICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXQKICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQKICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgIm91dCIgdmVjdG9yIG9iamVjdAogICAqLwoKCiAgZ2V0V29ybGRWZXJ0ZXgoaSwgcG9zLCBxdWF0LCBvdXQpIHsKICAgIHRoaXMuZ2V0VmVydGV4KGksIG91dCk7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zLCBxdWF0LCBvdXQsIG91dCk7CiAgICByZXR1cm4gb3V0OwogIH0KICAvKioKICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLgogICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVWZXJ0aWNlcwogICAqIEBwYXJhbSAge251bWJlcn0gaQogICAqIEBwYXJhbSAge1ZlYzN9IGEKICAgKiBAcGFyYW0gIHtWZWMzfSBiCiAgICogQHBhcmFtICB7VmVjM30gYwogICAqLwoKCiAgZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKSB7CiAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7CiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7CiAgfQogIC8qKgogICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiB0cmlhbmdsZSBpLgogICAqIEBtZXRob2QgZ2V0Tm9ybWFsCiAgICogQHBhcmFtICB7TnVtYmVyfSBpCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0CiAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QKICAgKi8KCgogIGdldE5vcm1hbChpLCB0YXJnZXQpIHsKICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICByZXR1cm4gdGFyZ2V0LnNldCh0aGlzLm5vcm1hbHNbaTNdLCB0aGlzLm5vcm1hbHNbaTMgKyAxXSwgdGhpcy5ub3JtYWxzW2kzICsgMl0pOwogIH0KICAvKioKICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQogICAqIEBwYXJhbSAge051bWJlcn0gbWFzcwogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAidGFyZ2V0IiB2ZWN0b3Igb2JqZWN0CiAgICovCgoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXQKICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihjbGlfYWFiYik7CiAgICBjb25zdCB4ID0gY2xpX2FhYmIudXBwZXJCb3VuZC54IC0gY2xpX2FhYmIubG93ZXJCb3VuZC54OwogICAgY29uc3QgeSA9IGNsaV9hYWJiLnVwcGVyQm91bmQueSAtIGNsaV9hYWJiLmxvd2VyQm91bmQueTsKICAgIGNvbnN0IHogPSBjbGlfYWFiYi51cHBlckJvdW5kLnogLSBjbGlfYWFiYi5sb3dlckJvdW5kLno7CiAgICByZXR1cm4gdGFyZ2V0LnNldCgxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpKTsKICB9CiAgLyoqCiAgICogQ29tcHV0ZSB0aGUgbG9jYWwgQUFCQiBmb3IgdGhlIHRyaW1lc2gKICAgKiBAbWV0aG9kIGNvbXB1dGVMb2NhbEFBQkIKICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICovCgoKICBjb21wdXRlTG9jYWxBQUJCKGFhYmIpIHsKICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gYWFiYi51cHBlckJvdW5kOwogICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgY29uc3QgdiA9IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0OwogICAgdGhpcy5nZXRWZXJ0ZXgoMCwgdik7CiAgICBsLmNvcHkodik7CiAgICB1LmNvcHkodik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykgewogICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKCiAgICAgIGlmICh2LnggPCBsLngpIHsKICAgICAgICBsLnggPSB2Lng7CiAgICAgIH0gZWxzZSBpZiAodi54ID4gdS54KSB7CiAgICAgICAgdS54ID0gdi54OwogICAgICB9CgogICAgICBpZiAodi55IDwgbC55KSB7CiAgICAgICAgbC55ID0gdi55OwogICAgICB9IGVsc2UgaWYgKHYueSA+IHUueSkgewogICAgICAgIHUueSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKHYueiA8IGwueikgewogICAgICAgIGwueiA9IHYuejsKICAgICAgfSBlbHNlIGlmICh2LnogPiB1LnopIHsKICAgICAgICB1LnogPSB2Lno7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICogVXBkYXRlIHRoZSAuYWFiYiBwcm9wZXJ0eQogICAqIEBtZXRob2QgdXBkYXRlQUFCQgogICAqLwoKCiAgdXBkYXRlQUFCQigpIHsKICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQih0aGlzLmFhYmIpOwogIH0KICAvKioKICAgKiBXaWxsIHVwZGF0ZSB0aGUgLmJvdW5kaW5nU3BoZXJlUmFkaXVzIHByb3BlcnR5CiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cwogICAqLwoKCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyCiAgICBsZXQgbWF4MiA9IDA7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCB2ID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHZlcnRpY2VzLmxlbmd0aCAvIDM7IGkgIT09IE47IGkrKykgewogICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKICAgICAgY29uc3Qgbm9ybTIgPSB2Lmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgIGlmIChub3JtMiA+IG1heDIpIHsKICAgICAgICBtYXgyID0gbm9ybTI7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpOwogIH0KICAvKioKICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQgogICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvcwogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXQKICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW4KICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXgKICAgKi8KCgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAvKgogICAgICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDMsCiAgICAgICAgICAgIHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgICBjb25zdCBtaW54LG1pbnksbWlueixtYXh4LG1heHksbWF4ejsKICAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKICAgICAgICBmb3IobGV0IGk9MDsgaTxuOyBpKyspewogICAgICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKICAgICAgICAgICAgcXVhdC52bXVsdCh2LCB2KTsKICAgICAgICAgICAgcG9zLnZhZGQodiwgdik7CiAgICAgICAgICAgIGlmICh2LnggPCBtaW54IHx8IG1pbng9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgbWlueCA9IHYueDsKICAgICAgICAgICAgfSBlbHNlIGlmKHYueCA+IG1heHggfHwgbWF4eD09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICBtYXh4ID0gdi54OwogICAgICAgICAgICB9CiAgICAgICAgICAgICBpZiAodi55IDwgbWlueSB8fCBtaW55PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgIG1pbnkgPSB2Lnk7CiAgICAgICAgICAgIH0gZWxzZSBpZih2LnkgPiBtYXh5IHx8IG1heHk9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgbWF4eSA9IHYueTsKICAgICAgICAgICAgfQogICAgICAgICAgICAgaWYgKHYueiA8IG1pbnogfHwgbWluej09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICBtaW56ID0gdi56OwogICAgICAgICAgICB9IGVsc2UgaWYodi56ID4gbWF4eiB8fCBtYXh6PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgIG1heHogPSB2Lno7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbWluLnNldChtaW54LG1pbnksbWlueik7CiAgICAgICAgbWF4LnNldChtYXh4LG1heHksbWF4eik7CiAgICAgICAgKi8KICAgIC8vIEZhc3RlciBhcHByb3hpbWF0aW9uIHVzaW5nIGxvY2FsIEFBQkIKICAgIGNvbnN0IGZyYW1lID0gY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lOwogICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlV29ybGRBQUJCX2FhYmI7CiAgICBmcmFtZS5wb3NpdGlvbiA9IHBvczsKICAgIGZyYW1lLnF1YXRlcm5pb24gPSBxdWF0OwogICAgdGhpcy5hYWJiLnRvV29ybGRGcmFtZShmcmFtZSwgcmVzdWx0KTsKICAgIG1pbi5jb3B5KHJlc3VsdC5sb3dlckJvdW5kKTsKICAgIG1heC5jb3B5KHJlc3VsdC51cHBlckJvdW5kKTsKICB9CiAgLyoqCiAgICogR2V0IGFwcHJveGltYXRlIHZvbHVtZQogICAqIEBtZXRob2Qgdm9sdW1lCiAgICogQHJldHVybiB7TnVtYmVyfQogICAqLwoKCiAgdm9sdW1lKCkgewogICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wOwogIH0KCn0KCmNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpOwpjb25zdCB1bnNjYWxlZEFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCBnZXRFZGdlVmVjdG9yX3ZhID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7Ci8qKgogKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlcwogKiBAc3RhdGljCiAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbAogKiBAcGFyYW0ge1ZlYzN9IHZhCiAqIEBwYXJhbSB7VmVjM30gdmIKICogQHBhcmFtIHtWZWMzfSB2YwogKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogKi8KCmNvbnN0IGNiID0gbmV3IFZlYzMoKTsKY29uc3QgYWIgPSBuZXcgVmVjMygpOwoKVHJpbWVzaC5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4gewogIHZiLnZzdWIodmEsIGFiKTsKICB2Yy52c3ViKHZiLCBjYik7CiAgY2IuY3Jvc3MoYWIsIHRhcmdldCk7CgogIGlmICghdGFyZ2V0LmlzWmVybygpKSB7CiAgICB0YXJnZXQubm9ybWFsaXplKCk7CiAgfQp9OwoKY29uc3QgdmEgPSBuZXcgVmVjMygpOwpjb25zdCB2YiA9IG5ldyBWZWMzKCk7CmNvbnN0IHZjID0gbmV3IFZlYzMoKTsKY29uc3QgY2xpX2FhYmIgPSBuZXcgQUFCQigpOwpjb25zdCBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCA9IG5ldyBWZWMzKCk7CmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTsKY29uc3QgY2FsY3VsYXRlV29ybGRBQUJCX2FhYmIgPSBuZXcgQUFCQigpOwovKioKICogQ3JlYXRlIGEgVHJpbWVzaCBpbnN0YW5jZSwgc2hhcGVkIGFzIGEgdG9ydXMuCiAqIEBzdGF0aWMKICogQG1ldGhvZCBjcmVhdGVUb3J1cwogKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpdXM9MV0KICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdCiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGlhbFNlZ21lbnRzPThdCiAqIEBwYXJhbSAge251bWJlcn0gW3R1YnVsYXJTZWdtZW50cz02XQogKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdCiAqIEByZXR1cm4ge1RyaW1lc2h9IEEgdG9ydXMKICovCgpUcmltZXNoLmNyZWF0ZVRvcnVzID0gKHJhZGl1cyA9IDEsIHR1YmUgPSAwLjUsIHJhZGlhbFNlZ21lbnRzID0gOCwgdHVidWxhclNlZ21lbnRzID0gNiwgYXJjID0gTWF0aC5QSSAqIDIpID0+IHsKICBjb25zdCB2ZXJ0aWNlcyA9IFtdOwogIGNvbnN0IGluZGljZXMgPSBbXTsKCiAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHsKICAgICAgY29uc3QgdSA9IGkgLyB0dWJ1bGFyU2VnbWVudHMgKiBhcmM7CiAgICAgIGNvbnN0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHMgKiBNYXRoLlBJICogMjsKICAgICAgY29uc3QgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5jb3ModSk7CiAgICAgIGNvbnN0IHkgPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguc2luKHUpOwogICAgICBjb25zdCB6ID0gdHViZSAqIE1hdGguc2luKHYpOwogICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopOwogICAgfQogIH0KCiAgZm9yIChsZXQgaiA9IDE7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykgewogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHsKICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTsKICAgICAgY29uc3QgYiA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIChqIC0gMSkgKyBpIC0gMTsKICAgICAgY29uc3QgYyA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIChqIC0gMSkgKyBpOwogICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7CiAgICAgIGluZGljZXMucHVzaChhLCBiLCBkKTsKICAgICAgaW5kaWNlcy5wdXNoKGIsIGMsIGQpOwogICAgfQogIH0KCiAgcmV0dXJuIG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTsKfTsKLyoqDQogKiBDb25zdHJhaW50IGVxdWF0aW9uIHNvbHZlciBiYXNlIGNsYXNzLg0KICogQGNsYXNzIFNvbHZlcg0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKi8KCgpjbGFzcyBTb2x2ZXIgewogIC8vIEFsbCBlcXVhdGlvbnMgdG8gYmUgc29sdmVkCiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogIH0KICAvKioNCiAgICogU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzZXMhDQogICAqIEBtZXRob2Qgc29sdmUNCiAgICogQHBhcmFtICB7TnVtYmVyfSBkdA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWQNCiAgICovCgoKICBzb2x2ZShkdCwgd29ybGQpIHsKICAgIHJldHVybiAoLy8gU2hvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgZG9uZSEKICAgICAgMAogICAgKTsKICB9CiAgLyoqDQogICAqIEFkZCBhbiBlcXVhdGlvbg0KICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uDQogICAqIEBwYXJhbSB7RXF1YXRpb259IGVxDQogICAqLwoKCiAgYWRkRXF1YXRpb24oZXEpIHsKICAgIGlmIChlcS5lbmFibGVkKSB7CiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOwogICAgfQogIH0KICAvKioNCiAgICogUmVtb3ZlIGFuIGVxdWF0aW9uDQogICAqIEBtZXRob2QgcmVtb3ZlRXF1YXRpb24NCiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXENCiAgICovCgoKICByZW1vdmVFcXVhdGlvbihlcSkgewogICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CiAgICBjb25zdCBpID0gZXFzLmluZGV4T2YoZXEpOwoKICAgIGlmIChpICE9PSAtMSkgewogICAgICBlcXMuc3BsaWNlKGksIDEpOwogICAgfQogIH0KICAvKioNCiAgICogQWRkIGFsbCBlcXVhdGlvbnMNCiAgICogQG1ldGhvZCByZW1vdmVBbGxFcXVhdGlvbnMNCiAgICovCgoKICByZW1vdmVBbGxFcXVhdGlvbnMoKSB7CiAgICB0aGlzLmVxdWF0aW9ucy5sZW5ndGggPSAwOwogIH0KCn0KLyoqDQogKiBDb25zdHJhaW50IGVxdWF0aW9uIEdhdXNzLVNlaWRlbCBzb2x2ZXIuDQogKiBAY2xhc3MgR1NTb2x2ZXINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHRvZG8gVGhlIHNwb29rIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgZWFjaCBjb25zdHJhaW50LCBub3QgZ2xvYmFsbHkuDQogKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlDQogKiBAc2VlIGh0dHBzOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyLzVEVjA1OC9WVDA5L2xlY3R1cmVzL3Nwb29rbm90ZXMucGRmDQogKiBAZXh0ZW5kcyBTb2x2ZXINCiAqLwoKCmNsYXNzIEdTU29sdmVyIGV4dGVuZHMgU29sdmVyIHsKICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLgogIC8vIFdoZW4gdG9sZXJhbmNlIGlzIHJlYWNoZWQsIHRoZSBzeXN0ZW0gaXMgYXNzdW1lZCB0byBiZSBjb252ZXJnZWQuCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5pdGVyYXRpb25zID0gMTA7CiAgICB0aGlzLnRvbGVyYW5jZSA9IDFlLTc7CiAgfQogIC8qKg0KICAgKiBTb2x2ZQ0KICAgKiBAbWV0aG9kIHNvbHZlDQogICAqIEBwYXJhbSAge051bWJlcn0gZHQNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkDQogICAqLwoKCiAgc29sdmUoZHQsIHdvcmxkKSB7CiAgICBsZXQgaXRlciA9IDA7CiAgICBjb25zdCBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zOwogICAgY29uc3QgdG9sU3F1YXJlZCA9IHRoaXMudG9sZXJhbmNlICogdGhpcy50b2xlcmFuY2U7CiAgICBjb25zdCBlcXVhdGlvbnMgPSB0aGlzLmVxdWF0aW9uczsKICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7CiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICBjb25zdCBOYm9kaWVzID0gYm9kaWVzLmxlbmd0aDsKICAgIGNvbnN0IGggPSBkdDsKICAgIGxldCBCOwogICAgbGV0IGludkM7CiAgICBsZXQgZGVsdGFsYW1iZGE7CiAgICBsZXQgZGVsdGFsYW1iZGFUb3Q7CiAgICBsZXQgR1dsYW1iZGE7CiAgICBsZXQgbGFtYmRhajsgLy8gVXBkYXRlIHNvbHZlIG1hc3MKCiAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICBib2RpZXNbaV0udXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpOwogICAgICB9CiAgICB9IC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlCgoKICAgIGNvbnN0IGludkNzID0gR1NTb2x2ZXJfc29sdmVfaW52Q3M7CiAgICBjb25zdCBCcyA9IEdTU29sdmVyX3NvbHZlX0JzOwogICAgY29uc3QgbGFtYmRhID0gR1NTb2x2ZXJfc29sdmVfbGFtYmRhOwogICAgaW52Q3MubGVuZ3RoID0gTmVxOwogICAgQnMubGVuZ3RoID0gTmVxOwogICAgbGFtYmRhLmxlbmd0aCA9IE5lcTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxOyBpKyspIHsKICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tpXTsKICAgICAgbGFtYmRhW2ldID0gMC4wOwogICAgICBCc1tpXSA9IGMuY29tcHV0ZUIoaCk7CiAgICAgIGludkNzW2ldID0gMS4wIC8gYy5jb21wdXRlQygpOwogICAgfQoKICAgIGlmIChOZXEgIT09IDApIHsKICAgICAgLy8gUmVzZXQgdmxhbWJkYQogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhOwogICAgICAgIGNvbnN0IHdsYW1iZGEgPSBiLndsYW1iZGE7CiAgICAgICAgdmxhbWJkYS5zZXQoMCwgMCwgMCk7CiAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7CiAgICAgIH0gLy8gSXRlcmF0ZSBvdmVyIGVxdWF0aW9ucwoKCiAgICAgIGZvciAoaXRlciA9IDA7IGl0ZXIgIT09IG1heEl0ZXI7IGl0ZXIrKykgewogICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIHRvdGFsIGVycm9yIGZvciBlYWNoIGl0ZXJhdGlvbi4KICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5lcTsgaisrKSB7CiAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgICAgICAgIEIgPSBCc1tqXTsKICAgICAgICAgIGludkMgPSBpbnZDc1tqXTsKICAgICAgICAgIGxhbWJkYWogPSBsYW1iZGFbal07CiAgICAgICAgICBHV2xhbWJkYSA9IGMuY29tcHV0ZUdXbGFtYmRhKCk7CiAgICAgICAgICBkZWx0YWxhbWJkYSA9IGludkMgKiAoQiAtIEdXbGFtYmRhIC0gYy5lcHMgKiBsYW1iZGFqKTsgLy8gQ2xhbXAgaWYgd2UgYXJlIG5vdCB3aXRoaW4gdGhlIG1pbi9tYXggaW50ZXJ2YWwKCiAgICAgICAgICBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhIDwgYy5taW5Gb3JjZSkgewogICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqOwogICAgICAgICAgfSBlbHNlIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPiBjLm1heEZvcmNlKSB7CiAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5tYXhGb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICB9CgogICAgICAgICAgbGFtYmRhW2pdICs9IGRlbHRhbGFtYmRhOwogICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKQoKICAgICAgICAgIGMuYWRkVG9XbGFtYmRhKGRlbHRhbGFtYmRhKTsKICAgICAgICB9IC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGUKCgogICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHkKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCB2ID0gYi52ZWxvY2l0eTsKICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7CiAgICAgICAgYi52bGFtYmRhLnZtdWwoYi5saW5lYXJGYWN0b3IsIGIudmxhbWJkYSk7CiAgICAgICAgdi52YWRkKGIudmxhbWJkYSwgdik7CiAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpOwogICAgICAgIHcudmFkZChiLndsYW1iZGEsIHcpOwogICAgICB9IC8vIFNldCB0aGUgLm11bHRpcGxpZXIgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvbgoKCiAgICAgIGxldCBsID0gZXF1YXRpb25zLmxlbmd0aDsKICAgICAgY29uc3QgaW52RHQgPSAxIC8gaDsKCiAgICAgIHdoaWxlIChsLS0pIHsKICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0OwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGl0ZXI7CiAgfQoKfQoKY29uc3QgR1NTb2x2ZXJfc29sdmVfbGFtYmRhID0gW107IC8vIEp1c3QgdGVtcG9yYXJ5IG51bWJlciBob2xkZXJzIHRoYXQgd2Ugd2FudCB0byByZXVzZSBlYWNoIHNvbHZlLgoKY29uc3QgR1NTb2x2ZXJfc29sdmVfaW52Q3MgPSBbXTsKY29uc3QgR1NTb2x2ZXJfc29sdmVfQnMgPSBbXTsKLyoqDQogKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC4NCiAqIEBjbGFzcyBQb29sDQogKiBAY29uc3RydWN0b3INCiAqLwoKCmNsYXNzIFBvb2wgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5vYmplY3RzID0gW107CiAgICB0aGlzLnR5cGUgPSBPYmplY3Q7CiAgfQogIC8qKg0KICAgKiBSZWxlYXNlIGFuIG9iamVjdCBhZnRlciB1c2UNCiAgICogQG1ldGhvZCByZWxlYXNlDQogICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoNCiAgICovCgoKICByZWxlYXNlKC4uLmFyZ3MpIHsKICAgIGNvbnN0IE5hcmdzID0gYXJncy5sZW5ndGg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5hcmdzOyBpKyspIHsKICAgICAgdGhpcy5vYmplY3RzLnB1c2goYXJnc1tpXSk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gb2JqZWN0DQogICAqIEBtZXRob2QgZ2V0DQogICAqIEByZXR1cm4ge21peGVkfQ0KICAgKi8KCgogIGdldCgpIHsKICAgIGlmICh0aGlzLm9iamVjdHMubGVuZ3RoID09PSAwKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdE9iamVjdCgpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cy5wb3AoKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENvbnN0cnVjdCBhbiBvYmplY3QuIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBlYWNoIHN1YmNsYXNzLg0KICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdA0KICAgKiBAcmV0dXJuIHttaXhlZH0NCiAgICovCgoKICBjb25zdHJ1Y3RPYmplY3QoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCByZXNpemUNCiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUNCiAgICogQHJldHVybiB7UG9vbH0gU2VsZiwgZm9yIGNoYWluaW5nDQogICAqLwoKCiAgcmVzaXplKHNpemUpIHsKICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLm9iamVjdHM7CgogICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoID4gc2l6ZSkgewogICAgICBvYmplY3RzLnBvcCgpOwogICAgfQoKICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA8IHNpemUpIHsKICAgICAgb2JqZWN0cy5wdXNoKHRoaXMuY29uc3RydWN0T2JqZWN0KCkpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCn0KLyoqDQogKiBAY2xhc3MgVmVjM1Bvb2wNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgUG9vbA0KICovCgoKY2xhc3MgVmVjM1Bvb2wgZXh0ZW5kcyBQb29sIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLnR5cGUgPSBWZWMzOwogIH0KICAvKioNCiAgICogQ29uc3RydWN0IGEgdmVjdG9yDQogICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgY29uc3RydWN0T2JqZWN0KCkgewogICAgcmV0dXJuIG5ldyBWZWMzKCk7CiAgfQoKfQoKY29uc3QgQ09MTElTSU9OX1RZUEVTID0gewogIHNwaGVyZVNwaGVyZTogU2hhcGUudHlwZXMuU1BIRVJFLAogIHNwaGVyZVBsYW5lOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5QTEFORSwKICBib3hCb3g6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkJPWCwKICBzcGhlcmVCb3g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkJPWCwKICBwbGFuZUJveDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5CT1gsCiAgY29udmV4Q29udmV4OiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIHNwaGVyZUNvbnZleDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBwbGFuZUNvbnZleDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIGJveENvbnZleDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBzcGhlcmVIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgYm94SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogIGNvbnZleEhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgc3BoZXJlUGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuU1BIRVJFLAogIHBsYW5lUGFydGljbGU6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsCiAgYm94UGFydGljbGU6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLlBBUlRJQ0xFLAogIGNvbnZleFBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgc3BoZXJlVHJpbWVzaDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuVFJJTUVTSCwKICBwbGFuZVRyaW1lc2g6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuVFJJTUVTSAp9OwovKioNCiAqIEhlbHBlciBjbGFzcyBmb3IgdGhlIFdvcmxkLiBHZW5lcmF0ZXMgQ29udGFjdEVxdWF0aW9ucy4NCiAqIEBjbGFzcyBOYXJyb3dwaGFzZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAdG9kbyBTcGhlcmUtQ29udmV4UG9seWhlZHJvbiBjb250YWN0cw0KICogQHRvZG8gQ29udGFjdCByZWR1Y3Rpb24NCiAqIEB0b2RvIHNob3VsZCBtb3ZlIG1ldGhvZHMgdG8gcHJvdG90eXBlDQogKi8KCmNsYXNzIE5hcnJvd3BoYXNlIHsKICAvLyBJbnRlcm5hbCBzdG9yYWdlIG9mIHBvb2xlZCBjb250YWN0IHBvaW50cy4KICAvLyBQb29sZWQgdmVjdG9ycy4KICBjb25zdHJ1Y3Rvcih3b3JsZCkgewogICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gW107CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107CiAgICB0aGlzLnJlc3VsdCA9IFtdOwogICAgdGhpcy5mcmljdGlvblJlc3VsdCA9IFtdOwogICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTsKICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7CiAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBNYWtlIGEgY29udGFjdCBvYmplY3QsIGJ5IHVzaW5nIHRoZSBpbnRlcm5hbCBwb29sIG9yIGNyZWF0aW5nIGEgbmV3IG9uZS4NCiAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb24NCiAgICogQHBhcmFtIHtCb2R5fSBiaQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJqDQogICAqIEBwYXJhbSB7U2hhcGV9IHNpDQogICAqIEBwYXJhbSB7U2hhcGV9IHNqDQogICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVBDQogICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCDQogICAqIEByZXR1cm4ge0NvbnRhY3RFcXVhdGlvbn0NCiAgICovCgoKICBjcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIG92ZXJyaWRlU2hhcGVBLCBvdmVycmlkZVNoYXBlQikgewogICAgbGV0IGM7CgogICAgaWYgKHRoaXMuY29udGFjdFBvaW50UG9vbC5sZW5ndGgpIHsKICAgICAgYyA9IHRoaXMuY29udGFjdFBvaW50UG9vbC5wb3AoKTsKICAgICAgYy5iaSA9IGJpOwogICAgICBjLmJqID0gYmo7CiAgICB9IGVsc2UgewogICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopOwogICAgfQoKICAgIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7CiAgICBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247CiAgICBjLnNldFNwb29rUGFyYW1zKGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwgdGhpcy53b3JsZC5kdCk7CiAgICBjb25zdCBtYXRBID0gc2kubWF0ZXJpYWwgfHwgYmkubWF0ZXJpYWw7CiAgICBjb25zdCBtYXRCID0gc2oubWF0ZXJpYWwgfHwgYmoubWF0ZXJpYWw7CgogICAgaWYgKG1hdEEgJiYgbWF0QiAmJiBtYXRBLnJlc3RpdHV0aW9uID49IDAgJiYgbWF0Qi5yZXN0aXR1dGlvbiA+PSAwKSB7CiAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjsKICAgIH0KCiAgICBjLnNpID0gb3ZlcnJpZGVTaGFwZUEgfHwgc2k7CiAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7CiAgICByZXR1cm4gYzsKICB9CgogIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoY29udGFjdEVxdWF0aW9uLCBvdXRBcnJheSkgewogICAgY29uc3QgYm9keUEgPSBjb250YWN0RXF1YXRpb24uYmk7CiAgICBjb25zdCBib2R5QiA9IGNvbnRhY3RFcXVhdGlvbi5iajsKICAgIGNvbnN0IHNoYXBlQSA9IGNvbnRhY3RFcXVhdGlvbi5zaTsKICAgIGNvbnN0IHNoYXBlQiA9IGNvbnRhY3RFcXVhdGlvbi5zajsKICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZDsKICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsOyAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgbGV0IGZyaWN0aW9uID0gY20uZnJpY3Rpb247CiAgICBjb25zdCBtYXRBID0gc2hhcGVBLm1hdGVyaWFsIHx8IGJvZHlBLm1hdGVyaWFsOwogICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDsKCiAgICBpZiAobWF0QSAmJiBtYXRCICYmIG1hdEEuZnJpY3Rpb24gPj0gMCAmJiBtYXRCLmZyaWN0aW9uID49IDApIHsKICAgICAgZnJpY3Rpb24gPSBtYXRBLmZyaWN0aW9uICogbWF0Qi5mcmljdGlvbjsKICAgIH0KCiAgICBpZiAoZnJpY3Rpb24gPiAwKSB7CiAgICAgIC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zCiAgICAgIGNvbnN0IG11ZyA9IGZyaWN0aW9uICogd29ybGQuZ3Jhdml0eS5sZW5ndGgoKTsKICAgICAgbGV0IHJlZHVjZWRNYXNzID0gYm9keUEuaW52TWFzcyArIGJvZHlCLmludk1hc3M7CgogICAgICBpZiAocmVkdWNlZE1hc3MgPiAwKSB7CiAgICAgICAgcmVkdWNlZE1hc3MgPSAxIC8gcmVkdWNlZE1hc3M7CiAgICAgIH0KCiAgICAgIGNvbnN0IHBvb2wgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpOwogICAgICBjb25zdCBjMiA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpOwogICAgICBjMS5iaSA9IGMyLmJpID0gYm9keUE7CiAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjsKICAgICAgYzEubWluRm9yY2UgPSBjMi5taW5Gb3JjZSA9IC1tdWcgKiByZWR1Y2VkTWFzczsKICAgICAgYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZyAqIHJlZHVjZWRNYXNzOyAvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnMKCiAgICAgIGMxLnJpLmNvcHkoY29udGFjdEVxdWF0aW9uLnJpKTsKICAgICAgYzEucmouY29weShjb250YWN0RXF1YXRpb24ucmopOwogICAgICBjMi5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7CiAgICAgIGMyLnJqLmNvcHkoY29udGFjdEVxdWF0aW9uLnJqKTsgLy8gQ29uc3RydWN0IHRhbmdlbnRzCgogICAgICBjb250YWN0RXF1YXRpb24ubmkudGFuZ2VudHMoYzEudCwgYzIudCk7IC8vIFNldCBzcG9vayBwYXJhbXMKCiAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgIGMxLmVuYWJsZWQgPSBjMi5lbmFibGVkID0gY29udGFjdEVxdWF0aW9uLmVuYWJsZWQ7CiAgICAgIG91dEFycmF5LnB1c2goYzEsIGMyKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0gLy8gVGFrZSB0aGUgYXZlcmFnZSBOIGxhdGVzdCBjb250YWN0IHBvaW50IG9uIHRoZSBwbGFuZS4KCgogIGNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpIHsKICAgIC8vIFRoZSBsYXN0IGNvbnRhY3RFcXVhdGlvbgogICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byAiYXZlcmFnZSIgZnJpY3Rpb24gZXF1YXRpb25zCgogICAgaWYgKCF0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoYywgdGhpcy5mcmljdGlvblJlc3VsdCkgfHwgbnVtQ29udGFjdHMgPT09IDEpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGYxID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDJdOwogICAgY29uc3QgZjIgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMV07CiAgICBhdmVyYWdlTm9ybWFsLnNldFplcm8oKTsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNldFplcm8oKTsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNldFplcm8oKTsKICAgIGNvbnN0IGJvZHlBID0gYy5iaTsKICAgIGNvbnN0IGJvZHlCID0gYy5iajsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbnVtQ29udGFjdHM7IGkrKykgewogICAgICBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMSAtIGldOwoKICAgICAgaWYgKGMuYmkgIT09IGJvZHlBKSB7CiAgICAgICAgYXZlcmFnZU5vcm1hbC52YWRkKGMubmksIGF2ZXJhZ2VOb3JtYWwpOwogICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEEpOwogICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICB9IGVsc2UgewogICAgICAgIGF2ZXJhZ2VOb3JtYWwudnN1YihjLm5pLCBhdmVyYWdlTm9ybWFsKTsKICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IGludk51bUNvbnRhY3RzID0gMSAvIG51bUNvbnRhY3RzOwogICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2NhbGUoaW52TnVtQ29udGFjdHMsIGYxLnJpKTsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaik7CiAgICBmMi5yaS5jb3B5KGYxLnJpKTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lCgogICAgZjIucmouY29weShmMS5yaik7CiAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgYXZlcmFnZU5vcm1hbC50YW5nZW50cyhmMS50LCBmMi50KTsgLy8gcmV0dXJuIGVxOwogIH0KICAvKioNCiAgICogR2VuZXJhdGUgYWxsIGNvbnRhY3RzIGJldHdlZW4gYSBsaXN0IG9mIGJvZHkgcGFpcnMNCiAgICogQG1ldGhvZCBnZXRDb250YWN0cw0KICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXMNCiAgICogQHBhcmFtIHthcnJheX0gcDIgQXJyYXkgb2YgYm9keSBpbmRpY2VzDQogICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHMNCiAgICogQHBhcmFtIHthcnJheX0gb2xkY29udGFjdHMgT3B0aW9uYWwuIEFycmF5IG9mIHJldXNhYmxlIGNvbnRhY3Qgb2JqZWN0cw0KICAgKi8KCgogIGdldENvbnRhY3RzKHAxLCBwMiwgd29ybGQsIHJlc3VsdCwgb2xkY29udGFjdHMsIGZyaWN0aW9uUmVzdWx0LCBmcmljdGlvblBvb2wpIHsKICAgIC8vIFNhdmUgb2xkIGNvbnRhY3Qgb2JqZWN0cwogICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gZnJpY3Rpb25Qb29sOwogICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7CiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7CiAgICBjb25zdCBxaSA9IHRtcFF1YXQxOwogICAgY29uc3QgcWogPSB0bXBRdWF0MjsKICAgIGNvbnN0IHhpID0gdG1wVmVjMSQyOwogICAgY29uc3QgeGogPSB0bXBWZWMyJDI7CgogICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykgewogICAgICAvLyBHZXQgY3VycmVudCBjb2xsaXNpb24gYm9kaWVzCiAgICAgIGNvbnN0IGJpID0gcDFba107CiAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsCgogICAgICBsZXQgYm9keUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7CgogICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHsKICAgICAgICBib2R5Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgbnVsbDsKICAgICAgfQoKICAgICAgY29uc3QganVzdFRlc3QgPSBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuU1RBVElDIHx8IGJpLnR5cGUgJiBCb2R5LlNUQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUMgfHwgYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQzsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmkuc2hhcGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYmkucXVhdGVybmlvbi5tdWx0KGJpLnNoYXBlT3JpZW50YXRpb25zW2ldLCBxaSk7CiAgICAgICAgYmkucXVhdGVybmlvbi52bXVsdChiaS5zaGFwZU9mZnNldHNbaV0sIHhpKTsKICAgICAgICB4aS52YWRkKGJpLnBvc2l0aW9uLCB4aSk7CiAgICAgICAgY29uc3Qgc2kgPSBiaS5zaGFwZXNbaV07CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmouc2hhcGVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAvLyBDb21wdXRlIHdvcmxkIHRyYW5zZm9ybSBvZiBzaGFwZXMKICAgICAgICAgIGJqLnF1YXRlcm5pb24ubXVsdChiai5zaGFwZU9yaWVudGF0aW9uc1tqXSwgcWopOwogICAgICAgICAgYmoucXVhdGVybmlvbi52bXVsdChiai5zaGFwZU9mZnNldHNbal0sIHhqKTsKICAgICAgICAgIHhqLnZhZGQoYmoucG9zaXRpb24sIHhqKTsKICAgICAgICAgIGNvbnN0IHNqID0gYmouc2hhcGVzW2pdOwoKICAgICAgICAgIGlmICghKHNpLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzai5jb2xsaXNpb25GaWx0ZXJHcm91cCAmJiBzai5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2kuY29sbGlzaW9uRmlsdGVyR3JvdXApKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9IC8vIEdldCBjb2xsaXNpb24gbWF0ZXJpYWwKCgogICAgICAgICAgbGV0IHNoYXBlQ29udGFjdE1hdGVyaWFsID0gbnVsbDsKCiAgICAgICAgICBpZiAoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpIHsKICAgICAgICAgICAgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoc2kubWF0ZXJpYWwsIHNqLm1hdGVyaWFsKSB8fCBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHNoYXBlQ29udGFjdE1hdGVyaWFsIHx8IGJvZHlDb250YWN0TWF0ZXJpYWwgfHwgd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsgLy8gR2V0IGNvbnRhY3RzCgogICAgICAgICAgY29uc3QgcmVzb2x2ZXJJbmRleCA9IHNpLnR5cGUgfCBzai50eXBlOwogICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzW3Jlc29sdmVySW5kZXhdOwoKICAgICAgICAgIGlmIChyZXNvbHZlcikgewogICAgICAgICAgICBsZXQgcmV0dmFsID0gZmFsc2U7IC8vIFRPIERPOiBpbnZlc3RpZ2F0ZSB3aHkgc3BoZXJlUGFydGljbGUgYW5kIGNvbnZleFBhcnRpY2xlCiAgICAgICAgICAgIC8vIHJlc29sdmVycyBleHBlY3Qgc2kgYW5kIHNqIHNoYXBlcyB0byBiZSBpbiByZXZlcnNlIG9yZGVyCiAgICAgICAgICAgIC8vIChpLmUuIGxhcmdlciBpbnRlZ2VyIHZhbHVlIHR5cGUgZmlyc3QgaW5zdGVhZCBvZiBzbWFsbGVyIGZpcnN0KQoKICAgICAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7CiAgICAgICAgICAgICAgcmV0dmFsID0gcmVzb2x2ZXIuY2FsbCh0aGlzLCBzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkgewogICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIG92ZXJsYXAKICAgICAgICAgICAgICB3b3JsZC5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7CiAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZVNwaGVyZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgIHJldHVybiB4aS5kaXN0YW5jZVNxdWFyZWQoeGopIDwgKHNpLnJhZGl1cyArIHNqLnJhZGl1cykgKiogMjsKICAgIH0gLy8gV2Ugd2lsbCBoYXZlIG9ubHkgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlCgoKICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbAoKICAgIHhqLnZzdWIoeGksIHIubmkpOwogICAgci5uaS5ub3JtYWxpemUoKTsgLy8gQ29udGFjdCBwb2ludCBsb2NhdGlvbnMKCiAgICByLnJpLmNvcHkoci5uaSk7CiAgICByLnJqLmNvcHkoci5uaSk7CiAgICByLnJpLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7CiAgICByLnJqLnNjYWxlKC1zai5yYWRpdXMsIHIucmopOwogICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgfQoKICBzcGhlcmVQbGFuZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgLy8gV2Ugd2lsbCBoYXZlIG9uZSBjb250YWN0IGluIHRoaXMgY2FzZQogICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgci5uaS5zZXQoMCwgMCwgMSk7CiAgICBxai52bXVsdChyLm5pLCByLm5pKTsKICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBib2R5IGkgaXMgdGhlIHNwaGVyZSwgZmxpcCBub3JtYWwKCiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBOZWVkZWQ/CiAgICAvLyBWZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3QgcG9pbnQKCiAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmUKCiAgICB4aS52c3ViKHhqLCBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpOwogICAgci5uaS5zY2FsZShyLm5pLmRvdChwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpLCBwbGFuZV90b19zcGhlcmVfb3J0aG8pOwogICAgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLnZzdWIocGxhbmVfdG9fc3BoZXJlX29ydGhvLCByLnJqKTsgLy8gVGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gcGxhbmUKCiAgICBpZiAoLXBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS5kb3Qoci5uaSkgPD0gc2kucmFkaXVzKSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHkKCgogICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7CiAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICB9CiAgfQoKICBib3hCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2oubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIHNwaGVyZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgdjNwb29sID0gdGhpcy52M3Bvb2w7IC8vIHdlIHJlZmVyIHRvIHRoZSBib3ggYXMgYm9keSBqCgogICAgY29uc3Qgc2lkZXMgPSBzcGhlcmVCb3hfc2lkZXM7CiAgICB4aS52c3ViKHhqLCBib3hfdG9fc3BoZXJlKTsKICAgIHNqLmdldFNpZGVOb3JtYWxzKHNpZGVzLCBxaik7CiAgICBjb25zdCBSID0gc2kucmFkaXVzOwogICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIFN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBwZW5ldHJhdGlvbiBpbmZvCgogICAgY29uc3Qgc2lkZV9ucyA9IHNwaGVyZUJveF9zaWRlX25zOwogICAgY29uc3Qgc2lkZV9uczEgPSBzcGhlcmVCb3hfc2lkZV9uczE7CiAgICBjb25zdCBzaWRlX25zMiA9IHNwaGVyZUJveF9zaWRlX25zMjsKICAgIGxldCBzaWRlX2ggPSBudWxsOwogICAgbGV0IHNpZGVfcGVuZXRyYXRpb25zID0gMDsKICAgIGxldCBzaWRlX2RvdDEgPSAwOwogICAgbGV0IHNpZGVfZG90MiA9IDA7CiAgICBsZXQgc2lkZV9kaXN0YW5jZSA9IG51bGw7CgogICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7CiAgICAgIC8vIEdldCB0aGUgcGxhbmUgc2lkZSBub3JtYWwgKG5zKQogICAgICBjb25zdCBucyA9IHNwaGVyZUJveF9uczsKICAgICAgbnMuY29weShzaWRlc1tpZHhdKTsKICAgICAgY29uc3QgaCA9IG5zLmxlbmd0aCgpOwogICAgICBucy5ub3JtYWxpemUoKTsgLy8gVGhlIG5vcm1hbC9kaXN0YW5jZSBkb3QgcHJvZHVjdCB0ZWxscyB3aGljaCBzaWRlIG9mIHRoZSBwbGFuZSB3ZSBhcmUKCiAgICAgIGNvbnN0IGRvdCA9IGJveF90b19zcGhlcmUuZG90KG5zKTsKCiAgICAgIGlmIChkb3QgPCBoICsgUiAmJiBkb3QgPiAwKSB7CiAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIHRoZSBvdGhlciB0d28gZGltZW5zaW9ucwogICAgICAgIGNvbnN0IG5zMSA9IHNwaGVyZUJveF9uczE7CiAgICAgICAgY29uc3QgbnMyID0gc3BoZXJlQm94X25zMjsKICAgICAgICBuczEuY29weShzaWRlc1soaWR4ICsgMSkgJSAzXSk7CiAgICAgICAgbnMyLmNvcHkoc2lkZXNbKGlkeCArIDIpICUgM10pOwogICAgICAgIGNvbnN0IGgxID0gbnMxLmxlbmd0aCgpOwogICAgICAgIGNvbnN0IGgyID0gbnMyLmxlbmd0aCgpOwogICAgICAgIG5zMS5ub3JtYWxpemUoKTsKICAgICAgICBuczIubm9ybWFsaXplKCk7CiAgICAgICAgY29uc3QgZG90MSA9IGJveF90b19zcGhlcmUuZG90KG5zMSk7CiAgICAgICAgY29uc3QgZG90MiA9IGJveF90b19zcGhlcmUuZG90KG5zMik7CgogICAgICAgIGlmIChkb3QxIDwgaDEgJiYgZG90MSA+IC1oMSAmJiBkb3QyIDwgaDIgJiYgZG90MiA+IC1oMikgewogICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguYWJzKGRvdCAtIGggLSBSKTsKCiAgICAgICAgICBpZiAoc2lkZV9kaXN0YW5jZSA9PT0gbnVsbCB8fCBkaXN0IDwgc2lkZV9kaXN0YW5jZSkgewogICAgICAgICAgICBzaWRlX2Rpc3RhbmNlID0gZGlzdDsKICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTsKICAgICAgICAgICAgc2lkZV9kb3QyID0gZG90MjsKICAgICAgICAgICAgc2lkZV9oID0gaDsKICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTsKICAgICAgICAgICAgc2lkZV9uczEuY29weShuczEpOwogICAgICAgICAgICBzaWRlX25zMi5jb3B5KG5zMik7CiAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7CgogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChzaWRlX3BlbmV0cmF0aW9ucykgewogICAgICBmb3VuZCA9IHRydWU7CiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICBzaWRlX25zLnNjYWxlKC1SLCByLnJpKTsgLy8gU3BoZXJlIHIKCiAgICAgIHIubmkuY29weShzaWRlX25zKTsKICAgICAgci5uaS5uZWdhdGUoci5uaSk7IC8vIE5vcm1hbCBzaG91bGQgYmUgb3V0IG9mIHNwaGVyZQoKICAgICAgc2lkZV9ucy5zY2FsZShzaWRlX2gsIHNpZGVfbnMpOwogICAgICBzaWRlX25zMS5zY2FsZShzaWRlX2RvdDEsIHNpZGVfbnMxKTsKICAgICAgc2lkZV9ucy52YWRkKHNpZGVfbnMxLCBzaWRlX25zKTsKICAgICAgc2lkZV9uczIuc2NhbGUoc2lkZV9kb3QyLCBzaWRlX25zMik7CiAgICAgIHNpZGVfbnMudmFkZChzaWRlX25zMiwgci5yaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICB9IC8vIENoZWNrIGNvcm5lcnMKCgogICAgbGV0IHJqID0gdjNwb29sLmdldCgpOwogICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyOwoKICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7CiAgICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSAyICYmICFmb3VuZDsgaysrKSB7CiAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgIT09IDIgJiYgIWZvdW5kOyBsKyspIHsKICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTsKCiAgICAgICAgICBpZiAoaikgewogICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByai52c3ViKHNpZGVzWzBdLCByaik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGspIHsKICAgICAgICAgICAgcmoudmFkZChzaWRlc1sxXSwgcmopOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmoudnN1YihzaWRlc1sxXSwgcmopOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChsKSB7CiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgoKICAgICAgICAgIHhqLnZhZGQocmosIHNwaGVyZV90b19jb3JuZXIpOwogICAgICAgICAgc3BoZXJlX3RvX2Nvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgci5yaS5jb3B5KHNwaGVyZV90b19jb3JuZXIpOwogICAgICAgICAgICByLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgICAgIHIucmkuc2NhbGUoUiwgci5yaSk7CiAgICAgICAgICAgIHIucmouY29weShyaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdjNwb29sLnJlbGVhc2UocmopOwogICAgcmogPSBudWxsOyAvLyBDaGVjayBlZGdlcwoKICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpOwogICAgY29uc3QgZWRnZUNlbnRlciA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IHIgPSB2M3Bvb2wuZ2V0KCk7IC8vIHIgPSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyCgogICAgY29uc3Qgb3J0aG9nb25hbCA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IGRpc3QgPSB2M3Bvb2wuZ2V0KCk7CiAgICBjb25zdCBOc2lkZXMgPSBzaWRlcy5sZW5ndGg7CgogICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5zaWRlcyAmJiAhZm91bmQ7IGorKykgewogICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7CiAgICAgICAgaWYgKGogJSAzICE9PSBrICUgMykgewogICAgICAgICAgLy8gR2V0IGVkZ2UgdGFuZ2VudAogICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTsKICAgICAgICAgIGVkZ2VUYW5nZW50Lm5vcm1hbGl6ZSgpOwogICAgICAgICAgc2lkZXNbal0udmFkZChzaWRlc1trXSwgZWRnZUNlbnRlcik7CiAgICAgICAgICByLmNvcHkoeGkpOwogICAgICAgICAgci52c3ViKGVkZ2VDZW50ZXIsIHIpOwogICAgICAgICAgci52c3ViKHhqLCByKTsKICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvbgoKICAgICAgICAgIGVkZ2VUYW5nZW50LnNjYWxlKG9ydGhvbm9ybSwgb3J0aG9nb25hbCk7IC8vIFZlY3RvciBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIgaW4gdGhlIHRhbmdlbnQgZGlyZWN0aW9uCiAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmUKCiAgICAgICAgICBsZXQgbCA9IDA7CgogICAgICAgICAgd2hpbGUgKGwgPT09IGogJSAzIHx8IGwgPT09IGsgJSAzKSB7CiAgICAgICAgICAgIGwrKzsKICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50CgoKICAgICAgICAgIGRpc3QuY29weSh4aSk7CiAgICAgICAgICBkaXN0LnZzdWIob3J0aG9nb25hbCwgZGlzdCk7CiAgICAgICAgICBkaXN0LnZzdWIoZWRnZUNlbnRlciwgZGlzdCk7CiAgICAgICAgICBkaXN0LnZzdWIoeGosIGRpc3QpOyAvLyBEaXN0YW5jZXMgaW4gdGFuZ2VudCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIGluIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIGl0CgogICAgICAgICAgY29uc3QgdGRpc3QgPSBNYXRoLmFicyhvcnRob25vcm0pOwogICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpOwoKICAgICAgICAgIGlmICh0ZGlzdCA8IHNpZGVzW2xdLmxlbmd0aCgpICYmIG5kaXN0IDwgUikgewogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICBlZGdlQ2VudGVyLnZhZGQob3J0aG9nb25hbCwgcmVzLnJqKTsgLy8gYm94IHJqCgogICAgICAgICAgICByZXMucmouY29weShyZXMucmopOwogICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpOwogICAgICAgICAgICByZXMubmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHJlcy5yaS5jb3B5KHJlcy5yaik7CiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpOwogICAgICAgICAgICByZXMucmkudnN1Yih4aSwgcmVzLnJpKTsKICAgICAgICAgICAgcmVzLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhpLCByZXMucmkpOwogICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTsKICAgICAgICAgICAgcmVzLnJqLnZhZGQoeGosIHJlcy5yaik7CiAgICAgICAgICAgIHJlcy5yai52c3ViKGJqLnBvc2l0aW9uLCByZXMucmopOwogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyZXMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHYzcG9vbC5yZWxlYXNlKGVkZ2VUYW5nZW50LCBlZGdlQ2VudGVyLCByLCBvcnRob2dvbmFsLCBkaXN0KTsKICB9CgogIHBsYW5lQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmlkID0gc2ouaWQ7CiAgICByZXR1cm4gdGhpcy5wbGFuZUNvbnZleChzaSwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIGNvbnZleENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHsKICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKCiAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7CiAgICAgIGNvbnN0IHJlcyA9IFtdOwogICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7CiAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTsKICAgICAgbGV0IG51bUNvbnRhY3RzID0gMDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICBzZXBBeGlzLm5lZ2F0ZShyLm5pKTsKICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTsKICAgICAgICBxLnNjYWxlKHJlc1tqXS5kZXB0aCwgcSk7CiAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZQoKICAgICAgICByaS52c3ViKHhpLCByaSk7CiAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICBudW1Db250YWN0cysrOwoKICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTsKICAgICAgfQogICAgfQogIH0KCiAgc3BoZXJlQ29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsKICAgIHhpLnZzdWIoeGosIGNvbnZleF90b19zcGhlcmUpOwogICAgY29uc3Qgbm9ybWFscyA9IHNqLmZhY2VOb3JtYWxzOwogICAgY29uc3QgZmFjZXMgPSBzai5mYWNlczsKICAgIGNvbnN0IHZlcnRzID0gc2oudmVydGljZXM7CiAgICBjb25zdCBSID0gc2kucmFkaXVzOyAvLyAgICAgcmV0dXJuOwogICAgLy8gfQoKICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBDaGVjayBjb3JuZXJzCgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgogICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjsKICAgICAgcWoudm11bHQodiwgd29ybGRDb3JuZXIpOwogICAgICB4ai52YWRkKHdvcmxkQ29ybmVyLCB3b3JsZENvcm5lcik7CiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7CiAgICAgIHdvcmxkQ29ybmVyLnZzdWIoeGksIHNwaGVyZV90b19jb3JuZXIpOwoKICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICByLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgIHIubmkuY29weShyLnJpKTsKICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpOwogICAgICAgIHdvcmxkQ29ybmVyLnZzdWIoeGosIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9IC8vIENoZWNrIHNpZGUgKHBsYW5lKSBpbnRlcnNlY3Rpb25zCgoKICAgIGZvciAobGV0IGkgPSAwLCBuZmFjZXMgPSBmYWNlcy5sZW5ndGg7IGkgIT09IG5mYWNlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGkrKykgewogICAgICBjb25zdCBub3JtYWwgPSBub3JtYWxzW2ldOwogICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2UKCiAgICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsOwogICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2UKCiAgICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBzcGhlcmVDb252ZXhfd29ybGRQb2ludDsKICAgICAgcWoudm11bHQodmVydHNbZmFjZVswXV0sIHdvcmxkUG9pbnQpOwogICAgICB3b3JsZFBvaW50LnZhZGQoeGosIHdvcmxkUG9pbnQpOyAvLyBHZXQgYSBwb2ludCBvbiB0aGUgc3BoZXJlLCBjbG9zZXN0IHRvIHRoZSBmYWNlIG5vcm1hbAoKICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTsKICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7CiAgICAgIHhpLnZhZGQod29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOyAvLyBWZWN0b3IgZnJvbSBhIGZhY2UgcG9pbnQgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHNwaGVyZQoKICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBzcGhlcmVDb252ZXhfcGVuZXRyYXRpb25WZWM7CiAgICAgIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZS52c3ViKHdvcmxkUG9pbnQsIHBlbmV0cmF0aW9uVmVjKTsgLy8gVGhlIHBlbmV0cmF0aW9uLiBOZWdhdGl2ZSB2YWx1ZSBtZWFucyBvdmVybGFwLgoKICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvblZlYy5kb3Qod29ybGROb3JtYWwpOwogICAgICBjb25zdCB3b3JsZFBvaW50VG9TcGhlcmUgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50OwogICAgICB4aS52c3ViKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnRUb1NwaGVyZSk7CgogICAgICBpZiAocGVuZXRyYXRpb24gPCAwICYmIHdvcmxkUG9pbnRUb1NwaGVyZS5kb3Qod29ybGROb3JtYWwpID4gMCkgewogICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uCiAgICAgICAgY29uc3QgZmFjZVZlcnRzID0gW107IC8vIEZhY2UgdmVydGljZXMsIGluIHdvcmxkIGNvb3JkcwoKICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7CiAgICAgICAgICBjb25zdCB3b3JsZFZlcnRleCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2Vbal1dLCB3b3JsZFZlcnRleCk7CiAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgICAgICBmYWNlVmVydHMucHVzaCh3b3JsZFZlcnRleCk7CiAgICAgICAgfQoKICAgICAgICBpZiAocG9pbnRJblBvbHlnb24oZmFjZVZlcnRzLCB3b3JsZE5vcm1hbCwgeGkpKSB7CiAgICAgICAgICAvLyBJcyB0aGUgc3BoZXJlIGNlbnRlciBpbiB0aGUgZmFjZSBwb2x5Z29uPwogICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3QKCiAgICAgICAgICB3b3JsZE5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIE5vcm1hbCBwb2ludGluZyBvdXQgb2Ygc3BoZXJlCgogICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMyID0gdjNwb29sLmdldCgpOwogICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLXBlbmV0cmF0aW9uLCBwZW5ldHJhdGlvblZlYzIpOwogICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25TcGhlcmVQb2ludCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCBwZW5ldHJhdGlvblNwaGVyZVBvaW50KTsgLy94aS52c3ViKHhqKS52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpLnZhZGQocGVuZXRyYXRpb25WZWMyICwgci5yaik7CgogICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7CiAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25TcGhlcmVQb2ludCwgci5yaik7CiAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25WZWMyLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblZlYzIpOwogICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25TcGhlcmVQb2ludCk7CiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzCgogICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBFZGdlPwogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgLy8gR2V0IHR3byB3b3JsZCB0cmFuc2Zvcm1lZCB2ZXJ0aWNlcwogICAgICAgICAgICBjb25zdCB2MSA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbKGogKyAxKSAlIGZhY2UubGVuZ3RoXV0sIHYxKTsKICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDIpICUgZmFjZS5sZW5ndGhdXSwgdjIpOwogICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7CiAgICAgICAgICAgIHhqLnZhZGQodjIsIHYyKTsgLy8gQ29uc3RydWN0IGVkZ2UgdmVjdG9yCgogICAgICAgICAgICBjb25zdCBlZGdlID0gc3BoZXJlQ29udmV4X2VkZ2U7CiAgICAgICAgICAgIHYyLnZzdWIodjEsIGVkZ2UpOyAvLyBDb25zdHJ1Y3QgdGhlIHNhbWUgdmVjdG9yLCBidXQgbm9ybWFsaXplZAoKICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7CiAgICAgICAgICAgIGVkZ2UudW5pdChlZGdlVW5pdCk7IC8vIHAgaXMgeGkgcHJvamVjdGVkIG9udG8gdGhlIGVkZ2UKCiAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIGNvbnN0IHYxX3RvX3hpID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICB4aS52c3ViKHYxLCB2MV90b194aSk7CiAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7CiAgICAgICAgICAgIGVkZ2VVbml0LnNjYWxlKGRvdCwgcCk7CiAgICAgICAgICAgIHAudmFkZCh2MSwgcCk7IC8vIENvbXB1dGUgYSB2ZWN0b3IgZnJvbSBwIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNwaGVyZQoKICAgICAgICAgICAgY29uc3QgeGlfdG9fcCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgcC52c3ViKHhpLCB4aV90b19wKTsgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1cwogICAgICAgICAgICAvLyBBTkQgaWYgcCBpcyBpbiBiZXR3ZWVuIHYxIGFuZCB2MgoKICAgICAgICAgICAgaWYgKGRvdCA+IDAgJiYgZG90ICogZG90IDwgZWRnZS5sZW5ndGhTcXVhcmVkKCkgJiYgeGlfdG9fcC5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXMKICAgICAgICAgICAgICAvLyBFZGdlIGNvbnRhY3QhCiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICAgIHAudnN1Yih4aiwgci5yaik7CiAgICAgICAgICAgICAgcC52c3ViKHhpLCByLm5pKTsKICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHIubmkuc2NhbGUoUiwgci5yaSk7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykgewogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpOwogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHApOwogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgfQogICAgICAgIH0gLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKCiAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7CiAgICAvLyBTaW1wbHkgcmV0dXJuIHRoZSBwb2ludHMgYmVoaW5kIHRoZSBwbGFuZS4KICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gcGxhbmVDb252ZXhfdjsKICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsOwogICAgd29ybGROb3JtYWwuc2V0KDAsIDAsIDEpOwogICAgcGxhbmVRdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgIGxldCBudW1Db250YWN0cyA9IDA7CiAgICBjb25zdCByZWxwb3MgPSBwbGFuZUNvbnZleF9yZWxwb3M7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGNvbnZleFNoYXBlLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIC8vIEdldCB3b3JsZCBjb252ZXggdmVydGV4CiAgICAgIHdvcmxkVmVydGV4LmNvcHkoY29udmV4U2hhcGUudmVydGljZXNbaV0pOwogICAgICBjb252ZXhRdWF0LnZtdWx0KHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgIGNvbnZleFBvc2l0aW9uLnZhZGQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTsKICAgICAgd29ybGRWZXJ0ZXgudnN1YihwbGFuZVBvc2l0aW9uLCByZWxwb3MpOwogICAgICBjb25zdCBkb3QgPSB3b3JsZE5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksIGNvbnZleEJvZHksIHBsYW5lU2hhcGUsIGNvbnZleFNoYXBlLCBzaSwgc2opOyAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZUNvbnZleF9wcm9qZWN0ZWQ7CiAgICAgICAgd29ybGROb3JtYWwuc2NhbGUod29ybGROb3JtYWwuZG90KHJlbHBvcyksIHByb2plY3RlZCk7CiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7CiAgICAgICAgcHJvamVjdGVkLnZzdWIocGxhbmVQb3NpdGlvbiwgci5yaSk7IC8vIEZyb20gcGxhbmUgdG8gdmVydGV4IHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lCiAgICAgICAgLy8gcmogaXMgbm93IGp1c3QgdGhlIHZlY3RvciBmcm9tIHRoZSBjb252ZXggY2VudGVyIHRvIHRoZSB2ZXJ0ZXgKCiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHkKCiAgICAgICAgci5yaS52YWRkKHBsYW5lUG9zaXRpb24sIHIucmkpOwogICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgIHIucmoudmFkZChjb252ZXhQb3NpdGlvbiwgci5yaik7CiAgICAgICAgci5yai52c3ViKGNvbnZleEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgbnVtQ29udGFjdHMrKzsKCiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTsKICAgIH0KICB9CgogIGJveENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIHNwaGVyZUhlaWdodGZpZWxkKHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBzcGhlcmVQb3MsIGhmUG9zLCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhOwogICAgY29uc3QgcmFkaXVzID0gc3BoZXJlU2hhcGUucmFkaXVzOwogICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7CiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhCgogICAgY29uc3QgbG9jYWxTcGhlcmVQb3MgPSBzcGhlcmVIZWlnaHRmaWVsZF90bXAxOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICBsZXQgaU1pblggPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy54IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueCArIHJhZGl1cykgLyB3KSArIDE7CiAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgIGxldCBpTWF4WSA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueSArIHJhZGl1cykgLyB3KSArIDE7IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCiAgICBpZiAoaU1heFggPCAwIHx8IGlNYXhZIDwgMCB8fCBpTWluWCA+IGRhdGEubGVuZ3RoIHx8IGlNaW5ZID4gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwoKCiAgICBpZiAoaU1pblggPCAwKSB7CiAgICAgIGlNaW5YID0gMDsKICAgIH0KCiAgICBpZiAoaU1heFggPCAwKSB7CiAgICAgIGlNYXhYID0gMDsKICAgIH0KCiAgICBpZiAoaU1pblkgPCAwKSB7CiAgICAgIGlNaW5ZID0gMDsKICAgIH0KCiAgICBpZiAoaU1heFkgPCAwKSB7CiAgICAgIGlNYXhZID0gMDsKICAgIH0KCiAgICBpZiAoaU1pblggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7CiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1pblkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICB9CgogICAgY29uc3QgbWluTWF4ID0gW107CiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7CiAgICBjb25zdCBtaW4gPSBtaW5NYXhbMF07CiAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlIGNhbid0IHRvdWNoIHRoZSBib3VuZGluZyBoZWlnaHQgYm94CgogICAgaWYgKGxvY2FsU3BoZXJlUG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxTcGhlcmVQb3MueiArIHJhZGl1cyA8IG1pbikgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoOwogICAgICAgIGxldCBpbnRlcnNlY3RpbmcgPSBmYWxzZTsgLy8gTG93ZXIgdHJpYW5nbGUKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuc3BoZXJlQ29udmV4KHNwaGVyZVNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgc3BoZXJlUG9zLCB3b3JsZFBpbGxhck9mZnNldCwgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBqdXN0VGVzdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IG51bUNvbnRhY3RzID0gcmVzdWx0Lmxlbmd0aCAtIG51bUNvbnRhY3RzQmVmb3JlOwoKICAgICAgICBpZiAobnVtQ29udGFjdHMgPiAyKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8qDQogICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDENCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bUNvbnRhY3RzIC0gMTsgaysrKSB7DQogICAgICAgICAgICAgIHJlc3VsdC5wb3AoKTsNCiAgICAgICAgICB9DQogICAgICAgICovCgogICAgICB9CiAgICB9CiAgfQoKICBib3hIZWlnaHRmaWVsZChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHJldHVybiB0aGlzLmNvbnZleEhlaWdodGZpZWxkKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogIH0KCiAgY29udmV4SGVpZ2h0ZmllbGQoY29udmV4U2hhcGUsIGhmU2hhcGUsIGNvbnZleFBvcywgaGZQb3MsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTsKICAgIGNvbnN0IHJhZGl1cyA9IGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzOwogICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyOwogICAgY29uc3QgZmFjZUxpc3QgPSBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdDsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCEKCiAgICBjb25zdCBsb2NhbENvbnZleFBvcyA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDE7CiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUoaGZQb3MsIGhmUXVhdCwgY29udmV4UG9zLCBsb2NhbENvbnZleFBvcyk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnggLSByYWRpdXMpIC8gdykgLSAxOwogICAgbGV0IGlNYXhYID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy54ICsgcmFkaXVzKSAvIHcpICsgMTsKICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnkgLSByYWRpdXMpIC8gdykgLSAxOwogICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKICAgIGlmIChpTWF4WCA8IDAgfHwgaU1heFkgPCAwIHx8IGlNaW5YID4gZGF0YS5sZW5ndGggfHwgaU1pblkgPiBkYXRhWzBdLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCgoKICAgIGlmIChpTWluWCA8IDApIHsKICAgICAgaU1pblggPSAwOwogICAgfQoKICAgIGlmIChpTWF4WCA8IDApIHsKICAgICAgaU1heFggPSAwOwogICAgfQoKICAgIGlmIChpTWluWSA8IDApIHsKICAgICAgaU1pblkgPSAwOwogICAgfQoKICAgIGlmIChpTWF4WSA8IDApIHsKICAgICAgaU1heFkgPSAwOwogICAgfQoKICAgIGlmIChpTWluWCA+PSBkYXRhLmxlbmd0aCkgewogICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgaU1heFggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNYXhZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWluWSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBjb25zdCBtaW5NYXggPSBbXTsKICAgIGhmU2hhcGUuZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgbWluTWF4KTsKICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTsKICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UncmUgY2FudCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveAoKICAgIGlmIChsb2NhbENvbnZleFBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsQ29udmV4UG9zLnogKyByYWRpdXMgPCBtaW4pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgIGxldCBpbnRlcnNlY3RpbmcgPSBmYWxzZTsgLy8gTG93ZXIgdHJpYW5nbGUKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAvLyBUaGUgbm9ybWFsIGlzIHRoZSB1bml0IHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gcGFydGljbGUgY2VudGVyCiAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVNwaGVyZV9ub3JtYWw7CiAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgeGkudnN1Yih4aiwgbm9ybWFsKTsKICAgIGNvbnN0IGxlbmd0aFNxdWFyZWQgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpOwoKICAgIGlmIChsZW5ndGhTcXVhcmVkIDw9IHNqLnJhZGl1cyAqIHNqLnJhZGl1cykgewogICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgci5yai5jb3B5KG5vcm1hbCk7CiAgICAgIHIucmouc2NhbGUoc2oucmFkaXVzLCByLnJqKTsKICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQoKICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQogIH0KCiAgcGxhbmVQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVQbGFuZV9ub3JtYWw7CiAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgYmoucXVhdGVybmlvbi52bXVsdChub3JtYWwsIG5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgIGNvbnN0IHJlbHBvcyA9IHBhcnRpY2xlUGxhbmVfcmVscG9zOwogICAgeGkudnN1Yihiai5wb3NpdGlvbiwgcmVscG9zKTsKICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTsKCiAgICBpZiAoZG90IDw9IDAuMCkgewogICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsCgogICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQogICAgICAvLyBHZXQgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZDsKICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpOwogICAgICB4aS52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsgLy9wcm9qZWN0ZWQudmFkZChiai5wb3NpdGlvbixwcm9qZWN0ZWQpOwogICAgICAvLyByaiBpcyBub3cgdGhlIHByb2plY3RlZCB3b3JsZCBwb3NpdGlvbiBtaW51cyBwbGFuZSBwb3NpdGlvbgoKICAgICAgci5yai5jb3B5KHByb2plY3RlZCk7CiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgIH0KICB9CgogIGJveFBhcnRpY2xlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgcmV0dXJuIHRoaXMuY29udmV4UGFydGljbGUoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgfQoKICBjb252ZXhQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgbGV0IHBlbmV0cmF0ZWRGYWNlSW5kZXggPSAtMTsKICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7CiAgICBjb25zdCB3b3JsZFBlbmV0cmF0aW9uVmVjID0gY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYzsKICAgIGxldCBtaW5QZW5ldHJhdGlvbiA9IG51bGw7CiAgICBjb25zdCBsb2NhbCA9IGNvbnZleFBhcnRpY2xlX2xvY2FsOwogICAgbG9jYWwuY29weSh4aSk7CiAgICBsb2NhbC52c3ViKHhqLCBsb2NhbCk7IC8vIENvbnZlcnQgcG9zaXRpb24gdG8gcmVsYXRpdmUgdGhlIGNvbnZleCBvcmlnaW4KCiAgICBxai5jb25qdWdhdGUoY3FqKTsKICAgIGNxai52bXVsdChsb2NhbCwgbG9jYWwpOwoKICAgIGlmIChzai5wb2ludElzSW5zaWRlKGxvY2FsKSkgewogICAgICBpZiAoc2oud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlKSB7CiAgICAgICAgc2ouY29tcHV0ZVdvcmxkVmVydGljZXMoeGosIHFqKTsKICAgICAgfQoKICAgICAgaWYgKHNqLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSkgewogICAgICAgIHNqLmNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHFqKTsKICAgICAgfSAvLyBGb3IgZWFjaCB3b3JsZCBwb2x5Z29uIGluIHRoZSBwb2x5aGVkcmEKCgogICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gc2ouZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXM7IGkrKykgewogICAgICAgIC8vIENvbnN0cnVjdCB3b3JsZCBmYWNlIHZlcnRpY2VzCiAgICAgICAgY29uc3QgdmVydHMgPSBbc2oud29ybGRWZXJ0aWNlc1tzai5mYWNlc1tpXVswXV1dOwogICAgICAgIGNvbnN0IG5vcm1hbCA9IHNqLndvcmxkRmFjZU5vcm1hbHNbaV07IC8vIENoZWNrIGhvdyBtdWNoIHRoZSBwYXJ0aWNsZSBwZW5ldHJhdGVzIHRoZSBwb2x5Z29uIHBsYW5lLgoKICAgICAgICB4aS52c3ViKHZlcnRzWzBdLCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTsKICAgICAgICBjb25zdCBwZW5ldHJhdGlvbiA9IC1ub3JtYWwuZG90KGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpOwoKICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgbWluUGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvbjsKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlSW5kZXggPSBpOwogICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuY29weShub3JtYWwpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHBlbmV0cmF0ZWRGYWNlSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8gU2V0dXAgY29udGFjdAogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLnNjYWxlKG1pblBlbmV0cmF0aW9uLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy8gcmogaXMgdGhlIHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZmFjZQoKICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZhZGQoeGksIHdvcmxkUGVuZXRyYXRpb25WZWMpOwogICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudnN1Yih4aiwgd29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgLy9wcm9qZWN0ZWRUb0ZhY2UuY29weShyLnJqKTsKICAgICAgICAvL3FqLnZtdWx0KHIucmosci5yaik7CgogICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQoKICAgICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS53YXJuKCdQb2ludCBmb3VuZCBpbnNpZGUgY29udmV4LCBidXQgZGlkIG5vdCBmaW5kIHBlbmV0cmF0aW5nIGZhY2UhJyk7CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZVRyaW1lc2goc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgc3BoZXJlUG9zLCB0cmltZXNoUG9zLCBzcGhlcmVRdWF0LCB0cmltZXNoUXVhdCwgc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgZWRnZVZlcnRleEEgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBOwogICAgY29uc3QgZWRnZVZlcnRleEIgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCOwogICAgY29uc3QgZWRnZVZlY3RvciA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvcjsKICAgIGNvbnN0IGVkZ2VWZWN0b3JVbml0ID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdDsKICAgIGNvbnN0IGxvY2FsU3BoZXJlUG9zID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvczsKICAgIGNvbnN0IHRtcCA9IHNwaGVyZVRyaW1lc2hfdG1wOwogICAgY29uc3QgbG9jYWxTcGhlcmVBQUJCID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkI7CiAgICBjb25zdCB2MiA9IHNwaGVyZVRyaW1lc2hfdjI7CiAgICBjb25zdCByZWxwb3MgPSBzcGhlcmVUcmltZXNoX3JlbHBvczsKICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzOyAvLyBDb252ZXJ0IHNwaGVyZSBwb3NpdGlvbiB0byBsb2NhbCBpbiB0aGUgdHJpbWVzaAoKICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgc3BoZXJlUG9zLCBsb2NhbFNwaGVyZVBvcyk7IC8vIEdldCB0aGUgYWFiYiBvZiB0aGUgc3BoZXJlIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2gKCiAgICBjb25zdCBzcGhlcmVSYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7CiAgICBsb2NhbFNwaGVyZUFBQkIubG93ZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiAtIHNwaGVyZVJhZGl1cyk7CiAgICBsb2NhbFNwaGVyZUFBQkIudXBwZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiArIHNwaGVyZVJhZGl1cyk7CiAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVzSW5BQUJCKGxvY2FsU3BoZXJlQUFCQiwgdHJpYW5nbGVzKTsgLy9mb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgdHJpYW5nbGVzLnB1c2goaSk7IC8vIEFsbAogICAgLy8gVmVydGljZXMKCiAgICBjb25zdCB2ID0gc3BoZXJlVHJpbWVzaF92OwogICAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHNwaGVyZVNoYXBlLnJhZGl1cyAqIHNwaGVyZVNoYXBlLnJhZGl1czsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlCgogICAgICAgIHYudnN1Yihsb2NhbFNwaGVyZVBvcywgcmVscG9zKTsKCiAgICAgICAgaWYgKHJlbHBvcy5sZW5ndGhTcXVhcmVkKCkgPD0gcmFkaXVzU3F1YXJlZCkgewogICAgICAgICAgLy8gU2FmZSB1cAogICAgICAgICAgdjIuY29weSh2KTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOwogICAgICAgICAgdi52c3ViKHNwaGVyZVBvcywgcmVscG9zKTsKCiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgci5uaS5jb3B5KHJlbHBvcyk7CiAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyByaSBpcyB0aGUgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byB0aGUgc3BoZXJlIHN1cmZhY2UKCiAgICAgICAgICByLnJpLmNvcHkoci5uaSk7CiAgICAgICAgICByLnJpLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHIucmouY29weSh2KTsKICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIENoZWNrIGFsbCBlZGdlcwoKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCBlZGdlVmVydGV4QSk7CiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgKGogKyAxKSAlIDNdLCBlZGdlVmVydGV4Qik7CiAgICAgICAgZWRnZVZlcnRleEIudnN1YihlZGdlVmVydGV4QSwgZWRnZVZlY3Rvcik7IC8vIFByb2plY3Qgc3BoZXJlIHBvc2l0aW9uIHRvIHRoZSBlZGdlCgogICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEIsIHRtcCk7CiAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApOwogICAgICAgIGxldCBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3IpOwoKICAgICAgICBpZiAocG9zaXRpb25BbG9uZ0VkZ2VBID4gMCAmJiBwb3NpdGlvbkFsb25nRWRnZUIgPCAwKSB7CiAgICAgICAgICAvLyBOb3cgY2hlY2sgdGhlIG9ydGhvZ29uYWwgZGlzdGFuY2UgZnJvbSBlZGdlIHRvIHNwaGVyZSBjZW50ZXIKICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7CiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5jb3B5KGVkZ2VWZWN0b3IpOwogICAgICAgICAgZWRnZVZlY3RvclVuaXQubm9ybWFsaXplKCk7CiAgICAgICAgICBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3JVbml0KTsKICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LnNjYWxlKHBvc2l0aW9uQWxvbmdFZGdlQSwgdG1wKTsKICAgICAgICAgIHRtcC52YWRkKGVkZ2VWZXJ0ZXhBLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgY2VudGVyIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZWRnZSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSB0cmltZXNoIGZyYW1lCgogICAgICAgICAgY29uc3QgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTsKCiAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTsKICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpOwogICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTsKICAgICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7CiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gVHJpYW5nbGUgZmFjZXMKCgogICAgY29uc3QgdmEgPSBzcGhlcmVUcmltZXNoX3ZhOwogICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiOwogICAgY29uc3QgdmMgPSBzcGhlcmVUcmltZXNoX3ZjOwogICAgY29uc3Qgbm9ybWFsID0gc3BoZXJlVHJpbWVzaF9ub3JtYWw7CgogICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyBpICE9PSBOOyBpKyspIHsKICAgICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlVmVydGljZXModHJpYW5nbGVzW2ldLCB2YSwgdmIsIHZjKTsKICAgICAgdHJpbWVzaFNoYXBlLmdldE5vcm1hbCh0cmlhbmdsZXNbaV0sIG5vcm1hbCk7CiAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodmEsIHRtcCk7CiAgICAgIGxldCBkaXN0ID0gdG1wLmRvdChub3JtYWwpOwogICAgICBub3JtYWwuc2NhbGUoZGlzdCwgdG1wKTsKICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih0bXAsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIHRyaWFuZ2xlIHBsYW5lCgogICAgICBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpOwoKICAgICAgaWYgKFJheS5wb2ludEluVHJpYW5nbGUodG1wLCB2YSwgdmIsIHZjKSAmJiBkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGxldCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7CiAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7CiAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsKICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgfQogICAgfQoKICAgIHRyaWFuZ2xlcy5sZW5ndGggPSAwOwogIH0KCiAgcGxhbmVUcmltZXNoKHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcGxhbmVQb3MsIHRyaW1lc2hQb3MsIHBsYW5lUXVhdCwgdHJpbWVzaFF1YXQsIHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgLy8gTWFrZSBjb250YWN0cyEKICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgbm9ybWFsID0gcGxhbmVUcmltZXNoX25vcm1hbDsKICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS52ZXJ0aWNlcy5sZW5ndGggLyAzOyBpKyspIHsKICAgICAgLy8gR2V0IHdvcmxkIHZlcnRleCBmcm9tIHRyaW1lc2gKICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleChpLCB2KTsgLy8gU2FmZSB1cAoKICAgICAgY29uc3QgdjIgPSBuZXcgVmVjMygpOwogICAgICB2Mi5jb3B5KHYpOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsgLy8gQ2hlY2sgcGxhbmUgc2lkZQoKICAgICAgY29uc3QgcmVscG9zID0gcGxhbmVUcmltZXNoX3JlbHBvczsKICAgICAgdi52c3ViKHBsYW5lUG9zLCByZWxwb3MpOwogICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7CgogICAgICBpZiAoZG90IDw9IDAuMCkgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKICAgICAgICAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZVRyaW1lc2hfcHJvamVjdGVkOwogICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7CiAgICAgICAgdi52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsgLy8gcmkgaXMgdGhlIHByb2plY3RlZCB3b3JsZCBwb3NpdGlvbiBtaW51cyBwbGFuZSBwb3NpdGlvbgoKICAgICAgICByLnJpLmNvcHkocHJvamVjdGVkKTsKICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICByLnJqLmNvcHkodik7CiAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0CgogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9CiAgICB9CiAgfSAvLyBjb252ZXhUcmltZXNoKAogIC8vICAgc2k6IENvbnZleFBvbHloZWRyb24sIHNqOiBUcmltZXNoLCB4aTogVmVjMywgeGo6IFZlYzMsIHFpOiBRdWF0ZXJuaW9uLCBxajogUXVhdGVybmlvbiwKICAvLyAgIGJpOiBCb2R5LCBiajogQm9keSwgcnNpPzogU2hhcGUgfCBudWxsLCByc2o/OiBTaGFwZSB8IG51bGwsCiAgLy8gICBmYWNlTGlzdEE/OiBudW1iZXJbXSB8IG51bGwsIGZhY2VMaXN0Qj86IG51bWJlcltdIHwgbnVsbCwKICAvLyApIHsKICAvLyAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKICAvLyAgIGlmKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cyl7CiAgLy8gICAgICAgcmV0dXJuOwogIC8vICAgfQogIC8vICAgLy8gQ29uc3RydWN0IGEgdGVtcCBodWxsIGZvciBlYWNoIHRyaWFuZ2xlCiAgLy8gICBjb25zdCBodWxsQiA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgLy8gICBodWxsQi5mYWNlcyA9IFtbMCwxLDJdXTsKICAvLyAgIGNvbnN0IHZhID0gbmV3IFZlYzMoKTsKICAvLyAgIGNvbnN0IHZiID0gbmV3IFZlYzMoKTsKICAvLyAgIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICAvLyAgIGh1bGxCLnZlcnRpY2VzID0gWwogIC8vICAgICAgIHZhLAogIC8vICAgICAgIHZiLAogIC8vICAgICAgIHZjCiAgLy8gICBdOwogIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzai5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogIC8vICAgICAgIGNvbnN0IHRyaWFuZ2xlTm9ybWFsID0gbmV3IFZlYzMoKTsKICAvLyAgICAgICBzai5nZXROb3JtYWwoaSwgdHJpYW5nbGVOb3JtYWwpOwogIC8vICAgICAgIGh1bGxCLmZhY2VOb3JtYWxzID0gW3RyaWFuZ2xlTm9ybWFsXTsKICAvLyAgICAgICBzai5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIHZhLCB2YiwgdmMpOwogIC8vICAgICAgIGxldCBkID0gc2kudGVzdFNlcEF4aXModHJpYW5nbGVOb3JtYWwsIGh1bGxCLCB4aSwgcWksIHhqLCBxaik7CiAgLy8gICAgICAgaWYoIWQpewogIC8vICAgICAgICAgICB0cmlhbmdsZU5vcm1hbC5zY2FsZSgtMSwgdHJpYW5nbGVOb3JtYWwpOwogIC8vICAgICAgICAgICBkID0gc2kudGVzdFNlcEF4aXModHJpYW5nbGVOb3JtYWwsIGh1bGxCLCB4aSwgcWksIHhqLCBxaik7CiAgLy8gICAgICAgICAgIGlmKCFkKXsKICAvLyAgICAgICAgICAgICAgIGNvbnRpbnVlOwogIC8vICAgICAgICAgICB9CiAgLy8gICAgICAgfQogIC8vICAgICAgIGNvbnN0IHJlczogQ29udmV4UG9seWhlZHJvbkNvbnRhY3RQb2ludFtdID0gW107CiAgLy8gICAgICAgY29uc3QgcSA9IGNvbnZleENvbnZleF9xOwogIC8vICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSxxaSxodWxsQix4aixxaix0cmlhbmdsZU5vcm1hbCwtMTAwLDEwMCxyZXMpOwogIC8vICAgICAgIGZvcihsZXQgaiA9IDA7IGogIT09IHJlcy5sZW5ndGg7IGorKyl7CiAgLy8gICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSxiaixzaSxzaixyc2kscnNqKSwKICAvLyAgICAgICAgICAgICAgIHJpID0gci5yaSwKICAvLyAgICAgICAgICAgICAgIHJqID0gci5yajsKICAvLyAgICAgICAgICAgci5uaS5jb3B5KHRyaWFuZ2xlTm9ybWFsKTsKICAvLyAgICAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgLy8gICAgICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpOwogIC8vICAgICAgICAgICBxLm11bHQocmVzW2pdLmRlcHRoLCBxKTsKICAvLyAgICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogIC8vICAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7CiAgLy8gICAgICAgICAgIC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmUKICAvLyAgICAgICAgICAgcmkudnN1Yih4aSxyaSk7CiAgLy8gICAgICAgICAgIHJqLnZzdWIoeGoscmopOwogIC8vICAgICAgICAgICAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwogIC8vICAgICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgLy8gICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAvLyAgICAgICAgICAgcmoudmFkZCh4aiwgcmopOwogIC8vICAgICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgLy8gICAgICAgICAgIHJlc3VsdC5wdXNoKHIpOwogIC8vICAgICAgIH0KICAvLyAgIH0KICAvLyB9CgoKfQoKY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGF2ZXJhZ2VDb250YWN0UG9pbnRBID0gbmV3IFZlYzMoKTsKY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEIgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWMyJDIgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBRdWF0MSA9IG5ldyBRdWF0ZXJuaW9uKCk7CmNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEJveDsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveENvbnZleDsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94UGFydGljbGU7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlU3BoZXJlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVTcGhlcmU7CmNvbnN0IHBsYW5lVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVUcmltZXNoX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVUcmltZXNoXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZVRyaW1lc2g7CmNvbnN0IHNwaGVyZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3YgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3YyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0ID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvcyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdG1wID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF92YSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdmIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3ZjID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCBzcGhlcmVUcmltZXNoX3RyaWFuZ2xlcyA9IFtdOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVRyaW1lc2g7CmNvbnN0IHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lX3RvX3NwaGVyZV9vcnRobyA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGxhbmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBsYW5lOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbAoKY29uc3QgcG9pbnRJblBvbHlnb25fZWRnZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpOwoKZnVuY3Rpb24gcG9pbnRJblBvbHlnb24odmVydHMsIG5vcm1hbCwgcCkgewogIGxldCBwb3NpdGl2ZVJlc3VsdCA9IG51bGw7CiAgY29uc3QgTiA9IHZlcnRzLmxlbmd0aDsKCiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgY29uc3QgdiA9IHZlcnRzW2ldOyAvLyBHZXQgZWRnZSB0byB0aGUgbmV4dCB2ZXJ0ZXgKCiAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTsKICAgIHZlcnRzWyhpICsgMSkgJSBOXS52c3ViKHYsIGVkZ2UpOyAvLyBHZXQgY3Jvc3MgcHJvZHVjdCBiZXR3ZWVuIHBvbHlnb24gbm9ybWFsIGFuZCB0aGUgZWRnZQoKICAgIGNvbnN0IGVkZ2VfeF9ub3JtYWwgPSBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsOyAvL2NvbnN0IGVkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpOwoKICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleAoKICAgIGNvbnN0IHZlcnRleF90b19wID0gcG9pbnRJblBvbHlnb25fdnRwOwogICAgcC52c3ViKHYsIHZlcnRleF90b19wKTsgLy8gVGhpcyBkb3QgcHJvZHVjdCBkZXRlcm1pbmVzIHdoaWNoIHNpZGUgb2YgdGhlIGVkZ2UgdGhlIHBvaW50IGlzCgogICAgY29uc3QgciA9IGVkZ2VfeF9ub3JtYWwuZG90KHZlcnRleF90b19wKTsgLy8gSWYgYWxsIHN1Y2ggZG90IHByb2R1Y3RzIGhhdmUgc2FtZSBzaWduLCB3ZSBhcmUgaW5zaWRlIHRoZSBwb2x5Z29uLgoKICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCB8fCByID4gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gdHJ1ZSB8fCByIDw9IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCkgewogICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7CiAgICAgIH0KCiAgICAgIGNvbnRpbnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOyAvLyBFbmNvdW50ZXJlZCBzb21lIG90aGVyIHNpZ24uIEV4aXQuCiAgICB9CiAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICByZXR1cm4gdHJ1ZTsKfQoKY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9ucyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9uczEgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwpjb25zdCBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lciA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMxID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMyID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDsKY29uc3QgY29udmV4X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3NwaGVyZVRvQ29ybmVyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkUG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVDb252ZXg7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94Owpjb25zdCBwbGFuZUNvbnZleF92ID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVDb252ZXhfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVDb252ZXhfcHJvamVjdGVkID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVDb252ZXg7CmNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4Q29udmV4X3EgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4OyAvLyBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFRyaW1lc2gKCmNvbnN0IHBhcnRpY2xlUGxhbmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgcGFydGljbGVQbGFuZV9yZWxwb3MgPSBuZXcgVmVjMygpOwpjb25zdCBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVQYXJ0aWNsZTsKY29uc3QgcGFydGljbGVTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGFydGljbGU7IC8vIFdJUAoKY29uc3QgY3FqID0gbmV3IFF1YXRlcm5pb24oKTsKY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhQYXJ0aWNsZV9wZW5ldHJhdGVkRmFjZU5vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4UGFydGljbGU7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94SGVpZ2h0ZmllbGRdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEhlaWdodGZpZWxkOwpjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfdG1wMiA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0ID0gWzBdOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDsKY29uc3Qgc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDsKLyoqDQogKiBAY2xhc3MgT3ZlcmxhcEtlZXBlcg0KICogQGNvbnN0cnVjdG9yDQogKi8KCmNsYXNzIE92ZXJsYXBLZWVwZXIgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5jdXJyZW50ID0gW107CiAgICB0aGlzLnByZXZpb3VzID0gW107CiAgfQoKICBnZXRLZXkoaSwgaikgewogICAgaWYgKGogPCBpKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgcmV0dXJuIGkgPDwgMTYgfCBqOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGkNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGoNCiAgICovCgoKICBzZXQoaSwgaikgewogICAgLy8gSW5zZXJ0aW9uIHNvcnQuIFRoaXMgd2F5IHRoZSBkaWZmIHdpbGwgaGF2ZSBsaW5lYXIgY29tcGxleGl0eS4KICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KGksIGopOwogICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDsKICAgIGxldCBpbmRleCA9IDA7CgogICAgd2hpbGUgKGtleSA+IGN1cnJlbnRbaW5kZXhdKSB7CiAgICAgIGluZGV4Kys7CiAgICB9CgogICAgaWYgKGtleSA9PT0gY3VycmVudFtpbmRleF0pIHsKICAgICAgcmV0dXJuOyAvLyBQYWlyIHdhcyBhbHJlYWR5IGFkZGVkCiAgICB9CgogICAgZm9yIChsZXQgaiA9IGN1cnJlbnQubGVuZ3RoIC0gMTsgaiA+PSBpbmRleDsgai0tKSB7CiAgICAgIGN1cnJlbnRbaiArIDFdID0gY3VycmVudFtqXTsKICAgIH0KCiAgICBjdXJyZW50W2luZGV4XSA9IGtleTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgdGljaw0KICAgKi8KCgogIHRpY2soKSB7CiAgICBjb25zdCB0bXAgPSB0aGlzLmN1cnJlbnQ7CiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnByZXZpb3VzOwogICAgdGhpcy5wcmV2aW91cyA9IHRtcDsKICAgIHRoaXMuY3VycmVudC5sZW5ndGggPSAwOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBnZXREaWZmDQogICAqIEBwYXJhbSAge2FycmF5fSBhZGRpdGlvbnMNCiAgICogQHBhcmFtICB7YXJyYXl9IHJlbW92YWxzDQogICAqLwoKCiAgZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKSB7CiAgICBjb25zdCBhID0gdGhpcy5jdXJyZW50OwogICAgY29uc3QgYiA9IHRoaXMucHJldmlvdXM7CiAgICBjb25zdCBhbCA9IGEubGVuZ3RoOwogICAgY29uc3QgYmwgPSBiLmxlbmd0aDsKICAgIGxldCBqID0gMDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsOyBpKyspIHsKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgIGNvbnN0IGtleUEgPSBhW2ldOwoKICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7CiAgICAgICAgaisrOwogICAgICB9CgogICAgICBmb3VuZCA9IGtleUEgPT09IGJbal07CgogICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgdW5wYWNrQW5kUHVzaChhZGRpdGlvbnMsIGtleUEpOwogICAgICB9CiAgICB9CgogICAgaiA9IDA7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibDsgaSsrKSB7CiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICBjb25zdCBrZXlCID0gYltpXTsKCiAgICAgIHdoaWxlIChrZXlCID4gYVtqXSkgewogICAgICAgIGorKzsKICAgICAgfQoKICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCOwoKICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgIHVucGFja0FuZFB1c2gocmVtb3ZhbHMsIGtleUIpOwogICAgICB9CiAgICB9CiAgfQoKfQoKZnVuY3Rpb24gdW5wYWNrQW5kUHVzaChhcnJheSwga2V5KSB7CiAgYXJyYXkucHVzaCgoa2V5ICYgMHhmZmZmMDAwMCkgPj4gMTYsIGtleSAmIDB4MDAwMGZmZmYpOwp9Ci8qKg0KICogQGNsYXNzIFR1cGxlRGljdGlvbmFyeQ0KICogQGNvbnN0cnVjdG9yDQogKi8KCgpjbGFzcyBUdXBsZURpY3Rpb25hcnkgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5kYXRhID0gewogICAgICBrZXlzOiBbXQogICAgfTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgZ2V0DQogICAqIEBwYXJhbSAge051bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGoNCiAgICogQHJldHVybiB7T2JqZWN0fQ0KICAgKi8KCgogIGdldChpLCBqKSB7CiAgICBpZiAoaSA+IGopIHsKICAgICAgLy8gc3dhcAogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIHJldHVybiB0aGlzLmRhdGFbaSArICItIiArIGpdOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtICB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSAge051bWJlcn0gag0KICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUNCiAgICovCgoKICBzZXQoaSwgaiwgdmFsdWUpIHsKICAgIGlmIChpID4gaikgewogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIGNvbnN0IGtleSA9IGkgKyAiLSIgKyBqOyAvLyBDaGVjayBpZiBrZXkgYWxyZWFkeSBleGlzdHMKCiAgICBpZiAoIXRoaXMuZ2V0KGksIGopKSB7CiAgICAgIHRoaXMuZGF0YS5rZXlzLnB1c2goa2V5KTsKICAgIH0KCiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCByZXNldA0KICAgKi8KCgogIHJlc2V0KCkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGtleXMgPSBkYXRhLmtleXM7CgogICAgd2hpbGUgKGtleXMubGVuZ3RoID4gMCkgewogICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpOwogICAgICBkZWxldGUgZGF0YVtrZXldOwogICAgfQogIH0KCn0KLyoqDQogKiBUaGUgcGh5c2ljcyB3b3JsZA0KICogQGNsYXNzIFdvcmxkDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0DQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmdyYXZpdHldDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFsbG93U2xlZXBdDQogKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdDQogKiBAcGFyYW0ge1NvbHZlcn0gW29wdGlvbnMuc29sdmVyXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF0NCiAqLwoKCmNsYXNzIFdvcmxkIGV4dGVuZHMgRXZlbnRUYXJnZXQgewogIC8vIEN1cnJlbnRseSAvIGxhc3QgdXNlZCB0aW1lc3RlcC4gSXMgc2V0IHRvIC0xIGlmIG5vdCBhdmFpbGFibGUuIFRoaXMgdmFsdWUgaXMgdXBkYXRlZCBiZWZvcmUgZWFjaCBpbnRlcm5hbCBzdGVwLCB3aGljaCBtZWFucyB0aGF0IGl0IGlzICJmcmVzaCIgaW5zaWRlIGV2ZW50IGNhbGxiYWNrcy4KICAvLyBNYWtlcyBib2RpZXMgZ28gdG8gc2xlZXAgd2hlbiB0aGV5J3ZlIGJlZW4gaW5hY3RpdmUuCiAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuCiAgLy8gSG93IG9mdGVuIHRvIG5vcm1hbGl6ZSBxdWF0ZXJuaW9ucy4gU2V0IHRvIDAgZm9yIGV2ZXJ5IHN0ZXAsIDEgZm9yIGV2ZXJ5IHNlY29uZCBldGMuLiBBIGxhcmdlciB2YWx1ZSBpbmNyZWFzZXMgcGVyZm9ybWFuY2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBhIHNtYWxsZXIgdmFsdWUgKHplcm8gdG8gYmUgc3VyZSBub3RoaW5nIGNhbiBnbyB3cm9uZykuCiAgLy8gU2V0IHRvIHRydWUgdG8gdXNlIGZhc3QgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBJdCBpcyBvZnRlbiBlbm91Z2ggYWNjdXJhdGUgdG8gdXNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gZmFsc2UuCiAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LgogIC8vIE51bWJlciBvZiB0aW1lc3RlcHMgdGFrZW4gc2luY2Ugc3RhcnQuCiAgLy8gRGVmYXVsdCBhbmQgbGFzdCB0aW1lc3RlcCBzaXplcy4KICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS4KICAvLyBBbGwgYm9kaWVzIGluIHRoaXMgd29ybGQKICAvLyBUcnVlIGlmIGFueSBib2RpZXMgYXJlIG5vdCBzbGVlcGluZywgZmFsc2UgaWYgZXZlcnkgYm9keSBpcyBzbGVlcGluZy4KICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuCiAgLy8gQ29sbGlzaW9uTWF0cml4IGZyb20gdGhlIHByZXZpb3VzIHN0ZXAuCiAgLy8gQWxsIGFkZGVkIG1hdGVyaWFscy4KICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC4KICAvLyBUaGlzIGNvbnRhY3QgbWF0ZXJpYWwgaXMgdXNlZCBpZiBubyBzdWl0YWJsZSBjb250YWN0bWF0ZXJpYWwgaXMgZm91bmQgZm9yIGEgY29udGFjdC4KICAvLyBUaW1lIGFjY3VtdWxhdG9yIGZvciBpbnRlcnBvbGF0aW9uLiBTZWUgaHR0cDovL2dhZmZlcm9uZ2FtZXMuY29tL2dhbWUtcGh5c2ljcy9maXgteW91ci10aW1lc3RlcC8KICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuCiAgLy8gRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSB3b3JsZC4KICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLmR0ID0gLTE7CiAgICB0aGlzLmFsbG93U2xlZXAgPSAhIW9wdGlvbnMuYWxsb3dTbGVlcDsKICAgIHRoaXMuY29udGFjdHMgPSBbXTsKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMgPSBbXTsKICAgIHRoaXMucXVhdE5vcm1hbGl6ZVNraXAgPSBvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwIDogMDsKICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7CiAgICB0aGlzLnRpbWUgPSAwLjA7CiAgICB0aGlzLnN0ZXBudW1iZXIgPSAwOwogICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwOwogICAgdGhpcy5uZXh0SWQgPSAwOwogICAgdGhpcy5ncmF2aXR5ID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5ncmF2aXR5KSB7CiAgICAgIHRoaXMuZ3Jhdml0eS5jb3B5KG9wdGlvbnMuZ3Jhdml0eSk7CiAgICB9CgogICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJyb2FkcGhhc2UgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7CiAgICB0aGlzLmJvZGllcyA9IFtdOwogICAgdGhpcy5oYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTsKICAgIHRoaXMuc29sdmVyID0gb3B0aW9ucy5zb2x2ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc29sdmVyIDogbmV3IEdTU29sdmVyKCk7CiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107CiAgICB0aGlzLm5hcnJvd3BoYXNlID0gbmV3IE5hcnJvd3BoYXNlKHRoaXMpOwogICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgdGhpcy5tYXRlcmlhbHMgPSBbXTsKICAgIHRoaXMuY29udGFjdG1hdGVyaWFscyA9IFtdOwogICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTsKICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCdkZWZhdWx0Jyk7CiAgICB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgPSBuZXcgQ29udGFjdE1hdGVyaWFsKHRoaXMuZGVmYXVsdE1hdGVyaWFsLCB0aGlzLmRlZmF1bHRNYXRlcmlhbCwgewogICAgICBmcmljdGlvbjogMC4zLAogICAgICByZXN0aXR1dGlvbjogMC4wCiAgICB9KTsKICAgIHRoaXMuZG9Qcm9maWxpbmcgPSBmYWxzZTsKICAgIHRoaXMucHJvZmlsZSA9IHsKICAgICAgc29sdmU6IDAsCiAgICAgIG1ha2VDb250YWN0Q29uc3RyYWludHM6IDAsCiAgICAgIGJyb2FkcGhhc2U6IDAsCiAgICAgIGludGVncmF0ZTogMCwKICAgICAgbmFycm93cGhhc2U6IDAKICAgIH07CiAgICB0aGlzLmFjY3VtdWxhdG9yID0gMDsKICAgIHRoaXMuc3Vic3lzdGVtcyA9IFtdOwogICAgdGhpcy5hZGRCb2R5RXZlbnQgPSB7CiAgICAgIHR5cGU6ICdhZGRCb2R5JywKICAgICAgYm9keTogbnVsbAogICAgfTsKICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50ID0gewogICAgICB0eXBlOiAncmVtb3ZlQm9keScsCiAgICAgIGJvZHk6IG51bGwKICAgIH07CiAgICB0aGlzLmlkVG9Cb2R5TWFwID0ge307CiAgICB0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGNvbnRhY3QgbWF0ZXJpYWwgYmV0d2VlbiBtYXRlcmlhbHMgbTEgYW5kIG0yDQogICAqIEBtZXRob2QgZ2V0Q29udGFjdE1hdGVyaWFsDQogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xDQogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0yDQogICAqIEByZXR1cm4ge0NvbnRhY3RNYXRlcmlhbH0gVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWYgaXQgd2FzIGZvdW5kLg0KICAgKi8KCgogIGdldENvbnRhY3RNYXRlcmlhbChtMSwgbTIpIHsKICAgIHJldHVybiB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLmdldChtMS5pZCwgbTIuaWQpOwogIH0KICAvKioNCiAgICogR2V0IG51bWJlciBvZiBvYmplY3RzIGluIHRoZSB3b3JsZC4NCiAgICogQG1ldGhvZCBudW1PYmplY3RzDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICogQGRlcHJlY2F0ZWQNCiAgICovCgoKICBudW1PYmplY3RzKCkgewogICAgcmV0dXJuIHRoaXMuYm9kaWVzLmxlbmd0aDsKICB9CiAgLyoqDQogICAqIFN0b3JlIG9sZCBjb2xsaXNpb24gc3RhdGUgaW5mbw0KICAgKiBAbWV0aG9kIGNvbGxpc2lvbk1hdHJpeFRpY2sNCiAgICovCgoKICBjb2xsaXNpb25NYXRyaXhUaWNrKCkgewogICAgY29uc3QgdGVtcCA9IHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXM7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gdGhpcy5jb2xsaXNpb25NYXRyaXg7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IHRlbXA7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5yZXNldCgpOwogICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci50aWNrKCk7CiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci50aWNrKCk7CiAgfQogIC8qKg0KICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBzaW11bGF0aW9uLg0KICAgKiBAbWV0aG9kIGFkZENvbnN0cmFpbnQNCiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjDQogICAqLwoKCiAgYWRkQ29uc3RyYWludChjKSB7CiAgICB0aGlzLmNvbnN0cmFpbnRzLnB1c2goYyk7CiAgfQogIC8qKg0KICAgKiBSZW1vdmVzIGEgY29uc3RyYWludA0KICAgKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnQNCiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjDQogICAqLwoKCiAgcmVtb3ZlQ29uc3RyYWludChjKSB7CiAgICBjb25zdCBpZHggPSB0aGlzLmNvbnN0cmFpbnRzLmluZGV4T2YoYyk7CgogICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgdGhpcy5jb25zdHJhaW50cy5zcGxpY2UoaWR4LCAxKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFJheWNhc3QgdGVzdA0KICAgKiBAbWV0aG9kIHJheVRlc3QNCiAgICogQHBhcmFtIHtWZWMzfSBmcm9tDQogICAqIEBwYXJhbSB7VmVjM30gdG8NCiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSByZXN1bHQNCiAgICogQGRlcHJlY2F0ZWQgVXNlIC5yYXljYXN0QWxsLCAucmF5Y2FzdENsb3Nlc3Qgb3IgLnJheWNhc3RBbnkgaW5zdGVhZC4NCiAgICovCgoKICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHsKICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSYXljYXN0UmVzdWx0KSB7CiAgICAgIC8vIERvIHJheWNhc3RDbG9zZXN0CiAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHsKICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlCiAgICAgIH0sIHJlc3VsdCk7CiAgICB9IGVsc2UgewogICAgICAvLyBEbyByYXljYXN0QWxsCiAgICAgIHRoaXMucmF5Y2FzdEFsbChmcm9tLCB0bywgewogICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgfSwgcmVzdWx0KTsKICAgIH0KICB9CiAgLyoqDQogICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC4NCiAgICogQG1ldGhvZCByYXljYXN0QWxsDQogICAqIEBwYXJhbSAge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtICB7VmVjM30gdG8NCiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sNCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0Lg0KICAgKi8KCgogIHJheWNhc3RBbGwoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgY2FsbGJhY2spIHsKICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTEw7CiAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgb3B0aW9ucy50byA9IHRvOwogICAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogIH0KICAvKioNCiAgICogUmF5IGNhc3QsIGFuZCBzdG9wIGF0IHRoZSBmaXJzdCByZXN1bHQuIE5vdGUgdGhhdCB0aGUgb3JkZXIgaXMgcmFuZG9tIC0gYnV0IHRoZSBtZXRob2QgaXMgZmFzdC4NCiAgICogQG1ldGhvZCByYXljYXN0QW55DQogICAqIEBwYXJhbSAge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtICB7VmVjM30gdG8NCiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICAgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHQNCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0Lg0KICAgKi8KCgogIHJheWNhc3RBbnkoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgcmVzdWx0KSB7CiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQU5ZOwogICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgIG9wdGlvbnMudG8gPSB0bzsKICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0OwogICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogIH0KICAvKioNCiAgICogUmF5IGNhc3QsIGFuZCByZXR1cm4gaW5mb3JtYXRpb24gb2YgdGhlIGNsb3Nlc3QgaGl0Lg0KICAgKiBAbWV0aG9kIHJheWNhc3RDbG9zZXN0DQogICAqIEBwYXJhbSAge1ZlYzN9IGZyb20NCiAgICogQHBhcmFtICB7VmVjM30gdG8NCiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0NCiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0NCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQ0KICAgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHQNCiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0Lg0KICAgKi8KCgogIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkgewogICAgb3B0aW9ucy5tb2RlID0gUmF5LkNMT1NFU1Q7CiAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgb3B0aW9ucy50byA9IHRvOwogICAgb3B0aW9ucy5yZXN1bHQgPSByZXN1bHQ7CiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7CiAgfQogIC8qKg0KICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLg0KICAgKiBAbWV0aG9kIGFkZA0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLg0KICAgKiBAdG9kbyBBZGRpbmcgYW4gYXJyYXkgb2YgYm9kaWVzIHNob3VsZCBiZSBwb3NzaWJsZS4gVGhpcyB3b3VsZCBzYXZlIHNvbWUgbG9vcHMgdG9vDQogICAqLwoKCiAgYWRkQm9keShib2R5KSB7CiAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7CiAgICB0aGlzLmJvZGllcy5wdXNoKGJvZHkpOwogICAgYm9keS53b3JsZCA9IHRoaXM7CiAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pOwogICAgYm9keS5pbml0VmVsb2NpdHkuY29weShib2R5LnZlbG9jaXR5KTsKICAgIGJvZHkudGltZUxhc3RTbGVlcHkgPSB0aGlzLnRpbWU7CgogICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBCb2R5KSB7CiAgICAgIGJvZHkuaW5pdEFuZ3VsYXJWZWxvY2l0eS5jb3B5KGJvZHkuYW5ndWxhclZlbG9jaXR5KTsKICAgICAgYm9keS5pbml0UXVhdGVybmlvbi5jb3B5KGJvZHkucXVhdGVybmlvbik7CiAgICB9CgogICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyh0aGlzLmJvZGllcy5sZW5ndGgpOwogICAgdGhpcy5hZGRCb2R5RXZlbnQuYm9keSA9IGJvZHk7CiAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTsKICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmFkZEJvZHlFdmVudCk7CiAgfQogIC8qKg0KICAgKiBSZW1vdmUgYSByaWdpZCBib2R5IGZyb20gdGhlIHNpbXVsYXRpb24uDQogICAqIEBtZXRob2QgcmVtb3ZlDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keQ0KICAgKi8KCgogIHJlbW92ZUJvZHkoYm9keSkgewogICAgYm9keS53b3JsZCA9IG51bGw7CiAgICBjb25zdCBuID0gdGhpcy5ib2RpZXMubGVuZ3RoIC0gMTsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgY29uc3QgaWR4ID0gYm9kaWVzLmluZGV4T2YoYm9keSk7CgogICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgYm9kaWVzLnNwbGljZShpZHgsIDEpOyAvLyBUb2RvOiBzaG91bGQgdXNlIGEgZ2FyYmFnZSBmcmVlIG1ldGhvZAogICAgICAvLyBSZWNvbXB1dGUgaW5kZXgKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpOwogICAgICB9CgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKG4pOwogICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudC5ib2R5ID0gYm9keTsKICAgICAgZGVsZXRlIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF07CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnJlbW92ZUJvZHlFdmVudCk7CiAgICB9CiAgfQoKICBnZXRCb2R5QnlJZChpZCkgewogICAgcmV0dXJuIHRoaXMuaWRUb0JvZHlNYXBbaWRdOwogIH0gLy8gVE9ETyBNYWtlIGEgZmFzdGVyIG1hcAoKCiAgZ2V0U2hhcGVCeUlkKGlkKSB7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKCiAgICBmb3IgKGxldCBpID0gMCwgYmwgPSBib2RpZXMubGVuZ3RoOyBpIDwgYmw7IGkrKykgewogICAgICBjb25zdCBzaGFwZXMgPSBib2RpZXNbaV0uc2hhcGVzOwoKICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHsKICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tqXTsKCiAgICAgICAgaWYgKHNoYXBlLmlkID09PSBpZCkgewogICAgICAgICAgcmV0dXJuIHNoYXBlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogQWRkcyBhIG1hdGVyaWFsIHRvIHRoZSBXb3JsZC4NCiAgICogQG1ldGhvZCBhZGRNYXRlcmlhbA0KICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtDQogICAqIEB0b2RvIE5lY2Vzc2FyeT8NCiAgICovCgoKICBhZGRNYXRlcmlhbChtKSB7CiAgICB0aGlzLm1hdGVyaWFscy5wdXNoKG0pOwogIH0KICAvKioNCiAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkDQogICAqIEBtZXRob2QgYWRkQ29udGFjdE1hdGVyaWFsDQogICAqIEBwYXJhbSB7Q29udGFjdE1hdGVyaWFsfSBjbWF0DQogICAqLwoKCiAgYWRkQ29udGFjdE1hdGVyaWFsKGNtYXQpIHsKICAgIC8vIEFkZCBjb250YWN0IG1hdGVyaWFsCiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMucHVzaChjbWF0KTsgLy8gQWRkIGN1cnJlbnQgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgbWF0ZXJpYWwgdGFibGUKCiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLnNldChjbWF0Lm1hdGVyaWFsc1swXS5pZCwgY21hdC5tYXRlcmlhbHNbMV0uaWQsIGNtYXQpOwogIH0KICAvKioNCiAgICogU3RlcCB0aGUgcGh5c2ljcyB3b3JsZCBmb3J3YXJkIGluIHRpbWUuDQogICAqDQogICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLg0KICAgKg0KICAgKiBAbWV0aG9kIHN0ZXANCiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLg0KICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVTaW5jZUxhc3RDYWxsZWRdICAgIFRoZSB0aW1lIGVsYXBzZWQgc2luY2UgdGhlIGZ1bmN0aW9uIHdhcyBsYXN0IGNhbGxlZC4NCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhTdWJTdGVwcz0xMF0gICAgICAgICBNYXhpbXVtIG51bWJlciBvZiBmaXhlZCBzdGVwcyB0byB0YWtlIHBlciBmdW5jdGlvbiBjYWxsLg0KICAgKg0KICAgKiBAZXhhbXBsZQ0KICAgKiAgICAgLy8gZml4ZWQgdGltZXN0ZXBwaW5nIHdpdGhvdXQgaW50ZXJwb2xhdGlvbg0KICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTsNCiAgICoNCiAgICogQHNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5vcmcvbWVkaWF3aWtpLTEuNS44L2luZGV4LnBocC9TdGVwcGluZ19UaGVfV29ybGQNCiAgICovCgoKICBzdGVwKGR0LCB0aW1lU2luY2VMYXN0Q2FsbGVkID0gMCwgbWF4U3ViU3RlcHMgPSAxMCkgewogICAgaWYgKHRpbWVTaW5jZUxhc3RDYWxsZWQgPT09IDApIHsKICAgICAgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZwogICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7IC8vIEluY3JlbWVudCB0aW1lCgogICAgICB0aGlzLnRpbWUgKz0gZHQ7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmFjY3VtdWxhdG9yICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7CiAgICAgIGxldCBzdWJzdGVwcyA9IDA7CgogICAgICB3aGlsZSAodGhpcy5hY2N1bXVsYXRvciA+PSBkdCAmJiBzdWJzdGVwcyA8IG1heFN1YlN0ZXBzKSB7CiAgICAgICAgLy8gRG8gZml4ZWQgc3RlcHMgdG8gY2F0Y2ggdXAKICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7CiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciAtPSBkdDsKICAgICAgICBzdWJzdGVwcysrOwogICAgICB9CgogICAgICBjb25zdCB0ID0gdGhpcy5hY2N1bXVsYXRvciAlIGR0IC8gZHQ7CgogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gdGhpcy5ib2RpZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICBjb25zdCBiID0gdGhpcy5ib2RpZXNbal07CiAgICAgICAgYi5wcmV2aW91c1Bvc2l0aW9uLmxlcnAoYi5wb3NpdGlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRQb3NpdGlvbik7CiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24uc2xlcnAoYi5xdWF0ZXJuaW9uLCB0LCBiLmludGVycG9sYXRlZFF1YXRlcm5pb24pOwogICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLm5vcm1hbGl6ZSgpOwogICAgICB9CgogICAgICB0aGlzLnRpbWUgKz0gdGltZVNpbmNlTGFzdENhbGxlZDsKICAgIH0KICB9CgogIGludGVybmFsU3RlcChkdCkgewogICAgdGhpcy5kdCA9IGR0OwogICAgY29uc3QgY29udGFjdHMgPSB0aGlzLmNvbnRhY3RzOwogICAgY29uc3QgcDEgPSBXb3JsZF9zdGVwX3AxOwogICAgY29uc3QgcDIgPSBXb3JsZF9zdGVwX3AyOwogICAgY29uc3QgTiA9IHRoaXMubnVtT2JqZWN0cygpOwogICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICBjb25zdCBzb2x2ZXIgPSB0aGlzLnNvbHZlcjsKICAgIGNvbnN0IGdyYXZpdHkgPSB0aGlzLmdyYXZpdHk7CiAgICBjb25zdCBkb1Byb2ZpbGluZyA9IHRoaXMuZG9Qcm9maWxpbmc7CiAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlOwogICAgY29uc3QgRFlOQU1JQyA9IEJvZHkuRFlOQU1JQzsKICAgIGxldCBwcm9maWxpbmdTdGFydCA9IC1JbmZpbml0eTsKICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50czsKICAgIGNvbnN0IGZyaWN0aW9uRXF1YXRpb25Qb29sID0gV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgIGNvbnN0IGdub3JtID0gZ3Jhdml0eS5sZW5ndGgoKTsKICAgIGNvbnN0IGd4ID0gZ3Jhdml0eS54OwogICAgY29uc3QgZ3kgPSBncmF2aXR5Lnk7CiAgICBjb25zdCBneiA9IGdyYXZpdHkuejsKICAgIGxldCBpID0gMDsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0gLy8gQWRkIGdyYXZpdHkgdG8gYWxsIG9iamVjdHMKCgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLnR5cGUgPT09IERZTkFNSUMpIHsKICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllcwogICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTsKICAgICAgICBjb25zdCBtID0gYmkubWFzczsKICAgICAgICBmLnggKz0gbSAqIGd4OwogICAgICAgIGYueSArPSBtICogZ3k7CiAgICAgICAgZi56ICs9IG0gKiBnejsKICAgICAgfQogICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtcwoKCiAgICBmb3IgKGxldCBpID0gMCwgTnN1YnN5c3RlbXMgPSB0aGlzLnN1YnN5c3RlbXMubGVuZ3RoOyBpICE9PSBOc3Vic3lzdGVtczsgaSsrKSB7CiAgICAgIHRoaXMuc3Vic3lzdGVtc1tpXS51cGRhdGUoKTsKICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvbgoKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0KCiAgICBwMS5sZW5ndGggPSAwOyAvLyBDbGVhbiB1cCBwYWlyIGFycmF5cyBmcm9tIGxhc3Qgc3RlcAoKICAgIHAyLmxlbmd0aCA9IDA7CiAgICB0aGlzLmJyb2FkcGhhc2UuY29sbGlzaW9uUGFpcnModGhpcywgcDEsIHAyKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5icm9hZHBoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgIH0gLy8gUmVtb3ZlIGNvbnN0cmFpbmVkIHBhaXJzIHdpdGggY29sbGlkZUNvbm5lY3RlZCA9PSBmYWxzZQoKCiAgICBsZXQgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7CiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTsKCiAgICAgIGlmICghYy5jb2xsaWRlQ29ubmVjdGVkKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IHAxLmxlbmd0aCAtIDE7IGogPj0gMDsgaiAtPSAxKSB7CiAgICAgICAgICBpZiAoYy5ib2R5QSA9PT0gcDFbal0gJiYgYy5ib2R5QiA9PT0gcDJbal0gfHwgYy5ib2R5QiA9PT0gcDFbal0gJiYgYy5ib2R5QSA9PT0gcDJbal0pIHsKICAgICAgICAgICAgcDEuc3BsaWNlKGosIDEpOwogICAgICAgICAgICBwMi5zcGxpY2UoaiwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5jb2xsaXNpb25NYXRyaXhUaWNrKCk7IC8vIEdlbmVyYXRlIGNvbnRhY3RzCgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9CgogICAgY29uc3Qgb2xkY29udGFjdHMgPSBXb3JsZF9zdGVwX29sZENvbnRhY3RzOwogICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5vbGRDb250YWN0czsgaSsrKSB7CiAgICAgIG9sZGNvbnRhY3RzLnB1c2goY29udGFjdHNbaV0pOwogICAgfQoKICAgIGNvbnRhY3RzLmxlbmd0aCA9IDA7IC8vIFRyYW5zZmVyIEZyaWN0aW9uRXF1YXRpb24gZnJvbSBjdXJyZW50IGxpc3QgdG8gdGhlIHBvb2wgZm9yIHJldXNlCgogICAgY29uc3QgTm9sZEZyaWN0aW9uRXF1YXRpb25zID0gdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHsKICAgICAgZnJpY3Rpb25FcXVhdGlvblBvb2wucHVzaCh0aGlzLmZyaWN0aW9uRXF1YXRpb25zW2ldKTsKICAgIH0KCiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICB0aGlzLm5hcnJvd3BoYXNlLmdldENvbnRhY3RzKHAxLCBwMiwgdGhpcywgY29udGFjdHMsIG9sZGNvbnRhY3RzLCAvLyBUbyBiZSByZXVzZWQKICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMsIGZyaWN0aW9uRXF1YXRpb25Qb29sKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5uYXJyb3dwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICB9IC8vIExvb3Agb3ZlciBhbGwgY29sbGlzaW9ucwoKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0gLy8gQWRkIGFsbCBmcmljdGlvbiBlcXMKCgogICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgfQoKICAgIGNvbnN0IG5jb250YWN0cyA9IGNvbnRhY3RzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gbmNvbnRhY3RzOyBrKyspIHsKICAgICAgLy8gQ3VycmVudCBjb250YWN0CiAgICAgIGNvbnN0IGMgPSBjb250YWN0c1trXTsgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGluZGVjZXMKCiAgICAgIGNvbnN0IGJpID0gYy5iaTsKICAgICAgY29uc3QgYmogPSBjLmJqOwogICAgICBjb25zdCBzaSA9IGMuc2k7CiAgICAgIGNvbnN0IHNqID0gYy5zajsgLy8gR2V0IGNvbGxpc2lvbiBwcm9wZXJ0aWVzCgogICAgICBsZXQgY207CgogICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHsKICAgICAgICBjbSA9IHRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICB9IGVsc2UgewogICAgICAgIGNtID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICB9IC8vIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlOwoKCiAgICAgIGxldCBtdSA9IGNtLmZyaWN0aW9uOyAvLyBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247CiAgICAgIC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW0KCiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkgewogICAgICAgIGlmIChiaS5tYXRlcmlhbC5mcmljdGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLmZyaWN0aW9uID49IDApIHsKICAgICAgICAgIG11ID0gYmkubWF0ZXJpYWwuZnJpY3Rpb24gKiBiai5tYXRlcmlhbC5mcmljdGlvbjsKICAgICAgICB9CgogICAgICAgIGlmIChiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDApIHsKICAgICAgICAgIGMucmVzdGl0dXRpb24gPSBiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiAqIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uOwogICAgICAgIH0KICAgICAgfSAvLyBjLnNldFNwb29rUGFyYW1zKAogICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzLAogICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwKICAgICAgLy8gICAgICAgICAgIGR0CiAgICAgIC8vICAgICAgICk7CgoKICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGMpOyAvLyAvLyBBZGQgZnJpY3Rpb24gY29uc3RyYWludCBlcXVhdGlvbgogICAgICAvLyBpZihtdSA+IDApewogICAgICAvLyAJLy8gQ3JlYXRlIDIgdGFuZ2VudCBlcXVhdGlvbnMKICAgICAgLy8gCWNvbnN0IG11ZyA9IG11ICogZ25vcm07CiAgICAgIC8vIAljb25zdCByZWR1Y2VkTWFzcyA9IChiaS5pbnZNYXNzICsgYmouaW52TWFzcyk7CiAgICAgIC8vIAlpZihyZWR1Y2VkTWFzcyA+IDApewogICAgICAvLyAJCXJlZHVjZWRNYXNzID0gMS9yZWR1Y2VkTWFzczsKICAgICAgLy8gCX0KICAgICAgLy8gCWNvbnN0IHBvb2wgPSBmcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgICAgLy8gCWNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgLy8gCWNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgLy8gCXRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaChjMSwgYzIpOwogICAgICAvLyAJYzEuYmkgPSBjMi5iaSA9IGJpOwogICAgICAvLyAJYzEuYmogPSBjMi5iaiA9IGJqOwogICAgICAvLyAJYzEubWluRm9yY2UgPSBjMi5taW5Gb3JjZSA9IC1tdWcqcmVkdWNlZE1hc3M7CiAgICAgIC8vIAljMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnKnJlZHVjZWRNYXNzOwogICAgICAvLyAJLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCiAgICAgIC8vIAljMS5yaS5jb3B5KGMucmkpOwogICAgICAvLyAJYzEucmouY29weShjLnJqKTsKICAgICAgLy8gCWMyLnJpLmNvcHkoYy5yaSk7CiAgICAgIC8vIAljMi5yai5jb3B5KGMucmopOwogICAgICAvLyAJLy8gQ29uc3RydWN0IHRhbmdlbnRzCiAgICAgIC8vIAljLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOwogICAgICAvLyAgICAgICAgICAgLy8gU2V0IHNwb29rIHBhcmFtcwogICAgICAvLyAgICAgICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTsKICAgICAgLy8gICAgICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgIC8vICAgICAgICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGMuZW5hYmxlZDsKICAgICAgLy8gCS8vIEFkZCBlcXVhdGlvbnMgdG8gc29sdmVyCiAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzEpOwogICAgICAvLyAJc29sdmVyLmFkZEVxdWF0aW9uKGMyKTsKICAgICAgLy8gfQoKICAgICAgaWYgKGJpLmFsbG93U2xlZXAgJiYgYmkudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiai50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZEIgPSBiai52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyBiai5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpOwogICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQiA9IGJqLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQiA+PSBzcGVlZExpbWl0U3F1YXJlZEIgKiAyKSB7CiAgICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChiai5hbGxvd1NsZWVwICYmIGJqLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmkudHlwZSAhPT0gQm9keS5TVEFUSUMpIHsKICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRBID0gYmkudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmkuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEEgPSBiaS5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgaWYgKHNwZWVkU3F1YXJlZEEgPj0gc3BlZWRMaW1pdFNxdWFyZWRBICogMikgewogICAgICAgICAgYmoud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9IC8vIE5vdyB3ZSBrbm93IHRoYXQgaSBhbmQgaiBhcmUgaW4gY29udGFjdC4gU2V0IGNvbGxpc2lvbiBtYXRyaXggc3RhdGUKCgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXQoYmksIGJqLCB0cnVlKTsKCiAgICAgIGlmICghdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoYmksIGJqKSkgewogICAgICAgIC8vIEZpcnN0IGNvbnRhY3QhCiAgICAgICAgLy8gV2UgcmV1c2UgdGhlIGNvbGxpZGVFdmVudCBvYmplY3QsIG90aGVyd2lzZSB3ZSB3aWxsIGVuZCB1cCBjcmVhdGluZyBuZXcgb2JqZWN0cyBmb3IgZWFjaCBuZXcgY29udGFjdCwgZXZlbiBpZiB0aGVyZSdzIG5vIGV2ZW50IGxpc3RlbmVyIGF0dGFjaGVkLgogICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiajsKICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5jb250YWN0ID0gYzsKICAgICAgICBiaS5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTsKICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmk7CiAgICAgICAgYmouZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7CiAgICAgIH0KCiAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpOwogICAgfQoKICAgIHRoaXMuZW1pdENvbnRhY3RFdmVudHMoKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5tYWtlQ29udGFjdENvbnN0cmFpbnRzID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0gLy8gV2FrZSB1cCBib2RpZXMKCgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UpIHsKICAgICAgICBiaS53YWtlVXAoKTsKICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CiAgICAgIH0KICAgIH0gLy8gQWRkIHVzZXItYWRkZWQgY29uc3RyYWludHMKCgogICAgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7CiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTsKICAgICAgYy51cGRhdGUoKTsKCiAgICAgIGZvciAobGV0IGogPSAwLCBOZXEgPSBjLmVxdWF0aW9ucy5sZW5ndGg7IGogIT09IE5lcTsgaisrKSB7CiAgICAgICAgY29uc3QgZXEgPSBjLmVxdWF0aW9uc1tqXTsKICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb24oZXEpOwogICAgICB9CiAgICB9IC8vIFNvbHZlIHRoZSBjb25zdHJhaW5lZCBzeXN0ZW0KCgogICAgc29sdmVyLnNvbHZlKGR0LCB0aGlzKTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5zb2x2ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICB9IC8vIFJlbW92ZSBhbGwgY29udGFjdHMgZnJvbSBzb2x2ZXIKCgogICAgc29sdmVyLnJlbW92ZUFsbEVxdWF0aW9ucygpOyAvLyBBcHBseSBkYW1waW5nLCBzZWUgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2J1bGxldC9pc3N1ZXMvZGV0YWlsP2lkPTc0IGZvciBkZXRhaWxzCgogICAgY29uc3QgcG93ID0gTWF0aC5wb3c7CgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLnR5cGUgJiBEWU5BTUlDKSB7CiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICBjb25zdCBsZCA9IHBvdygxLjAgLSBiaS5saW5lYXJEYW1waW5nLCBkdCk7CiAgICAgICAgY29uc3QgdiA9IGJpLnZlbG9jaXR5OwogICAgICAgIHYuc2NhbGUobGQsIHYpOwogICAgICAgIGNvbnN0IGF2ID0gYmkuYW5ndWxhclZlbG9jaXR5OwoKICAgICAgICBpZiAoYXYpIHsKICAgICAgICAgIGNvbnN0IGFkID0gcG93KDEuMCAtIGJpLmFuZ3VsYXJEYW1waW5nLCBkdCk7CiAgICAgICAgICBhdi5zY2FsZShhZCwgYXYpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCk7IC8vIEludm9rZSBwcmUtc3RlcCBjYWxsYmFja3MKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBpZiAoYmkucHJlU3RlcCkgewogICAgICAgIGJpLnByZVN0ZXAuY2FsbChiaSk7CiAgICAgIH0KICAgIH0gLy8gTGVhcCBmcm9nCiAgICAvLyB2bmV3ID0gdiArIGgqZi9tCiAgICAvLyB4bmV3ID0geCArIGgqdm5ldwoKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgIH0KCiAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyOwogICAgY29uc3QgcXVhdE5vcm1hbGl6ZSA9IHN0ZXBudW1iZXIgJSAodGhpcy5xdWF0Tm9ybWFsaXplU2tpcCArIDEpID09PSAwOwogICAgY29uc3QgcXVhdE5vcm1hbGl6ZUZhc3QgPSB0aGlzLnF1YXROb3JtYWxpemVGYXN0OwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBib2RpZXNbaV0uaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCk7CiAgICB9CgogICAgdGhpcy5jbGVhckZvcmNlcygpOwogICAgdGhpcy5icm9hZHBoYXNlLmRpcnR5ID0gdHJ1ZTsKCiAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgfSAvLyBVcGRhdGUgd29ybGQgdGltZQoKCiAgICB0aGlzLnRpbWUgKz0gZHQ7CiAgICB0aGlzLnN0ZXBudW1iZXIgKz0gMTsKICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQpOyAvLyBJbnZva2UgcG9zdC1zdGVwIGNhbGxiYWNrcwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKICAgICAgY29uc3QgcG9zdFN0ZXAgPSBiaS5wb3N0U3RlcDsKCiAgICAgIGlmIChwb3N0U3RlcCkgewogICAgICAgIHBvc3RTdGVwLmNhbGwoYmkpOwogICAgICB9CiAgICB9IC8vIFNsZWVwaW5nIHVwZGF0ZQoKCiAgICBsZXQgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTsKCiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7CiAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CiAgICAgICAgYmkuc2xlZXBUaWNrKHRoaXMudGltZSk7CgogICAgICAgIGlmIChiaS5zbGVlcFN0YXRlICE9PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgICBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gaGFzQWN0aXZlQm9kaWVzOwogIH0KICAvKioNCiAgICogU2V0cyBhbGwgYm9keSBmb3JjZXMgaW4gdGhlIHdvcmxkIHRvIHplcm8uDQogICAqIEBtZXRob2QgY2xlYXJGb3JjZXMNCiAgICovCgoKICBjbGVhckZvcmNlcygpIHsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiID0gYm9kaWVzW2ldOwogICAgICBjb25zdCBmb3JjZSA9IGIuZm9yY2U7CiAgICAgIGNvbnN0IHRhdSA9IGIudG9ycXVlOwogICAgICBiLmZvcmNlLnNldCgwLCAwLCAwKTsKICAgICAgYi50b3JxdWUuc2V0KDAsIDAsIDApOwogICAgfQogIH0KCn0gLy8gVGVtcCBzdHVmZgoKCmNvbnN0IHRtcEFBQkIxID0gbmV3IEFBQkIoKTsKY29uc3QgdG1wUmF5JDEgPSBuZXcgUmF5KCk7IC8vIHBlcmZvcm1hbmNlLm5vdygpCgppZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSAndW5kZWZpbmVkJykgewogIHBlcmZvcm1hbmNlID0ge307Cn0KCmlmICghcGVyZm9ybWFuY2Uubm93KSB7CiAgbGV0IG5vd09mZnNldCA9IERhdGUubm93KCk7CgogIGlmIChwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCkgewogICAgbm93T2Zmc2V0ID0gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDsKICB9CgogIHBlcmZvcm1hbmNlLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBub3dPZmZzZXQ7Cn0gLy8gUmV1c2FibGUgZXZlbnQgb2JqZWN0cyB0byBzYXZlIG1lbW9yeS4KCgpjb25zdCBXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQgPSB7CiAgdHlwZTogJ3Bvc3RTdGVwJwp9OyAvLyBEaXNwYXRjaGVkIGJlZm9yZSB0aGUgd29ybGQgc3RlcHMgZm9yd2FyZCBpbiB0aW1lLgoKY29uc3QgV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQgPSB7CiAgdHlwZTogJ3ByZVN0ZXAnCn07CmNvbnN0IFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50ID0gewogIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLAogIGJvZHk6IG51bGwsCiAgY29udGFjdDogbnVsbAp9OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHMKCmNvbnN0IFdvcmxkX3N0ZXBfb2xkQ29udGFjdHMgPSBbXTsKY29uc3QgV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdOyAvLyBSZXVzYWJsZSBhcnJheXMgZm9yIGNvbGxpc2lvbiBwYWlycwoKY29uc3QgV29ybGRfc3RlcF9wMSA9IFtdOwpjb25zdCBXb3JsZF9zdGVwX3AyID0gW107CgpXb3JsZC5wcm90b3R5cGUuZW1pdENvbnRhY3RFdmVudHMgPSAoKCkgPT4gewogIGNvbnN0IGFkZGl0aW9ucyA9IFtdOwogIGNvbnN0IHJlbW92YWxzID0gW107CiAgY29uc3QgYmVnaW5Db250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnYmVnaW5Db250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwKICB9OwogIGNvbnN0IGVuZENvbnRhY3RFdmVudCA9IHsKICAgIHR5cGU6ICdlbmRDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwKICB9OwogIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnYmVnaW5TaGFwZUNvbnRhY3QnLAogICAgYm9keUE6IG51bGwsCiAgICBib2R5QjogbnVsbCwKICAgIHNoYXBlQTogbnVsbCwKICAgIHNoYXBlQjogbnVsbAogIH07CiAgY29uc3QgZW5kU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnZW5kU2hhcGVDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwsCiAgICBzaGFwZUE6IG51bGwsCiAgICBzaGFwZUI6IG51bGwKICB9OwogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpOwogICAgY29uc3QgaGFzRW5kQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kQ29udGFjdCcpOwoKICAgIGlmIChoYXNCZWdpbkNvbnRhY3QgfHwgaGFzRW5kQ29udGFjdCkgewogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICB9CgogICAgaWYgKGhhc0JlZ2luQ29udGFjdCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2ldKTsKICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luQ29udGFjdEV2ZW50KTsKICAgICAgfQoKICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUEgPSBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7CiAgICB9CgogICAgaWYgKGhhc0VuZENvbnRhY3QpIHsKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2ldKTsKICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2kgKyAxXSk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZENvbnRhY3RFdmVudCk7CiAgICAgIH0KCiAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7CiAgICB9CgogICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7CiAgICBjb25zdCBoYXNCZWdpblNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignYmVnaW5TaGFwZUNvbnRhY3QnKTsKICAgIGNvbnN0IGhhc0VuZFNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kU2hhcGVDb250YWN0Jyk7CgogICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0IHx8IGhhc0VuZFNoYXBlQ29udGFjdCkgewogICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpOwogICAgfQoKICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChhZGRpdGlvbnNbaV0pOwogICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBOwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCOwogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTsKICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luU2hhcGVDb250YWN0RXZlbnQpOwogICAgICB9CgogICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsOwogICAgfQoKICAgIGlmIChoYXNFbmRTaGFwZUNvbnRhY3QpIHsKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpXSk7CiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7CiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCOwogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7CiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kU2hhcGVDb250YWN0RXZlbnQpOwogICAgICB9CgogICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDsKICAgIH0KICB9Owp9KSgpOwoKbGV0IGJvZGllcyA9IHt9Owpjb25zdCBzcHJpbmdzID0ge307CmNvbnN0IHJheXMgPSB7fTsKY29uc3Qgd29ybGQgPSBuZXcgV29ybGQoKTsKY29uc3QgY29uZmlnID0gewogIHN0ZXA6IDEgLyA2MAp9Owpjb25zdCBzdWJzY3JpcHRpb25zID0ge307CmNvbnN0IHRlbXBWZWN0b3IgPSBuZXcgVmVjMygpOwoKZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykgewogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSAnQm94JzoKICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncykpOwogICAgLy8gaGFsZkV4dGVudHMKCiAgICBjYXNlICdDb252ZXhQb2x5aGVkcm9uJzoKICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnczsKICAgICAgcmV0dXJuIG5ldyBDb252ZXhQb2x5aGVkcm9uKHsKICAgICAgICB2ZXJ0aWNlczogdi5tYXAoKFt4LCB5LCB6XSkgPT4gbmV3IFZlYzMoeCwgeSwgeikpLAogICAgICAgIG5vcm1hbHM6IG4gPyBuLm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSkgOiBudWxsLAogICAgICAgIGZhY2VzOiBmCiAgICAgIH0pOwoKICAgIGNhc2UgJ0N5bGluZGVyJzoKICAgICAgcmV0dXJuIG5ldyBDeWxpbmRlciguLi5hcmdzKTsKICAgIC8vIFsgcmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMgXSA9IGFyZ3MKCiAgICBjYXNlICdIZWlnaHRmaWVsZCc6CiAgICAgIHJldHVybiBuZXcgSGVpZ2h0ZmllbGQoLi4uYXJncyk7CiAgICAvLyBbIEFycmF5IGRhdGEsIG9wdGlvbnM6IHttaW5WYWx1ZSwgbWF4VmFsdWUsIGVsZW1lbnRTaXplfSAgXSA9IGFyZ3MKCiAgICBjYXNlICdQYXJ0aWNsZSc6CiAgICAgIHJldHVybiBuZXcgUGFydGljbGUoKTsKICAgIC8vIG5vIGFyZ3MKCiAgICBjYXNlICdQbGFuZSc6CiAgICAgIHJldHVybiBuZXcgUGxhbmUoKTsKICAgIC8vIG5vIGFyZ3MsIGluZmluaXRlIHggYW5kIHkKCiAgICBjYXNlICdTcGhlcmUnOgogICAgICByZXR1cm4gbmV3IFNwaGVyZSguLi5hcmdzKTsKICAgIC8vIFtyYWRpdXNdID0gYXJncwoKICAgIGNhc2UgJ1RyaW1lc2gnOgogICAgICByZXR1cm4gbmV3IFRyaW1lc2goLi4uYXJncyk7CiAgICAvLyBbdmVydGljZXMsIGluZGljZXNdID0gYXJncwogIH0KfQoKZnVuY3Rpb24gc3luY0JvZGllcygpIHsKICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgIG9wOiAnc3luYycsCiAgICBib2RpZXM6IHdvcmxkLmJvZGllcy5tYXAoYm9keSA9PiBib2R5LnV1aWQpCiAgfSk7CiAgYm9kaWVzID0gd29ybGQuYm9kaWVzLnJlZHVjZSgoYWNjLCBib2R5KSA9PiBfZXh0ZW5kcyh7fSwgYWNjLCB7CiAgICBbYm9keS51dWlkXTogYm9keQogIH0pLCB7fSk7Cn0KCnNlbGYub25tZXNzYWdlID0gZSA9PiB7CiAgY29uc3QgewogICAgb3AsCiAgICB1dWlkLAogICAgdHlwZSwKICAgIHBvc2l0aW9ucywKICAgIHF1YXRlcm5pb25zLAogICAgcHJvcHMKICB9ID0gZS5kYXRhOwoKICBzd2l0Y2ggKG9wKSB7CiAgICBjYXNlICdpbml0JzoKICAgICAgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGdyYXZpdHksCiAgICAgICAgICB0b2xlcmFuY2UsCiAgICAgICAgICBzdGVwLAogICAgICAgICAgaXRlcmF0aW9ucywKICAgICAgICAgIGFsbG93U2xlZXAsCiAgICAgICAgICBicm9hZHBoYXNlLAogICAgICAgICAgYXhpc0luZGV4LAogICAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbAogICAgICAgIH0gPSBwcm9wczsKICAgICAgICBjb25zdCBicm9hZHBoYXNlcyA9IHsKICAgICAgICAgIE5haXZlQnJvYWRwaGFzZSwKICAgICAgICAgIFNBUEJyb2FkcGhhc2UKICAgICAgICB9OwogICAgICAgIHdvcmxkLmFsbG93U2xlZXAgPSBhbGxvd1NsZWVwOwogICAgICAgIHdvcmxkLmdyYXZpdHkuc2V0KGdyYXZpdHlbMF0sIGdyYXZpdHlbMV0sIGdyYXZpdHlbMl0pOwogICAgICAgIHdvcmxkLnNvbHZlci50b2xlcmFuY2UgPSB0b2xlcmFuY2U7CiAgICAgICAgd29ybGQuc29sdmVyLml0ZXJhdGlvbnMgPSBpdGVyYXRpb25zOwogICAgICAgIHdvcmxkLmJyb2FkcGhhc2UgPSBuZXcgKGJyb2FkcGhhc2VzW2Jyb2FkcGhhc2UgKyAnQnJvYWRwaGFzZSddIHx8IE5haXZlQnJvYWRwaGFzZSkod29ybGQpOwogICAgICAgIHdvcmxkLmJyb2FkcGhhc2UuYXhpc0luZGV4ID0gYXhpc0luZGV4ICE9IG51bGwgPyBheGlzSW5kZXggOiAwOwogICAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCk7CiAgICAgICAgY29uZmlnLnN0ZXAgPSBzdGVwOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnc3RlcCc6CiAgICAgIHsKICAgICAgICB3b3JsZC5zdGVwKGNvbmZpZy5zdGVwKTsKICAgICAgICBjb25zdCBudW1iZXJPZkJvZGllcyA9IHdvcmxkLmJvZGllcy5sZW5ndGg7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZCb2RpZXM7IGkrKykgewogICAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sCiAgICAgICAgICAgICAgcCA9IGIucG9zaXRpb24sCiAgICAgICAgICAgICAgcSA9IGIucXVhdGVybmlvbjsKICAgICAgICAgIHBvc2l0aW9uc1szICogaSArIDBdID0gcC54OwogICAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMV0gPSBwLnk7CiAgICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAyXSA9IHAuejsKICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMF0gPSBxLng7CiAgICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDFdID0gcS55OwogICAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAyXSA9IHEuejsKICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgM10gPSBxLnc7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBvYnNlcnZhdGlvbnMgPSBbXTsKCiAgICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkgewogICAgICAgICAgY29uc3QgW3V1aWQsIHR5cGVdID0gc3Vic2NyaXB0aW9uc1tpZF07CiAgICAgICAgICBsZXQgdmFsdWUgPSBib2RpZXNbdXVpZF1bdHlwZV07CiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWZWMzKSB2YWx1ZSA9IHZhbHVlLnRvQXJyYXkoKTtlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHsKICAgICAgICAgICAgdmFsdWUudG9FdWxlcih0ZW1wVmVjdG9yKTsKICAgICAgICAgICAgdmFsdWUgPSB0ZW1wVmVjdG9yLnRvQXJyYXkoKTsKICAgICAgICAgIH0KICAgICAgICAgIG9ic2VydmF0aW9ucy5wdXNoKFtpZCwgdmFsdWVdKTsKICAgICAgICB9CgogICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgb3A6ICdmcmFtZScsCiAgICAgICAgICBwb3NpdGlvbnMsCiAgICAgICAgICBxdWF0ZXJuaW9ucywKICAgICAgICAgIG9ic2VydmF0aW9ucywKICAgICAgICAgIGFjdGl2ZTogd29ybGQuaGFzQWN0aXZlQm9kaWVzCiAgICAgICAgfSwgW3Bvc2l0aW9ucy5idWZmZXIsIHF1YXRlcm5pb25zLmJ1ZmZlcl0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnYWRkQm9kaWVzJzoKICAgICAgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3QgX3Byb3BzJGkgPSBwcm9wc1tpXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgYXJncyA9IFtdLAogICAgICAgICAgICBwb3NpdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgcm90YXRpb24gPSBbMCwgMCwgMF0sCiAgICAgICAgICAgIHNjYWxlID0gWzEsIDEsIDFdLAogICAgICAgICAgICB2ZWxvY2l0eSA9IFswLCAwLCAwXSwKICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5ID0gWzAsIDAsIDBdLAogICAgICAgICAgICBsaW5lYXJGYWN0b3IgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgIGFuZ3VsYXJGYWN0b3IgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgIHR5cGU6IGJvZHlUeXBlLAogICAgICAgICAgICBtYXNzLAogICAgICAgICAgICBtYXRlcmlhbCwKICAgICAgICAgICAgc2hhcGVzLAogICAgICAgICAgICBvbkNvbGxpZGUKICAgICAgICAgIH0gPSBfcHJvcHMkaSwKICAgICAgICAgICAgICAgIGV4dHJhID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3Byb3BzJGksIFsiYXJncyIsICJwb3NpdGlvbiIsICJyb3RhdGlvbiIsICJzY2FsZSIsICJ2ZWxvY2l0eSIsICJhbmd1bGFyVmVsb2NpdHkiLCAibGluZWFyRmFjdG9yIiwgImFuZ3VsYXJGYWN0b3IiLCAidHlwZSIsICJtYXNzIiwgIm1hdGVyaWFsIiwgInNoYXBlcyIsICJvbkNvbGxpZGUiXSk7CgogICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KF9leHRlbmRzKHt9LCBleHRyYSwgewogICAgICAgICAgICBtYXNzOiBib2R5VHlwZSA9PT0gJ1N0YXRpYycgPyAwIDogbWFzcywKICAgICAgICAgICAgdHlwZTogYm9keVR5cGUgPyBCb2R5W2JvZHlUeXBlLnRvVXBwZXJDYXNlKCldIDogdW5kZWZpbmVkLAogICAgICAgICAgICBtYXRlcmlhbDogbWF0ZXJpYWwgPyBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpIDogdW5kZWZpbmVkCiAgICAgICAgICB9KSk7CiAgICAgICAgICBib2R5LnV1aWQgPSB1dWlkW2ldOwoKICAgICAgICAgIGlmICh0eXBlID09PSAnQ29tcG91bmQnKSB7CiAgICAgICAgICAgIHNoYXBlcy5mb3JFYWNoKChfcmVmKSA9PiB7CiAgICAgICAgICAgICAgbGV0IHsKICAgICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgICBhcmdzLAogICAgICAgICAgICAgICAgcG9zaXRpb24sCiAgICAgICAgICAgICAgICByb3RhdGlvbiwKICAgICAgICAgICAgICAgIG1hdGVyaWFsCiAgICAgICAgICAgICAgfSA9IF9yZWYsCiAgICAgICAgICAgICAgICAgIGV4dHJhID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgWyJ0eXBlIiwgImFyZ3MiLCAicG9zaXRpb24iLCAicm90YXRpb24iLCAibWF0ZXJpYWwiXSk7CgogICAgICAgICAgICAgIGNvbnN0IHNoYXBlQm9keSA9IGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncyksIHBvc2l0aW9uID8gbmV3IFZlYzMoLi4ucG9zaXRpb24pIDogdW5kZWZpbmVkLCByb3RhdGlvbiA/IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RnJvbUV1bGVyKC4uLnJvdGF0aW9uKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgICAgICAgaWYgKG1hdGVyaWFsKSBzaGFwZUJvZHkubWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpOwogICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhcGVCb2R5LCBleHRyYSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSk7CiAgICAgICAgICB9CgogICAgICAgICAgYm9keS5wb3NpdGlvbi5zZXQocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSk7CiAgICAgICAgICBib2R5LnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHJvdGF0aW9uWzBdLCByb3RhdGlvblsxXSwgcm90YXRpb25bMl0pOwogICAgICAgICAgYm9keS52ZWxvY2l0eS5zZXQodmVsb2NpdHlbMF0sIHZlbG9jaXR5WzFdLCB2ZWxvY2l0eVsyXSk7CiAgICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eS5zZXQoYW5ndWxhclZlbG9jaXR5WzBdLCBhbmd1bGFyVmVsb2NpdHlbMV0sIGFuZ3VsYXJWZWxvY2l0eVsyXSk7CiAgICAgICAgICBib2R5LmxpbmVhckZhY3Rvci5zZXQobGluZWFyRmFjdG9yWzBdLCBsaW5lYXJGYWN0b3JbMV0sIGxpbmVhckZhY3RvclsyXSk7CiAgICAgICAgICBib2R5LmFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3JbMF0sIGFuZ3VsYXJGYWN0b3JbMV0sIGFuZ3VsYXJGYWN0b3JbMl0pOwogICAgICAgICAgd29ybGQuYWRkQm9keShib2R5KTsKICAgICAgICAgIGlmIChvbkNvbGxpZGUpIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29sbGlkZScsICh7CiAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgIGJvZHksCiAgICAgICAgICAgIHRhcmdldCwKICAgICAgICAgICAgY29udGFjdAogICAgICAgICAgfSkgPT4gewogICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgbmksCiAgICAgICAgICAgICAgcmksCiAgICAgICAgICAgICAgcmoKICAgICAgICAgICAgfSA9IGNvbnRhY3Q7CiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIG9wOiAnZXZlbnQnLAogICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgYm9keTogYm9keS51dWlkLAogICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LnV1aWQsCiAgICAgICAgICAgICAgY29udGFjdDogewogICAgICAgICAgICAgICAgbmk6IG5pLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAgIHJpOiByaS50b0FycmF5KCksCiAgICAgICAgICAgICAgICByajogcmoudG9BcnJheSgpLAogICAgICAgICAgICAgICAgaW1wYWN0VmVsb2NpdHk6IGNvbnRhY3QuZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7CiAgICAgICAgICAgICAgICBib2R5RmlsdGVyR3JvdXA6IGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAsCiAgICAgICAgICAgICAgICBib2R5RmlsdGVyTWFzazogYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlck1hc2s6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJNYXNrCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgc3luY0JvZGllcygpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoKICAgICAgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykgd29ybGQucmVtb3ZlQm9keShib2RpZXNbdXVpZFtpXV0pOwoKICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdzdWJzY3JpYmUnOgogICAgICB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgaWQsCiAgICAgICAgICB0eXBlCiAgICAgICAgfSA9IHByb3BzOwogICAgICAgIHN1YnNjcmlwdGlvbnNbaWRdID0gW3V1aWQsIHR5cGVdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAndW5zdWJzY3JpYmUnOgogICAgICB7CiAgICAgICAgZGVsZXRlIHN1YnNjcmlwdGlvbnNbcHJvcHNdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnc2V0UG9zaXRpb24nOgogICAgICBib2RpZXNbdXVpZF0ucG9zaXRpb24uc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRRdWF0ZXJuaW9uJzoKICAgICAgYm9kaWVzW3V1aWRdLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRWZWxvY2l0eSc6CiAgICAgIGJvZGllc1t1dWlkXS52ZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEFuZ3VsYXJWZWxvY2l0eSc6CiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyVmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRMaW5lYXJGYWN0b3InOgogICAgICBib2RpZXNbdXVpZF0ubGluZWFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0QW5ndWxhckZhY3Rvcic6CiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0TWFzcyc6CiAgICAgIGJvZGllc1t1dWlkXS5tYXNzID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldExpbmVhckRhbXBpbmcnOgogICAgICBib2RpZXNbdXVpZF0ubGluZWFyRGFtcGluZyA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRBbmd1bGFyRGFtcGluZyc6CiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRGFtcGluZyA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRBbGxvd1NsZWVwJzoKICAgICAgYm9kaWVzW3V1aWRdLmFsbG93U2xlZXAgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0U2xlZXBTcGVlZExpbWl0JzoKICAgICAgYm9kaWVzW3V1aWRdLnNsZWVwU3BlZWRMaW1pdCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRTbGVlcFRpbWVMaW1pdCc6CiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFRpbWVMaW1pdCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJHcm91cCc6CiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzoKICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyTWFzayc6CiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEZpeGVkUm90YXRpb24nOgogICAgICBib2RpZXNbdXVpZF0uZml4ZWRSb3RhdGlvbiA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdhcHBseUZvcmNlJzoKICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5Rm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhcHBseUltcHVsc2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYXBwbHlMb2NhbEZvcmNlJzoKICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxGb3JjZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FwcGx5TG9jYWxJbXB1bHNlJzoKICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYWRkQ29uc3RyYWludCc6CiAgICAgIHsKICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKCiAgICAgICAgbGV0IHsKICAgICAgICAgIHBpdm90QSwKICAgICAgICAgIHBpdm90QiwKICAgICAgICAgIGF4aXNBLAogICAgICAgICAgYXhpc0IKICAgICAgICB9ID0gb3B0bnMsCiAgICAgICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShvcHRucywgWyJwaXZvdEEiLCAicGl2b3RCIiwgImF4aXNBIiwgImF4aXNCIl0pOyAvLyBpcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZW5mb3JjZSBkZWZhdWx0cz8KCgogICAgICAgIHBpdm90QSA9IEFycmF5LmlzQXJyYXkocGl2b3RBKSA/IG5ldyBWZWMzKC4uLnBpdm90QSkgOiB1bmRlZmluZWQ7CiAgICAgICAgcGl2b3RCID0gQXJyYXkuaXNBcnJheShwaXZvdEIpID8gbmV3IFZlYzMoLi4ucGl2b3RCKSA6IHVuZGVmaW5lZDsKICAgICAgICBheGlzQSA9IEFycmF5LmlzQXJyYXkoYXhpc0EpID8gbmV3IFZlYzMoLi4uYXhpc0EpIDogdW5kZWZpbmVkOwogICAgICAgIGF4aXNCID0gQXJyYXkuaXNBcnJheShheGlzQikgPyBuZXcgVmVjMyguLi5heGlzQikgOiB1bmRlZmluZWQ7CiAgICAgICAgbGV0IGNvbnN0cmFpbnQ7CgogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgY2FzZSAnUG9pbnRUb1BvaW50JzoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBQb2ludFRvUG9pbnRDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIHBpdm90QSwgYm9kaWVzW2JvZHlCXSwgcGl2b3RCLCBvcHRucy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0NvbmVUd2lzdCc6CiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ29uZVR3aXN0Q29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCBfZXh0ZW5kcyh7CiAgICAgICAgICAgICAgcGl2b3RBLAogICAgICAgICAgICAgIHBpdm90QiwKICAgICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgICBheGlzQgogICAgICAgICAgICB9LCBvcHRpb25zKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0hpbmdlJzoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBIaW5nZUNvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgX2V4dGVuZHMoewogICAgICAgICAgICAgIHBpdm90QSwKICAgICAgICAgICAgICBwaXZvdEIsCiAgICAgICAgICAgICAgYXhpc0EsCiAgICAgICAgICAgICAgYXhpc0IKICAgICAgICAgICAgfSwgb3B0aW9ucykpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdEaXN0YW5jZSc6CiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0xvY2snOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkOwogICAgICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVDb25zdHJhaW50JzoKICAgICAgd29ybGQucmVtb3ZlQ29uc3RyYWludCh1dWlkKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6CiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcChjID0+IGMuZW5hYmxlKCkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdkaXNhYmxlQ29uc3RyYWludCc6CiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcChjID0+IGMuZGlzYWJsZSgpKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYWRkU3ByaW5nJzoKICAgICAgewogICAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzOwogICAgICAgIGxldCB7CiAgICAgICAgICB3b3JsZEFuY2hvckEsCiAgICAgICAgICB3b3JsZEFuY2hvckIsCiAgICAgICAgICBsb2NhbEFuY2hvckEsCiAgICAgICAgICBsb2NhbEFuY2hvckIsCiAgICAgICAgICByZXN0TGVuZ3RoLAogICAgICAgICAgc3RpZmZuZXNzLAogICAgICAgICAgZGFtcGluZwogICAgICAgIH0gPSBvcHRuczsKICAgICAgICB3b3JsZEFuY2hvckEgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQSkgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckEpIDogdW5kZWZpbmVkOwogICAgICAgIHdvcmxkQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JCKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQikgOiB1bmRlZmluZWQ7CiAgICAgICAgbG9jYWxBbmNob3JBID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckEpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JBKSA6IHVuZGVmaW5lZDsKICAgICAgICBsb2NhbEFuY2hvckIgPSBBcnJheS5pc0FycmF5KGxvY2FsQW5jaG9yQikgPyBuZXcgVmVjMyguLi5sb2NhbEFuY2hvckIpIDogdW5kZWZpbmVkOwogICAgICAgIGxldCBzcHJpbmcgPSBuZXcgU3ByaW5nKGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHsKICAgICAgICAgIHdvcmxkQW5jaG9yQSwKICAgICAgICAgIHdvcmxkQW5jaG9yQiwKICAgICAgICAgIGxvY2FsQW5jaG9yQSwKICAgICAgICAgIGxvY2FsQW5jaG9yQiwKICAgICAgICAgIHJlc3RMZW5ndGgsCiAgICAgICAgICBzdGlmZm5lc3MsCiAgICAgICAgICBkYW1waW5nCiAgICAgICAgfSk7CiAgICAgICAgc3ByaW5nLnV1aWQgPSB1dWlkOwoKICAgICAgICBsZXQgcG9zdFN0ZXBTcHJpbmcgPSBlID0+IHNwcmluZy5hcHBseUZvcmNlKCk7CgogICAgICAgIHNwcmluZ3NbdXVpZF0gPSBwb3N0U3RlcFNwcmluZzsgLy8gQ29tcHV0ZSB0aGUgZm9yY2UgYWZ0ZXIgZWFjaCBzdGVwCgogICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVTcHJpbmcnOgogICAgICB7CiAgICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ2FkZFJheSc6CiAgICAgIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBmcm9tLAogICAgICAgICAgdG8KICAgICAgICB9ID0gcHJvcHMsCiAgICAgICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbImZyb20iLCAidG8iXSk7CgogICAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoZnJvbSA/IG5ldyBWZWMzKC4uLmZyb20pIDogdW5kZWZpbmVkLCB0byA/IG5ldyBWZWMzKC4uLnRvKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgb3B0aW9ucy5tb2RlID0gUmF5W29wdGlvbnMubW9kZS50b1VwcGVyQ2FzZSgpXTsKICAgICAgICBvcHRpb25zLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7CgogICAgICAgIHJheXNbdXVpZF0gPSAoKSA9PiB7CiAgICAgICAgICByYXkuaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpOwoKICAgICAgICAgIGNvbnN0IF9vcHRpb25zJHJlc3VsdCA9IG9wdGlvbnMucmVzdWx0LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICBib2R5LAogICAgICAgICAgICBzaGFwZSwKICAgICAgICAgICAgcmF5RnJvbVdvcmxkLAogICAgICAgICAgICByYXlUb1dvcmxkLAogICAgICAgICAgICBoaXROb3JtYWxXb3JsZCwKICAgICAgICAgICAgaGl0UG9pbnRXb3JsZAogICAgICAgICAgfSA9IF9vcHRpb25zJHJlc3VsdCwKICAgICAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfb3B0aW9ucyRyZXN1bHQsIFsiYm9keSIsICJzaGFwZSIsICJyYXlGcm9tV29ybGQiLCAicmF5VG9Xb3JsZCIsICJoaXROb3JtYWxXb3JsZCIsICJoaXRQb2ludFdvcmxkIl0pOwoKICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoX2V4dGVuZHMoewogICAgICAgICAgICBvcDogJ2V2ZW50JywKICAgICAgICAgICAgdHlwZTogJ3JheWhpdCcsCiAgICAgICAgICAgIHJheTogewogICAgICAgICAgICAgIGZyb20sCiAgICAgICAgICAgICAgdG8sCiAgICAgICAgICAgICAgZGlyZWN0aW9uOiByYXkuZGlyZWN0aW9uLnRvQXJyYXkoKSwKICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJHcm91cDogcmF5LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgICAgIHV1aWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTogYm9keSA/IGJvZHkudXVpZCA6IG51bGwsCiAgICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IF9leHRlbmRzKHt9LCBzaGFwZSwgewogICAgICAgICAgICAgIGJvZHk6IGJvZHkudXVpZAogICAgICAgICAgICB9KSA6IG51bGwsCiAgICAgICAgICAgIHJheUZyb21Xb3JsZDogcmF5RnJvbVdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgIGhpdE5vcm1hbFdvcmxkOiBoaXROb3JtYWxXb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgIGhpdFBvaW50V29ybGQ6IGhpdFBvaW50V29ybGQudG9BcnJheSgpCiAgICAgICAgICB9LCByZXN0KSk7CiAgICAgICAgfTsKCiAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAncmVtb3ZlUmF5JzoKICAgICAgewogICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKTsKICAgICAgICBkZWxldGUgcmF5c1t1dWlkXTsKICAgICAgICBicmVhazsKICAgICAgfQogIH0KfTsKCg==', 'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvY2Fubm9uLWVzL2Rpc3QvY2Fubm9uLWVzLmpzIiwic3JjL3dvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmVjb3JkcyB3aGF0IG9iamVjdHMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXJcclxuICogQGNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBPYmplY3RDb2xsaXNpb25NYXRyaXgge1xuICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4ID0ge307XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBpXHJcbiAgICogQHBhcmFtICB7Qm9keX0galxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICovXG5cblxuICBnZXQoYmksIGJqKSB7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpZDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiBpICsgXCItXCIgKyBqIGluIHRoaXMubWF0cml4O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0XHJcbiAgICogQHBhcmFtICB7Qm9keX0gaVxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXHJcbiAgICovXG5cblxuICBzZXQoYmksIGJqLCB2YWx1ZSkge1xuICAgIGxldCB7XG4gICAgICBpZDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaWQ6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMubWF0cml4W2kgKyBcIi1cIiArIGpdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMubWF0cml4W2kgKyBcIi1cIiArIGpdO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBFbXB0eSB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCByZXNldFxyXG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5tYXRyaXggPSB7fTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgbWF4IG51bWJlciBvZiBvYmplY3RzXHJcbiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cclxuICAgKi9cblxuXG4gIHNldE51bU9iamVjdHMobikge31cblxufVxuXG4vKipcclxuICogQSAzeDMgbWF0cml4LlxyXG4gKiBAY2xhc3MgTWF0M1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQSB2ZWN0b3Igb2YgbGVuZ3RoIDksIGNvbnRhaW5pbmcgYWxsIG1hdHJpeCBlbGVtZW50cy4gT3B0aW9uYWwuXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIE1hdDMge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSkge1xuICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIHRoZSBtYXRyaXggdG8gaWRlbnRpdHlcclxuICAgKiBAbWV0aG9kIGlkZW50aXR5XHJcbiAgICogQHRvZG8gU2hvdWxkIHBlcmhhcHMgYmUgcmVuYW1lZCB0byBzZXRJZGVudGl0eSgpIHRvIGJlIG1vcmUgY2xlYXIuXHJcbiAgICogQHRvZG8gQ3JlYXRlIGFub3RoZXIgZnVuY3Rpb24gdGhhdCBpbW1lZGlhdGVseSBjcmVhdGVzIGFuIGlkZW50aXR5IG1hdHJpeCBlZy4gZXllKClcclxuICAgKi9cblxuXG4gIGlkZW50aXR5KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSAxO1xuICAgIGVbMV0gPSAwO1xuICAgIGVbMl0gPSAwO1xuICAgIGVbM10gPSAwO1xuICAgIGVbNF0gPSAxO1xuICAgIGVbNV0gPSAwO1xuICAgIGVbNl0gPSAwO1xuICAgIGVbN10gPSAwO1xuICAgIGVbOF0gPSAxO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBhbGwgZWxlbWVudHMgdG8gemVyb1xyXG4gICAqIEBtZXRob2Qgc2V0WmVyb1xyXG4gICAqL1xuXG5cbiAgc2V0WmVybygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzBdID0gMDtcbiAgICBlWzFdID0gMDtcbiAgICBlWzJdID0gMDtcbiAgICBlWzNdID0gMDtcbiAgICBlWzRdID0gMDtcbiAgICBlWzVdID0gMDtcbiAgICBlWzZdID0gMDtcbiAgICBlWzddID0gMDtcbiAgICBlWzhdID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzNcclxuICAgKiBAbWV0aG9kIHNldFRyYWNlXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2ZWMzXHJcbiAgICovXG5cblxuICBzZXRUcmFjZSh2ZWN0b3IpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzBdID0gdmVjdG9yLng7XG4gICAgZVs0XSA9IHZlY3Rvci55O1xuICAgIGVbOF0gPSB2ZWN0b3IuejtcbiAgfVxuICAvKipcclxuICAgKiBHZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHNcclxuICAgKiBAbWV0aG9kIGdldFRyYWNlXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGdldFRyYWNlKHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICB0YXJnZXQueCA9IGVbMF07XG4gICAgdGFyZ2V0LnkgPSBlWzRdO1xuICAgIHRhcmdldC56ID0gZVs4XTtcbiAgfVxuICAvKipcclxuICAgKiBNYXRyaXgtVmVjdG9yIG11bHRpcGxpY2F0aW9uXHJcbiAgICogQG1ldGhvZCB2bXVsdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gdiBUaGUgdmVjdG9yIHRvIG11bHRpcGx5IHdpdGhcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCwgdGFyZ2V0IHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKi9cblxuXG4gIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBjb25zdCB4ID0gdi54O1xuICAgIGNvbnN0IHkgPSB2Lnk7XG4gICAgY29uc3QgeiA9IHYuejtcbiAgICB0YXJnZXQueCA9IGVbMF0gKiB4ICsgZVsxXSAqIHkgKyBlWzJdICogejtcbiAgICB0YXJnZXQueSA9IGVbM10gKiB4ICsgZVs0XSAqIHkgKyBlWzVdICogejtcbiAgICB0YXJnZXQueiA9IGVbNl0gKiB4ICsgZVs3XSAqIHkgKyBlWzhdICogejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIE1hdHJpeC1zY2FsYXIgbXVsdGlwbGljYXRpb25cclxuICAgKiBAbWV0aG9kIHNtdWx0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNcclxuICAgKi9cblxuXG4gIHNtdWx0KHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbaV0gKj0gcztcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uXHJcbiAgICogQG1ldGhvZCBtbXVsdFxyXG4gICAqIEBwYXJhbSB7TWF0M30gbWF0cml4IE1hdHJpeCB0byBtdWx0aXBseSB3aXRoIGZyb20gbGVmdCBzaWRlLlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuXHJcbiAgICovXG5cblxuICBtbXVsdChtYXRyaXgsIHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50c1xuICAgIH0gPSBtYXRyaXg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgbGV0IHN1bSA9IDAuMDtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykge1xuICAgICAgICAgIHN1bSArPSBlbGVtZW50c1tpICsgayAqIDNdICogdGhpcy5lbGVtZW50c1trICsgaiAqIDNdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0LmVsZW1lbnRzW2kgKyBqICogM10gPSBzdW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBTY2FsZSBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCBzY2FsZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuXHJcbiAgICovXG5cblxuICBzY2FsZSh2ZWN0b3IsIHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykge1xuICAgICAgdFszICogaSArIDBdID0gdmVjdG9yLnggKiBlWzMgKiBpICsgMF07XG4gICAgICB0WzMgKiBpICsgMV0gPSB2ZWN0b3IueSAqIGVbMyAqIGkgKyAxXTtcbiAgICAgIHRbMyAqIGkgKyAyXSA9IHZlY3Rvci56ICogZVszICogaSArIDJdO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU29sdmUgQXg9YlxyXG4gICAqIEBtZXRob2Qgc29sdmVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IGIgVGhlIHJpZ2h0IGhhbmQgc2lkZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdmVjdG9yIHRvIHNhdmUgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM30gVGhlIHNvbHV0aW9uIHhcclxuICAgKiBAdG9kbyBzaG91bGQgcmV1c2UgYXJyYXlzXHJcbiAgICovXG5cblxuICBzb2x2ZShiLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgLy8gQ29uc3RydWN0IGVxdWF0aW9uc1xuICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3NcblxuICAgIGNvbnN0IG5jID0gNDsgLy8gbnVtIGNvbHNcblxuICAgIGNvbnN0IGVxbnMgPSBbXTtcbiAgICBsZXQgaTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHtcbiAgICAgIGVxbnMucHVzaCgwKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXFuc1szICsgNCAqIDBdID0gYi54O1xuICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTtcbiAgICBlcW5zWzMgKyA0ICogMl0gPSBiLno7IC8vIENvbXB1dGUgcmlnaHQgdXBwZXIgdHJpYW5ndWxhciB2ZXJzaW9uIG9mIHRoZSBtYXRyaXggLSBHYXVzcyBlbGltaW5hdGlvblxuXG4gICAgbGV0IG4gPSAzO1xuICAgIGNvbnN0IGsgPSBuO1xuICAgIGxldCBucDtcbiAgICBjb25zdCBrcCA9IDQ7IC8vIG51bSByb3dzXG5cbiAgICBsZXQgcDtcblxuICAgIGRvIHtcbiAgICAgIGkgPSBrIC0gbjtcblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gPT09IDApIHtcbiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXNcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBqXSAhPT0gMCkge1xuICAgICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAvLyBkbyBsaWduZSggaSApID0gbGlnbmUoIGkgKSArIGxpZ25lKCBrIClcbiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHtcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBrICkgPSBsaWduZSggayApIC0gbXVsdGlwbGllciAqIGxpZ25lKCBpIClcbiAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IHdoaWxlICgtLW4pOyAvLyBHZXQgdGhlIHNvbHV0aW9uXG5cblxuICAgIHRhcmdldC56ID0gZXFuc1syICogbmMgKyAzXSAvIGVxbnNbMiAqIG5jICsgMl07XG4gICAgdGFyZ2V0LnkgPSAoZXFuc1sxICogbmMgKyAzXSAtIGVxbnNbMSAqIG5jICsgMl0gKiB0YXJnZXQueikgLyBlcW5zWzEgKiBuYyArIDFdO1xuICAgIHRhcmdldC54ID0gKGVxbnNbMCAqIG5jICsgM10gLSBlcW5zWzAgKiBuYyArIDJdICogdGFyZ2V0LnogLSBlcW5zWzAgKiBuYyArIDFdICogdGFyZ2V0LnkpIC8gZXFuc1swICogbmMgKyAwXTtcblxuICAgIGlmIChpc05hTih0YXJnZXQueCkgfHwgaXNOYU4odGFyZ2V0LnkpIHx8IGlzTmFOKHRhcmdldC56KSB8fCB0YXJnZXQueCA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnkgPT09IEluZmluaXR5IHx8IHRhcmdldC56ID09PSBJbmZpbml0eSkge1xuICAgICAgdGhyb3cgXCJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVtcIiArIHRhcmdldC50b1N0cmluZygpICsgXCJdLCBiPVtcIiArIGIudG9TdHJpbmcoKSArIFwiXSwgQT1bXCIgKyB0aGlzLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBlbGVtZW50IGluIHRoZSBtYXRyaXggYnkgaW5kZXguIEluZGV4IHN0YXJ0cyBhdCAwLCBub3QgMSEhIVxyXG4gICAqIEBtZXRob2QgZVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByb3dcclxuICAgKiBAcGFyYW0ge051bWJlcn0gY29sdW1uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIE9wdGlvbmFsLiBJZiBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50IHdpbGwgYmUgc2V0IHRvIHRoaXMgdmFsdWUuXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZShyb3csIGNvbHVtbiwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbY29sdW1uICsgMyAqIHJvd107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNldCB2YWx1ZVxuICAgICAgdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb3B5IGFub3RoZXIgbWF0cml4IGludG8gdGhpcyBtYXRyaXggb2JqZWN0LlxyXG4gICAqIEBtZXRob2QgY29weVxyXG4gICAqIEBwYXJhbSB7TWF0M30gc291cmNlXHJcbiAgICogQHJldHVybiB7TWF0M30gdGhpc1xyXG4gICAqL1xuXG5cbiAgY29weShtYXRyaXgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG1hdHJpeC5lbGVtZW50c1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXguXHJcbiAgICogQG1ldGhvZCB0b1N0cmluZ1xyXG4gICAqIEByZXR1cm4gc3RyaW5nXHJcbiAgICovXG5cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgciA9ICcnO1xuICAgIGNvbnN0IHNlcCA9ICcsJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICByICs9IHRoaXMuZWxlbWVudHNbaV0gKyBzZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgLyoqXHJcbiAgICogcmV2ZXJzZSB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCByZXZlcnNlXHJcbiAgICogQHBhcmFtIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCBtYXRyaXggdG8gc2F2ZSBpbi5cclxuICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgc29sdXRpb24geFxyXG4gICAqL1xuXG5cbiAgcmV2ZXJzZSh0YXJnZXQgPSBuZXcgTWF0MygpKSB7XG4gICAgLy8gQ29uc3RydWN0IGVxdWF0aW9uc1xuICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3NcblxuICAgIGNvbnN0IG5jID0gNjsgLy8gbnVtIGNvbHNcblxuICAgIGNvbnN0IGVxbnMgPSBbXTtcbiAgICBsZXQgaTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHtcbiAgICAgIGVxbnMucHVzaCgwKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXFuc1szICsgNiAqIDBdID0gMTtcbiAgICBlcW5zWzMgKyA2ICogMV0gPSAwO1xuICAgIGVxbnNbMyArIDYgKiAyXSA9IDA7XG4gICAgZXFuc1s0ICsgNiAqIDBdID0gMDtcbiAgICBlcW5zWzQgKyA2ICogMV0gPSAxO1xuICAgIGVxbnNbNCArIDYgKiAyXSA9IDA7XG4gICAgZXFuc1s1ICsgNiAqIDBdID0gMDtcbiAgICBlcW5zWzUgKyA2ICogMV0gPSAwO1xuICAgIGVxbnNbNSArIDYgKiAyXSA9IDE7IC8vIENvbXB1dGUgcmlnaHQgdXBwZXIgdHJpYW5ndWxhciB2ZXJzaW9uIG9mIHRoZSBtYXRyaXggLSBHYXVzcyBlbGltaW5hdGlvblxuXG4gICAgbGV0IG4gPSAzO1xuICAgIGNvbnN0IGsgPSBuO1xuICAgIGxldCBucDtcbiAgICBjb25zdCBrcCA9IG5jOyAvLyBudW0gcm93c1xuXG4gICAgbGV0IHA7XG5cbiAgICBkbyB7XG4gICAgICBpID0gayAtIG47XG5cbiAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7XG4gICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzXG4gICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHtcbiAgICAgICAgICAgIG5wID0ga3A7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgLy8gZG8gbGluZSggaSApID0gbGluZSggaSApICsgbGluZSggayApXG4gICAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGldICs9IGVxbnNbcCArIG5jICogal07XG4gICAgICAgICAgICB9IHdoaWxlICgtLW5wKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldICE9PSAwKSB7XG4gICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldO1xuICAgICAgICAgIG5wID0ga3A7XG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBkbyBsaW5lKCBrICkgPSBsaW5lKCBrICkgLSBtdWx0aXBsaWVyICogbGluZSggaSApXG4gICAgICAgICAgICBwID0ga3AgLSBucDtcbiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyO1xuICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAoLS1uKTsgLy8gZWxpbWluYXRlIHRoZSB1cHBlciBsZWZ0IHRyaWFuZ2xlIG9mIHRoZSBtYXRyaXhcblxuXG4gICAgaSA9IDI7XG5cbiAgICBkbyB7XG4gICAgICBqID0gaSAtIDE7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldO1xuICAgICAgICBucCA9IG5jO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBwID0gbmMgLSBucDtcbiAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyO1xuICAgICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICAgIH0gd2hpbGUgKGotLSk7XG4gICAgfSB3aGlsZSAoLS1pKTsgLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGlhZ29uYWxcblxuXG4gICAgaSA9IDI7XG5cbiAgICBkbyB7XG4gICAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICBucCA9IG5jO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHAgPSBuYyAtIG5wO1xuICAgICAgICBlcW5zW3AgKyBuYyAqIGldID0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICB9IHdoaWxlIChpLS0pO1xuXG4gICAgaSA9IDI7XG5cbiAgICBkbyB7XG4gICAgICBqID0gMjtcblxuICAgICAgZG8ge1xuICAgICAgICBwID0gZXFuc1tuciArIGogKyBuYyAqIGldO1xuXG4gICAgICAgIGlmIChpc05hTihwKSB8fCBwID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHRocm93IFwiQ291bGQgbm90IHJldmVyc2UhIEE9W1wiICsgdGhpcy50b1N0cmluZygpICsgXCJdXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQuZShpLCBqLCBwKTtcbiAgICAgIH0gd2hpbGUgKGotLSk7XG4gICAgfSB3aGlsZSAoaS0tKTtcblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvblxyXG4gICAqIEBtZXRob2Qgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvblxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcVxyXG4gICAqL1xuXG5cbiAgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKSB7XG4gICAgY29uc3QgeCA9IHEueDtcbiAgICBjb25zdCB5ID0gcS55O1xuICAgIGNvbnN0IHogPSBxLno7XG4gICAgY29uc3QgdyA9IHEudztcbiAgICBjb25zdCB4MiA9IHggKyB4O1xuICAgIGNvbnN0IHkyID0geSArIHk7XG4gICAgY29uc3QgejIgPSB6ICsgejtcbiAgICBjb25zdCB4eCA9IHggKiB4MjtcbiAgICBjb25zdCB4eSA9IHggKiB5MjtcbiAgICBjb25zdCB4eiA9IHggKiB6MjtcbiAgICBjb25zdCB5eSA9IHkgKiB5MjtcbiAgICBjb25zdCB5eiA9IHkgKiB6MjtcbiAgICBjb25zdCB6eiA9IHogKiB6MjtcbiAgICBjb25zdCB3eCA9IHcgKiB4MjtcbiAgICBjb25zdCB3eSA9IHcgKiB5MjtcbiAgICBjb25zdCB3eiA9IHcgKiB6MjtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzMgKiAwICsgMF0gPSAxIC0gKHl5ICsgenopO1xuICAgIGVbMyAqIDAgKyAxXSA9IHh5IC0gd3o7XG4gICAgZVszICogMCArIDJdID0geHogKyB3eTtcbiAgICBlWzMgKiAxICsgMF0gPSB4eSArIHd6O1xuICAgIGVbMyAqIDEgKyAxXSA9IDEgLSAoeHggKyB6eik7XG4gICAgZVszICogMSArIDJdID0geXogLSB3eDtcbiAgICBlWzMgKiAyICsgMF0gPSB4eiAtIHd5O1xuICAgIGVbMyAqIDIgKyAxXSA9IHl6ICsgd3g7XG4gICAgZVszICogMiArIDJdID0gMSAtICh4eCArIHl5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBUcmFuc3Bvc2UgdGhlIG1hdHJpeFxyXG4gICAqIEBtZXRob2QgdHJhbnNwb3NlXHJcbiAgICogQHBhcmFtICB7TWF0M30gdGFyZ2V0IE9wdGlvbmFsLiBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0LlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSB0YXJnZXQgTWF0Mywgb3IgYSBuZXcgTWF0MyBpZiB0YXJnZXQgd2FzIG9taXR0ZWQuXHJcbiAgICovXG5cblxuICB0cmFuc3Bvc2UodGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IE10ID0gdGFyZ2V0LmVsZW1lbnRzO1xuICAgIGNvbnN0IE0gPSB0aGlzLmVsZW1lbnRzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IDM7IGorKykge1xuICAgICAgICBNdFszICogaSArIGpdID0gTVszICogaiArIGldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxufVxuXG4vKipcclxuICogMy1kaW1lbnNpb25hbCB2ZWN0b3JcclxuICogQGNsYXNzIFZlYzNcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6XHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQGV4YW1wbGVcclxuICogICAgIGNvbnN0IHYgPSBuZXcgVmVjMygxLCAyLCAzKTtcclxuICogICAgIGNvbnNvbGUubG9nKCd4PScgKyB2LngpOyAvLyB4PTFcclxuICovXG5cbmNsYXNzIFZlYzMge1xuICBjb25zdHJ1Y3Rvcih4ID0gMC4wLCB5ID0gMC4wLCB6ID0gMC4wKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gIH1cbiAgLyoqXHJcbiAgICogVmVjdG9yIGNyb3NzIHByb2R1Y3RcclxuICAgKiBAbWV0aG9kIGNyb3NzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB0byBzYXZlIGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjcm9zcyh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB2eCA9IHZlY3Rvci54O1xuICAgIGNvbnN0IHZ5ID0gdmVjdG9yLnk7XG4gICAgY29uc3QgdnogPSB2ZWN0b3IuejtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICB0YXJnZXQueCA9IHkgKiB2eiAtIHogKiB2eTtcbiAgICB0YXJnZXQueSA9IHogKiB2eCAtIHggKiB2ejtcbiAgICB0YXJnZXQueiA9IHggKiB2eSAtIHkgKiB2eDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdmVjdG9ycycgMyBlbGVtZW50c1xyXG4gICAqIEBtZXRob2Qgc2V0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuICAgKiBAcGFyYW0ge051bWJlcn0geVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6XHJcbiAgICogQHJldHVybiBWZWMzXHJcbiAgICovXG5cblxuICBzZXQoeCwgeSwgeikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBhbGwgY29tcG9uZW50cyBvZiB0aGUgdmVjdG9yIHRvIHplcm8uXHJcbiAgICogQG1ldGhvZCBzZXRaZXJvXHJcbiAgICovXG5cblxuICBzZXRaZXJvKCkge1xuICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogVmVjdG9yIGFkZGl0aW9uXHJcbiAgICogQG1ldGhvZCB2YWRkXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZhZGQodmVjdG9yLCB0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0YXJnZXQueCA9IHZlY3Rvci54ICsgdGhpcy54O1xuICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSArIHRoaXMueTtcbiAgICAgIHRhcmdldC56ID0gdmVjdG9yLnogKyB0aGlzLno7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKyB2ZWN0b3IueCwgdGhpcy55ICsgdmVjdG9yLnksIHRoaXMueiArIHZlY3Rvci56KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogVmVjdG9yIHN1YnRyYWN0aW9uXHJcbiAgICogQG1ldGhvZCB2c3ViXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB0byBzYXZlIGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2c3ViKHZlY3RvciwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGFyZ2V0LnggPSB0aGlzLnggLSB2ZWN0b3IueDtcbiAgICAgIHRhcmdldC55ID0gdGhpcy55IC0gdmVjdG9yLnk7XG4gICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54IC0gdmVjdG9yLngsIHRoaXMueSAtIHZlY3Rvci55LCB0aGlzLnogLSB2ZWN0b3Iueik7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgY3Jvc3MgcHJvZHVjdCBtYXRyaXggYV9jcm9zcyBmcm9tIGEgdmVjdG9yLCBzdWNoIHRoYXQgYSB4IGIgPSBhX2Nyb3NzICogYiA9IGNcclxuICAgKiBAbWV0aG9kIGNyb3NzbWF0XHJcbiAgICogQHNlZSBodHRwOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyL1REQkQyNC9WVDA2L2xlY3R1cmVzL0xlY3R1cmU2LnBkZlxyXG4gICAqIEByZXR1cm4ge01hdDN9XHJcbiAgICovXG5cblxuICBjcm9zc21hdCgpIHtcbiAgICByZXR1cm4gbmV3IE1hdDMoWzAsIC10aGlzLnosIHRoaXMueSwgdGhpcy56LCAwLCAtdGhpcy54LCAtdGhpcy55LCB0aGlzLngsIDBdKTtcbiAgfVxuICAvKipcclxuICAgKiBOb3JtYWxpemUgdGhlIHZlY3Rvci4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIGluIHRoZSB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBub3JtYWxpemVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFJldHVybnMgdGhlIG5vcm0gb2YgdGhlIHZlY3RvclxyXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICAgIGlmIChuID4gMC4wKSB7XG4gICAgICBjb25zdCBpbnZOID0gMSAvIG47XG4gICAgICB0aGlzLnggKj0gaW52TjtcbiAgICAgIHRoaXMueSAqPSBpbnZOO1xuICAgICAgdGhpcy56ICo9IGludk47XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1ha2Ugc29tZXRoaW5nIHVwXG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG47XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB2ZXJzaW9uIG9mIHRoaXMgdmVjdG9yIHRoYXQgaXMgb2YgbGVuZ3RoIDEuXHJcbiAgICogQG1ldGhvZCB1bml0XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW5cclxuICAgKiBAcmV0dXJuIHtWZWMzfSBSZXR1cm5zIHRoZSB1bml0IHZlY3RvclxyXG4gICAqL1xuXG5cbiAgdW5pdCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgbGV0IG5pbnYgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICAgIGlmIChuaW52ID4gMC4wKSB7XG4gICAgICBuaW52ID0gMS4wIC8gbmludjtcbiAgICAgIHRhcmdldC54ID0geCAqIG5pbnY7XG4gICAgICB0YXJnZXQueSA9IHkgKiBuaW52O1xuICAgICAgdGFyZ2V0LnogPSB6ICogbmludjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0LnggPSAxO1xuICAgICAgdGFyZ2V0LnkgPSAwO1xuICAgICAgdGFyZ2V0LnogPSAwO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxyXG4gICAqIEBtZXRob2QgbGVuZ3RoXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgbGVuZ3RoKCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBsZW5ndGhTcXVhcmVkXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgbGVuZ3RoU3F1YXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb3QodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50XHJcbiAgICogQG1ldGhvZCBkaXN0YW5jZVRvXHJcbiAgICogQHBhcmFtICB7VmVjM30gcFxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGRpc3RhbmNlVG8ocCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IHB4ID0gcC54O1xuICAgIGNvbnN0IHB5ID0gcC55O1xuICAgIGNvbnN0IHB6ID0gcC56O1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludFxyXG4gICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkXHJcbiAgICogQHBhcmFtICB7VmVjM30gcFxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGRpc3RhbmNlU3F1YXJlZChwKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgcHggPSBwLng7XG4gICAgY29uc3QgcHkgPSBwLnk7XG4gICAgY29uc3QgcHogPSBwLno7XG4gICAgcmV0dXJuIChweCAtIHgpICogKHB4IC0geCkgKyAocHkgLSB5KSAqIChweSAtIHkpICsgKHB6IC0geikgKiAocHogLSB6KTtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvciB3aXRoIGEgc2NhbGFyLlxyXG4gICAqIEBtZXRob2Qgc2NhbGVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHNjYWxlKHNjYWxhciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0gc2NhbGFyICogeDtcbiAgICB0YXJnZXQueSA9IHNjYWxhciAqIHk7XG4gICAgdGFyZ2V0LnogPSBzY2FsYXIgKiB6O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhlIHZlY3RvciB3aXRoIGFuIG90aGVyIHZlY3RvciwgY29tcG9uZW50LXdpc2UuXHJcbiAgICogQG1ldGhvZCB2bXVsdFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWN0b3JcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQueCA9IHZlY3Rvci54ICogdGhpcy54O1xuICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKiB0aGlzLnk7XG4gICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNjYWxlIGEgdmVjdG9yIGFuZCBhZGQgaXQgdG8gdGhpcyB2ZWN0b3IuIFNhdmUgdGhlIHJlc3VsdCBpbiBcInRhcmdldFwiLiAodGFyZ2V0ID0gdGhpcyArIHZlY3RvciAqIHNjYWxhcilcclxuICAgKiBAbWV0aG9kIGFkZFNjYWxlZFZlY3RvclxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvclxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBhZGRTY2FsZWRWZWN0b3Ioc2NhbGFyLCB2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54O1xuICAgIHRhcmdldC55ID0gdGhpcy55ICsgc2NhbGFyICogdmVjdG9yLnk7XG4gICAgdGFyZ2V0LnogPSB0aGlzLnogKyBzY2FsYXIgKiB2ZWN0b3IuejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZSBkb3QgcHJvZHVjdFxyXG4gICAqIEBtZXRob2QgZG90XHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZG90KHZlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55ICsgdGhpcy56ICogdmVjdG9yLno7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBpc1plcm9cclxuICAgKiBAcmV0dXJuIGJvb2xcclxuICAgKi9cblxuXG4gIGlzWmVybygpIHtcbiAgICByZXR1cm4gdGhpcy54ID09PSAwICYmIHRoaXMueSA9PT0gMCAmJiB0aGlzLnogPT09IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogTWFrZSB0aGUgdmVjdG9yIHBvaW50IGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXHJcbiAgICogQG1ldGhvZCBuZWdhdGVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpblxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gLXRoaXMueDtcbiAgICB0YXJnZXQueSA9IC10aGlzLnk7XG4gICAgdGFyZ2V0LnogPSAtdGhpcy56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0d28gYXJ0aWZpY2lhbCB0YW5nZW50cyB0byB0aGUgdmVjdG9yXHJcbiAgICogQG1ldGhvZCB0YW5nZW50c1xyXG4gICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0MiBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIHNlY29uZCB0YW5nZW50IGluXHJcbiAgICovXG5cblxuICB0YW5nZW50cyh0MSwgdDIpIHtcbiAgICBjb25zdCBub3JtID0gdGhpcy5sZW5ndGgoKTtcblxuICAgIGlmIChub3JtID4gMC4wKSB7XG4gICAgICBjb25zdCBuID0gVmVjM190YW5nZW50c19uO1xuICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTtcbiAgICAgIG4uc2V0KHRoaXMueCAqIGlub3JtLCB0aGlzLnkgKiBpbm9ybSwgdGhpcy56ICogaW5vcm0pO1xuICAgICAgY29uc3QgcmFuZFZlYyA9IFZlYzNfdGFuZ2VudHNfcmFuZFZlYztcblxuICAgICAgaWYgKE1hdGguYWJzKG4ueCkgPCAwLjkpIHtcbiAgICAgICAgcmFuZFZlYy5zZXQoMSwgMCwgMCk7XG4gICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZFZlYy5zZXQoMCwgMSwgMCk7XG4gICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpO1xuICAgICAgfVxuXG4gICAgICBuLmNyb3NzKHQxLCB0Mik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBub3JtYWwgbGVuZ3RoIGlzIHplcm8sIG1ha2Ugc29tZXRoaW5nIHVwXG4gICAgICB0MS5zZXQoMSwgMCwgMCk7XG4gICAgICB0Mi5zZXQoMCwgMSwgMCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIHRvIGEgbW9yZSByZWFkYWJsZSBmb3JtYXRcclxuICAgKiBAbWV0aG9kIHRvU3RyaW5nXHJcbiAgICogQHJldHVybiBzdHJpbmdcclxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiLFwiICsgdGhpcy56O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIHRvIGFuIGFycmF5XHJcbiAgICogQG1ldGhvZCB0b0FycmF5XHJcbiAgICogQHJldHVybiBBcnJheVxyXG4gICAqL1xuXG5cbiAgdG9BcnJheSgpIHtcbiAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnpdO1xuICB9XG4gIC8qKlxyXG4gICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBjb3B5XHJcbiAgICogQHBhcmFtIHtWZWMzfSBzb3VyY2VcclxuICAgKiBAcmV0dXJuIHtWZWMzfSB0aGlzXHJcbiAgICovXG5cblxuICBjb3B5KHZlY3Rvcikge1xuICAgIHRoaXMueCA9IHZlY3Rvci54O1xuICAgIHRoaXMueSA9IHZlY3Rvci55O1xuICAgIHRoaXMueiA9IHZlY3Rvci56O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9yc1xyXG4gICAqIEBtZXRob2QgbGVycFxyXG4gICAqIEBwYXJhbSB7VmVjM30gdlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gMCB3aWxsIG1ha2UgdGhpcyBmdW5jdGlvbiByZXR1cm4gdSwgYW5kIDEgd2lsbCBtYWtlIGl0IHJldHVybiB2LiBOdW1iZXJzIGluIGJldHdlZW4gd2lsbCBnZW5lcmF0ZSBhIHZlY3RvciBpbiBiZXR3ZWVuIHRoZW0uXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICAgKi9cblxuXG4gIGxlcnAodmVjdG9yLCB0LCB0YXJnZXQpIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICB0YXJnZXQueCA9IHggKyAodmVjdG9yLnggLSB4KSAqIHQ7XG4gICAgdGFyZ2V0LnkgPSB5ICsgKHZlY3Rvci55IC0geSkgKiB0O1xuICAgIHRhcmdldC56ID0geiArICh2ZWN0b3IueiAtIHopICogdDtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHZlY3RvciBlcXVhbHMgaXMgYWxtb3N0IGVxdWFsIHRvIGFub3RoZXIgb25lLlxyXG4gICAqIEBtZXRob2QgYWxtb3N0RXF1YWxzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHByZWNpc2lvblxyXG4gICAqIEByZXR1cm4gYm9vbFxyXG4gICAqL1xuXG5cbiAgYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uID0gMWUtNikge1xuICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB2ZWN0b3IueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55IC0gdmVjdG9yLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueiAtIHZlY3Rvci56KSA+IHByZWNpc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvXHJcbiAgICogQG1ldGhvZCBhbG1vc3RaZXJvXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHByZWNpc2lvblxyXG4gICAqL1xuXG5cbiAgYWxtb3N0WmVybyhwcmVjaXNpb24gPSAxZS02KSB7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnopID4gcHJlY2lzaW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLlxyXG4gICAqIEBtZXRob2QgaXNBbnRpcGFyYWxsZWxUb1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9ICB2XHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29uc1xyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBpc0FudGlwYXJhbGxlbFRvKHZlY3RvciwgcHJlY2lzaW9uKSB7XG4gICAgdGhpcy5uZWdhdGUoYW50aXBfbmVnKTtcbiAgICByZXR1cm4gYW50aXBfbmVnLmFsbW9zdEVxdWFscyh2ZWN0b3IsIHByZWNpc2lvbik7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xvbmUgdGhlIHZlY3RvclxyXG4gICAqIEBtZXRob2QgY2xvbmVcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xuICB9XG5cbn1cblZlYzMuWkVSTyA9IG5ldyBWZWMzKDAsIDAsIDApO1xuVmVjMy5VTklUX1ggPSBuZXcgVmVjMygxLCAwLCAwKTtcblZlYzMuVU5JVF9ZID0gbmV3IFZlYzMoMCwgMSwgMCk7XG5WZWMzLlVOSVRfWiA9IG5ldyBWZWMzKDAsIDAsIDEpO1xuLyoqXHJcbiAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3RvclxyXG4gKiBAbWV0aG9kIHRhbmdlbnRzXHJcbiAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluXHJcbiAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpblxyXG4gKi9cblxuY29uc3QgVmVjM190YW5nZW50c19uID0gbmV3IFZlYzMoKTtcbmNvbnN0IFZlYzNfdGFuZ2VudHNfcmFuZFZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBhbnRpcF9uZWcgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQXhpcyBhbGlnbmVkIGJvdW5kaW5nIGJveCBjbGFzcy5cclxuICogQGNsYXNzIEFBQkJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLnVwcGVyQm91bmRdIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94LlxyXG4gKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMubG93ZXJCb3VuZF0gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcclxuICovXG5jbGFzcyBBQUJCIHtcbiAgLy8gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcbiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5sb3dlckJvdW5kID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkge1xuICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkob3B0aW9ucy5sb3dlckJvdW5kKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy51cHBlckJvdW5kKSB7XG4gICAgICB0aGlzLnVwcGVyQm91bmQuY29weShvcHRpb25zLnVwcGVyQm91bmQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIEFBQkIgYm91bmRzIGZyb20gYSBzZXQgb2YgcG9pbnRzLlxyXG4gICAqIEBtZXRob2Qgc2V0RnJvbVBvaW50c1xyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3MuXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NpdGlvbiBPcHRpb25hbC5cclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRlcm5pb24gT3B0aW9uYWwuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5TaXplIE9wdGlvbmFsLlxyXG4gICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBzZWxmIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBza2luU2l6ZSkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDtcbiAgICBjb25zdCBxID0gcXVhdGVybmlvbjsgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludFxuXG4gICAgbC5jb3B5KHBvaW50c1swXSk7XG5cbiAgICBpZiAocSkge1xuICAgICAgcS52bXVsdChsLCBsKTtcbiAgICB9XG5cbiAgICB1LmNvcHkobCk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHAgPSBwb2ludHNbaV07XG5cbiAgICAgIGlmIChxKSB7XG4gICAgICAgIHEudm11bHQocCwgdG1wKTtcbiAgICAgICAgcCA9IHRtcDtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueCA+IHUueCkge1xuICAgICAgICB1LnggPSBwLng7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnggPCBsLngpIHtcbiAgICAgICAgbC54ID0gcC54O1xuICAgICAgfVxuXG4gICAgICBpZiAocC55ID4gdS55KSB7XG4gICAgICAgIHUueSA9IHAueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueSA8IGwueSkge1xuICAgICAgICBsLnkgPSBwLnk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnogPiB1LnopIHtcbiAgICAgICAgdS56ID0gcC56O1xuICAgICAgfVxuXG4gICAgICBpZiAocC56IDwgbC56KSB7XG4gICAgICAgIGwueiA9IHAuejtcbiAgICAgIH1cbiAgICB9IC8vIEFkZCBvZmZzZXRcblxuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICBwb3NpdGlvbi52YWRkKGwsIGwpO1xuICAgICAgcG9zaXRpb24udmFkZCh1LCB1KTtcbiAgICB9XG5cbiAgICBpZiAoc2tpblNpemUpIHtcbiAgICAgIGwueCAtPSBza2luU2l6ZTtcbiAgICAgIGwueSAtPSBza2luU2l6ZTtcbiAgICAgIGwueiAtPSBza2luU2l6ZTtcbiAgICAgIHUueCArPSBza2luU2l6ZTtcbiAgICAgIHUueSArPSBza2luU2l6ZTtcbiAgICAgIHUueiArPSBza2luU2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDb3B5IGJvdW5kcyBmcm9tIGFuIEFBQkIgdG8gdGhpcyBBQUJCXHJcbiAgICogQG1ldGhvZCBjb3B5XHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYiBTb3VyY2UgdG8gY29weSBmcm9tXHJcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIHRoaXMgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5XHJcbiAgICovXG5cblxuICBjb3B5KGFhYmIpIHtcbiAgICB0aGlzLmxvd2VyQm91bmQuY29weShhYWJiLmxvd2VyQm91bmQpO1xuICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KGFhYmIudXBwZXJCb3VuZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xvbmUgYW4gQUFCQlxyXG4gICAqIEBtZXRob2QgY2xvbmVcclxuICAgKi9cblxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgQUFCQigpLmNvcHkodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogRXh0ZW5kIHRoaXMgQUFCQiBzbyB0aGF0IGl0IGNvdmVycyB0aGUgZ2l2ZW4gQUFCQiB0b28uXHJcbiAgICogQG1ldGhvZCBleHRlbmRcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICovXG5cblxuICBleHRlbmQoYWFiYikge1xuICAgIHRoaXMubG93ZXJCb3VuZC54ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC54KTtcbiAgICB0aGlzLnVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueCk7XG4gICAgdGhpcy5sb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueSwgYWFiYi5sb3dlckJvdW5kLnkpO1xuICAgIHRoaXMudXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLnksIGFhYmIudXBwZXJCb3VuZC55KTtcbiAgICB0aGlzLmxvd2VyQm91bmQueiA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC56LCBhYWJiLmxvd2VyQm91bmQueik7XG4gICAgdGhpcy51cHBlckJvdW5kLnogPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueiwgYWFiYi51cHBlckJvdW5kLnopO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBvdmVybGFwcyB0aGlzIEFBQkIuXHJcbiAgICogQG1ldGhvZCBvdmVybGFwc1xyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgb3ZlcmxhcHMoYWFiYikge1xuICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IGwyID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MlxuICAgIC8vICAgICAgfC0tLS0tLS0tLXxcbiAgICAvLyB8LS0tLS0tLS18XG4gICAgLy8gbDEgICAgICAgdTFcblxuICAgIGNvbnN0IG92ZXJsYXBzWCA9IGwyLnggPD0gdTEueCAmJiB1MS54IDw9IHUyLnggfHwgbDEueCA8PSB1Mi54ICYmIHUyLnggPD0gdTEueDtcbiAgICBjb25zdCBvdmVybGFwc1kgPSBsMi55IDw9IHUxLnkgJiYgdTEueSA8PSB1Mi55IHx8IGwxLnkgPD0gdTIueSAmJiB1Mi55IDw9IHUxLnk7XG4gICAgY29uc3Qgb3ZlcmxhcHNaID0gbDIueiA8PSB1MS56ICYmIHUxLnogPD0gdTIueiB8fCBsMS56IDw9IHUyLnogJiYgdTIueiA8PSB1MS56O1xuICAgIHJldHVybiBvdmVybGFwc1ggJiYgb3ZlcmxhcHNZICYmIG92ZXJsYXBzWjtcbiAgfSAvLyBNb3N0bHkgZm9yIGRlYnVnZ2luZ1xuXG5cbiAgdm9sdW1lKCkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDtcbiAgICByZXR1cm4gKHUueCAtIGwueCkgKiAodS55IC0gbC55KSAqICh1LnogLSBsLnopO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLlxyXG4gICAqIEBtZXRob2QgY29udGFpbnNcclxuICAgKiBAcGFyYW0ge0FBQkJ9IGFhYmJcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgY29udGFpbnMoYWFiYikge1xuICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IGwyID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MlxuICAgIC8vICAgICAgfC0tLS0tLS0tLXxcbiAgICAvLyB8LS0tLS0tLS0tLS0tLS0tfFxuICAgIC8vIGwxICAgICAgICAgICAgICB1MVxuXG4gICAgcmV0dXJuIGwxLnggPD0gbDIueCAmJiB1MS54ID49IHUyLnggJiYgbDEueSA8PSBsMi55ICYmIHUxLnkgPj0gdTIueSAmJiBsMS56IDw9IGwyLnogJiYgdTEueiA+PSB1Mi56O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZ2V0Q29ybmVyc1xyXG4gICAqIEBwYXJhbSB7VmVjM30gYVxyXG4gICAqIEBwYXJhbSB7VmVjM30gYlxyXG4gICAqIEBwYXJhbSB7VmVjM30gY1xyXG4gICAqIEBwYXJhbSB7VmVjM30gZFxyXG4gICAqIEBwYXJhbSB7VmVjM30gZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gZlxyXG4gICAqIEBwYXJhbSB7VmVjM30gZ1xyXG4gICAqIEBwYXJhbSB7VmVjM30gaFxyXG4gICAqL1xuXG5cbiAgZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGEuY29weShsKTtcbiAgICBiLnNldCh1LngsIGwueSwgbC56KTtcbiAgICBjLnNldCh1LngsIHUueSwgbC56KTtcbiAgICBkLnNldChsLngsIHUueSwgdS56KTtcbiAgICBlLnNldCh1LngsIGwueSwgdS56KTtcbiAgICBmLnNldChsLngsIHUueSwgbC56KTtcbiAgICBnLnNldChsLngsIGwueSwgdS56KTtcbiAgICBoLmNvcHkodSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSByZXByZXNlbnRhdGlvbiBvZiBhbiBBQUJCIGluIGFub3RoZXIgZnJhbWUuXHJcbiAgICogQG1ldGhvZCB0b0xvY2FsRnJhbWVcclxuICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lXHJcbiAgICogQHBhcmFtICB7QUFCQn0gdGFyZ2V0XHJcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIFwidGFyZ2V0XCIgQUFCQiBvYmplY3QuXHJcbiAgICovXG5cblxuICB0b0xvY2FsRnJhbWUoZnJhbWUsIHRhcmdldCkge1xuICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycztcbiAgICBjb25zdCBhID0gY29ybmVyc1swXTtcbiAgICBjb25zdCBiID0gY29ybmVyc1sxXTtcbiAgICBjb25zdCBjID0gY29ybmVyc1syXTtcbiAgICBjb25zdCBkID0gY29ybmVyc1szXTtcbiAgICBjb25zdCBlID0gY29ybmVyc1s0XTtcbiAgICBjb25zdCBmID0gY29ybmVyc1s1XTtcbiAgICBjb25zdCBnID0gY29ybmVyc1s2XTtcbiAgICBjb25zdCBoID0gY29ybmVyc1s3XTsgLy8gR2V0IGNvcm5lcnMgaW4gY3VycmVudCBmcmFtZVxuXG4gICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHtcbiAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07XG4gICAgICBmcmFtZS5wb2ludFRvTG9jYWwoY29ybmVyLCBjb3JuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQuc2V0RnJvbVBvaW50cyhjb3JuZXJzKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHRvV29ybGRGcmFtZVxyXG4gICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWVcclxuICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgXCJ0YXJnZXRcIiBBQUJCIG9iamVjdC5cclxuICAgKi9cblxuXG4gIHRvV29ybGRGcmFtZShmcmFtZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY29ybmVycyA9IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzO1xuICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdO1xuICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdO1xuICAgIGNvbnN0IGMgPSBjb3JuZXJzWzJdO1xuICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdO1xuICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdO1xuICAgIGNvbnN0IGYgPSBjb3JuZXJzWzVdO1xuICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdO1xuICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lXG5cbiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTtcbiAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHRoZSBBQUJCIGlzIGhpdCBieSBhIHJheS5cclxuICAgKiBAcGFyYW0gIHtSYXl9IHJheVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBvdmVybGFwc1JheShyYXkpIHtcbiAgICBjb25zdCB7XG4gICAgICBkaXJlY3Rpb24sXG4gICAgICBmcm9tXG4gICAgfSA9IHJheTtcblxuICAgIGNvbnN0IGRpckZyYWNYID0gMSAvIGRpcmVjdGlvbi54O1xuICAgIGNvbnN0IGRpckZyYWNZID0gMSAvIGRpcmVjdGlvbi55O1xuICAgIGNvbnN0IGRpckZyYWNaID0gMSAvIGRpcmVjdGlvbi56OyAvLyB0aGlzLmxvd2VyQm91bmQgaXMgdGhlIGNvcm5lciBvZiBBQUJCIHdpdGggbWluaW1hbCBjb29yZGluYXRlcyAtIGxlZnQgYm90dG9tLCBydCBpcyBtYXhpbWFsIGNvcm5lclxuXG4gICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7XG4gICAgY29uc3QgdDIgPSAodGhpcy51cHBlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7XG4gICAgY29uc3QgdDMgPSAodGhpcy5sb3dlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7XG4gICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7XG4gICAgY29uc3QgdDUgPSAodGhpcy5sb3dlckJvdW5kLnogLSBmcm9tLnopICogZGlyRnJhY1o7XG4gICAgY29uc3QgdDYgPSAodGhpcy51cHBlckJvdW5kLnogLSBmcm9tLnopICogZGlyRnJhY1o7IC8vIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSk7XG4gICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTtcblxuICAgIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSwgTWF0aC5taW4odDUsIHQ2KSk7XG4gICAgY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpLCBNYXRoLm1heCh0NSwgdDYpKTsgLy8gaWYgdG1heCA8IDAsIHJheSAobGluZSkgaXMgaW50ZXJzZWN0aW5nIEFBQkIsIGJ1dCB3aG9sZSBBQUJCIGlzIGJlaGluZyB1c1xuXG4gICAgaWYgKHRtYXggPCAwKSB7XG4gICAgICAvL3QgPSB0bWF4O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gaWYgdG1pbiA+IHRtYXgsIHJheSBkb2Vzbid0IGludGVyc2VjdCBBQUJCXG5cblxuICAgIGlmICh0bWluID4gdG1heCkge1xuICAgICAgLy90ID0gdG1heDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG59XG5jb25zdCB0bXAgPSBuZXcgVmVjMygpO1xuY29uc3QgdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07XG5cbi8qKlxyXG4gKiBDb2xsaXNpb24gXCJtYXRyaXhcIi4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcFxyXG4gKiBAY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXhcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXgge1xuICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4ID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFuIGVsZW1lbnRcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGlcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBqXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZ2V0KGJpLCBiaikge1xuICAgIGxldCB7XG4gICAgICBpbmRleDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaW5kZXg6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBhbiBlbGVtZW50XHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0ge0JvZHl9IGlcclxuICAgKiBAcGFyYW0ge0JvZHl9IGpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXHJcbiAgICovXG5cblxuICBzZXQoYmksIGJqLCB2YWx1ZSkge1xuICAgIGxldCB7XG4gICAgICBpbmRleDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaW5kZXg6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV0gPSB2YWx1ZSA/IDEgOiAwO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgYWxsIGVsZW1lbnRzIHRvIHplcm9cclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubWF0cml4Lmxlbmd0aDsgaSAhPT0gbDsgaSsrKSB7XG4gICAgICB0aGlzLm1hdHJpeFtpXSA9IDA7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1heCBudW1iZXIgb2Ygb2JqZWN0c1xyXG4gICAqIEBtZXRob2Qgc2V0TnVtT2JqZWN0c1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuXHJcbiAgICovXG5cblxuICBzZXROdW1PYmplY3RzKG4pIHtcbiAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIG9iamVjdHMgdGhhdCBkaXNwYXRjaGVzIGV2ZW50cy5cclxuICogQGNsYXNzIEV2ZW50VGFyZ2V0XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICAvKipcclxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcclxuICAgKiBAbWV0aG9kIGFkZEV2ZW50TGlzdGVuZXJcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxyXG4gICAqL1xuXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIWxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhbiBldmVudCBsaXN0ZW5lciBpcyBhZGRlZFxyXG4gICAqIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBoYXNFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhbnkgZXZlbnQgbGlzdGVuZXIgb2YgdGhlIGdpdmVuIHR5cGUgaXMgYWRkZWRcclxuICAgKiBAbWV0aG9kIGhhc0FueUV2ZW50TGlzdGVuZXJcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgaGFzQW55RXZlbnRMaXN0ZW5lcih0eXBlKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgIHJldHVybiBsaXN0ZW5lcnNbdHlwZV0gIT09IHVuZGVmaW5lZDtcbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXJcclxuICAgKiBAbWV0aG9kIHJlbW92ZUV2ZW50TGlzdGVuZXJcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEVtaXQgYW4gZXZlbnQuXHJcbiAgICogQG1ldGhvZCBkaXNwYXRjaEV2ZW50XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQudHlwZVxyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgY29uc3QgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1tldmVudC50eXBlXTtcblxuICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgbGlzdGVuZXJBcnJheVtpXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG5cbi8qKlxuICogQSBRdWF0ZXJuaW9uIGRlc2NyaWJlcyBhIHJvdGF0aW9uIGluIDNEIHNwYWNlLiBUaGUgUXVhdGVybmlvbiBpcyBtYXRoZW1hdGljYWxseSBkZWZpbmVkIGFzIFEgPSB4KmkgKyB5KmogKyB6KmsgKyB3LCB3aGVyZSAoaSxqLGspIGFyZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9ycy4gKHgseSx6KSBjYW4gYmUgc2VlbiBhcyBhIHZlY3RvciByZWxhdGVkIHRvIHRoZSBheGlzIG9mIHJvdGF0aW9uLCB3aGlsZSB0aGUgcmVhbCBtdWx0aXBsaWVyLCB3LCBpcyByZWxhdGVkIHRvIHRoZSBhbW91bnQgb2Ygcm90YXRpb24uXG4gKiBAcGFyYW0ge051bWJlcn0geCBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGkuXG4gKiBAcGFyYW0ge051bWJlcn0geSBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGouXG4gKiBAcGFyYW0ge051bWJlcn0geiBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGsuXG4gKiBAcGFyYW0ge051bWJlcn0gdyBNdWx0aXBsaWVyIG9mIHRoZSByZWFsIHBhcnQuXG4gKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVhdGVybmlvblxuICovXG5cbmNsYXNzIFF1YXRlcm5pb24ge1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMudyA9IHc7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAqL1xuXG5cbiAgc2V0KHgsIHksIHosIHcpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgICB0aGlzLncgPSB3O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IHRvIGEgcmVhZGFibGUgZm9ybWF0XG4gICAqIEByZXR1cm4ge1N0cmluZ30gXCJ4LHkseix3XCJcbiAgICovXG5cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy54ICsgXCIsXCIgKyB0aGlzLnkgKyBcIixcIiArIHRoaXMueiArIFwiLFwiICsgdGhpcy53O1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IHRvIGFuIEFycmF5XG4gICAqIEByZXR1cm4ge0FycmF5fSBbeCwgeSwgeiwgd11cbiAgICovXG5cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53XTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBxdWF0ZXJuaW9uIGNvbXBvbmVudHMgZ2l2ZW4gYW4gYXhpcyBhbmQgYW4gYW5nbGUgaW4gcmFkaWFucy5cbiAgICovXG5cblxuICBzZXRGcm9tQXhpc0FuZ2xlKHZlY3RvciwgYW5nbGUpIHtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUgKiAwLjUpO1xuICAgIHRoaXMueCA9IHZlY3Rvci54ICogcztcbiAgICB0aGlzLnkgPSB2ZWN0b3IueSAqIHM7XG4gICAgdGhpcy56ID0gdmVjdG9yLnogKiBzO1xuICAgIHRoaXMudyA9IE1hdGguY29zKGFuZ2xlICogMC41KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gWyBheGlzLCBhbmdsZSBdIHJlcHJlc2VudGF0aW9uLlxuICAgKiBAcGFyYW0ge1ZlYzN9IFt0YXJnZXRBeGlzXSBBIHZlY3RvciBvYmplY3QgdG8gcmV1c2UgZm9yIHN0b3JpbmcgdGhlIGF4aXMuXG4gICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSwgZmlyc3QgZWxlbWVudCBpcyB0aGUgYXhpcyBhbmQgdGhlIHNlY29uZCBpcyB0aGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICovXG5cblxuICB0b0F4aXNBbmdsZSh0YXJnZXRBeGlzID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMubm9ybWFsaXplKCk7IC8vIGlmIHc+MSBhY29zIGFuZCBzcXJ0IHdpbGwgcHJvZHVjZSBlcnJvcnMsIHRoaXMgY2FudCBoYXBwZW4gaWYgcXVhdGVybmlvbiBpcyBub3JtYWxpc2VkXG5cbiAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLmFjb3ModGhpcy53KTtcbiAgICBjb25zdCBzID0gTWF0aC5zcXJ0KDEgLSB0aGlzLncgKiB0aGlzLncpOyAvLyBhc3N1bWluZyBxdWF0ZXJuaW9uIG5vcm1hbGlzZWQgdGhlbiB3IGlzIGxlc3MgdGhhbiAxLCBzbyB0ZXJtIGFsd2F5cyBwb3NpdGl2ZS5cblxuICAgIGlmIChzIDwgMC4wMDEpIHtcbiAgICAgIC8vIHRlc3QgdG8gYXZvaWQgZGl2aWRlIGJ5IHplcm8sIHMgaXMgYWx3YXlzIHBvc2l0aXZlIGR1ZSB0byBzcXJ0XG4gICAgICAvLyBpZiBzIGNsb3NlIHRvIHplcm8gdGhlbiBkaXJlY3Rpb24gb2YgYXhpcyBub3QgaW1wb3J0YW50XG4gICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wO1xuXG4gICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnk7XG4gICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLno7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueCAvIHM7IC8vIG5vcm1hbGlzZSBheGlzXG5cbiAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueSAvIHM7XG4gICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLnogLyBzO1xuICAgIH1cblxuICAgIHJldHVybiBbdGFyZ2V0QXhpcywgYW5nbGVdO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gdmFsdWUgZ2l2ZW4gdHdvIHZlY3RvcnMuIFRoZSByZXN1bHRpbmcgcm90YXRpb24gd2lsbCBiZSB0aGUgbmVlZGVkIHJvdGF0aW9uIHRvIHJvdGF0ZSB1IHRvIHYuXG4gICAqL1xuXG5cbiAgc2V0RnJvbVZlY3RvcnModSwgdikge1xuICAgIGlmICh1LmlzQW50aXBhcmFsbGVsVG8odikpIHtcbiAgICAgIGNvbnN0IHQxID0gc2Z2X3QxO1xuICAgICAgY29uc3QgdDIgPSBzZnZfdDI7XG4gICAgICB1LnRhbmdlbnRzKHQxLCB0Mik7XG4gICAgICB0aGlzLnNldEZyb21BeGlzQW5nbGUodDEsIE1hdGguUEkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhID0gdS5jcm9zcyh2KTtcbiAgICAgIHRoaXMueCA9IGEueDtcbiAgICAgIHRoaXMueSA9IGEueTtcbiAgICAgIHRoaXMueiA9IGEuejtcbiAgICAgIHRoaXMudyA9IE1hdGguc3FydCh1Lmxlbmd0aCgpICoqIDIgKiB2Lmxlbmd0aCgpICoqIDIpICsgdS5kb3Qodik7XG4gICAgICB0aGlzLm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uXG4gICAqL1xuXG5cbiAgbXVsdChxdWF0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgYXggPSB0aGlzLng7XG4gICAgY29uc3QgYXkgPSB0aGlzLnk7XG4gICAgY29uc3QgYXogPSB0aGlzLno7XG4gICAgY29uc3QgYXcgPSB0aGlzLnc7XG4gICAgY29uc3QgYnggPSBxdWF0Lng7XG4gICAgY29uc3QgYnkgPSBxdWF0Lnk7XG4gICAgY29uc3QgYnogPSBxdWF0Lno7XG4gICAgY29uc3QgYncgPSBxdWF0Lnc7XG4gICAgdGFyZ2V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5O1xuICAgIHRhcmdldC55ID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgICB0YXJnZXQueiA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gICAgdGFyZ2V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgaW52ZXJzZSBxdWF0ZXJuaW9uIHJvdGF0aW9uLlxuICAgKi9cblxuXG4gIGludmVyc2UodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IHcgPSB0aGlzLnc7XG4gICAgdGhpcy5jb25qdWdhdGUodGFyZ2V0KTtcbiAgICBjb25zdCBpbm9ybTIgPSAxIC8gKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbiAgICB0YXJnZXQueCAqPSBpbm9ybTI7XG4gICAgdGFyZ2V0LnkgKj0gaW5vcm0yO1xuICAgIHRhcmdldC56ICo9IGlub3JtMjtcbiAgICB0YXJnZXQudyAqPSBpbm9ybTI7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBxdWF0ZXJuaW9uIGNvbmp1Z2F0ZVxuICAgKi9cblxuXG4gIGNvbmp1Z2F0ZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgdGFyZ2V0LnggPSAtdGhpcy54O1xuICAgIHRhcmdldC55ID0gLXRoaXMueTtcbiAgICB0YXJnZXQueiA9IC10aGlzLno7XG4gICAgdGFyZ2V0LncgPSB0aGlzLnc7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogTm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uLiBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIHF1YXRlcm5pb24uXG4gICAqIEBtZXRob2Qgbm9ybWFsaXplXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIGxldCBsID0gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudyk7XG5cbiAgICBpZiAobCA9PT0gMCkge1xuICAgICAgdGhpcy54ID0gMDtcbiAgICAgIHRoaXMueSA9IDA7XG4gICAgICB0aGlzLnogPSAwO1xuICAgICAgdGhpcy53ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IDEgLyBsO1xuICAgICAgdGhpcy54ICo9IGw7XG4gICAgICB0aGlzLnkgKj0gbDtcbiAgICAgIHRoaXMueiAqPSBsO1xuICAgICAgdGhpcy53ICo9IGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEFwcHJveGltYXRpb24gb2YgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBXb3JrcyBiZXN0IHdoZW4gcXVhdCBpcyBhbHJlYWR5IGFsbW9zdC1ub3JtYWxpemVkLlxuICAgKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2Zhc3QtcXVhdGVybmlvbi1ub3JtYWxpemF0aW9uXG4gICAqIEBhdXRob3IgdW5waGFzZWQsIGh0dHBzOi8vZ2l0aHViLmNvbS91bnBoYXNlZFxuICAgKi9cblxuXG4gIG5vcm1hbGl6ZUZhc3QoKSB7XG4gICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7XG5cbiAgICBpZiAoZiA9PT0gMCkge1xuICAgICAgdGhpcy54ID0gMDtcbiAgICAgIHRoaXMueSA9IDA7XG4gICAgICB0aGlzLnogPSAwO1xuICAgICAgdGhpcy53ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy54ICo9IGY7XG4gICAgICB0aGlzLnkgKj0gZjtcbiAgICAgIHRoaXMueiAqPSBmO1xuICAgICAgdGhpcy53ICo9IGY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IHRoZSBxdWF0ZXJuaW9uIGJ5IGEgdmVjdG9yXG4gICAqL1xuXG5cbiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHggPSB2Lng7XG4gICAgY29uc3QgeSA9IHYueTtcbiAgICBjb25zdCB6ID0gdi56O1xuICAgIGNvbnN0IHF4ID0gdGhpcy54O1xuICAgIGNvbnN0IHF5ID0gdGhpcy55O1xuICAgIGNvbnN0IHF6ID0gdGhpcy56O1xuICAgIGNvbnN0IHF3ID0gdGhpcy53OyAvLyBxKnZcblxuICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4O1xuICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcbiAgICB0YXJnZXQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gICAgdGFyZ2V0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICAgIHRhcmdldC56ID0gaXogKiBxdyArIGl3ICogLXF6ICsgaXggKiAtcXkgLSBpeSAqIC1xeDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgcXVhdGVybmlvbi5cbiAgICogQG1ldGhvZCBjb3B5XG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gc291cmNlXG4gICAqIEByZXR1cm4ge1F1YXRlcm5pb259IHRoaXNcbiAgICovXG5cblxuICBjb3B5KHF1YXQpIHtcbiAgICB0aGlzLnggPSBxdWF0Lng7XG4gICAgdGhpcy55ID0gcXVhdC55O1xuICAgIHRoaXMueiA9IHF1YXQuejtcbiAgICB0aGlzLncgPSBxdWF0Lnc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIHF1YXRlcm5pb24gdG8gZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24uIE9yZGVyOiBZWlgsIGFzIHRoaXMgcGFnZSBkZXNjcmliZXM6IGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL3N0YW5kYXJkcy9pbmRleC5odG1cbiAgICogQG1ldGhvZCB0b0V1bGVyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaHJlZS1jaGFyYWN0ZXIgc3RyaW5nLCBkZWZhdWx0cyB0byBcIllaWFwiXG4gICAqL1xuXG5cbiAgdG9FdWxlcih0YXJnZXQsIG9yZGVyID0gJ1laWCcpIHtcbiAgICBsZXQgaGVhZGluZztcbiAgICBsZXQgYXR0aXR1ZGU7XG4gICAgbGV0IGJhbms7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgdyA9IHRoaXMudztcblxuICAgIHN3aXRjaCAob3JkZXIpIHtcbiAgICAgIGNhc2UgJ1laWCc6XG4gICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3O1xuXG4gICAgICAgIGlmICh0ZXN0ID4gMC40OTkpIHtcbiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlXG4gICAgICAgICAgaGVhZGluZyA9IDIgKiBNYXRoLmF0YW4yKHgsIHcpO1xuICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgYmFuayA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGVzdCA8IC0wLjQ5OSkge1xuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHNvdXRoIHBvbGVcbiAgICAgICAgICBoZWFkaW5nID0gLTIgKiBNYXRoLmF0YW4yKHgsIHcpO1xuICAgICAgICAgIGF0dGl0dWRlID0gLU1hdGguUEkgLyAyO1xuICAgICAgICAgIGJhbmsgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhlYWRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IHNxeCA9IHggKiB4O1xuICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5O1xuICAgICAgICAgIGNvbnN0IHNxeiA9IHogKiB6O1xuICAgICAgICAgIGhlYWRpbmcgPSBNYXRoLmF0YW4yKDIgKiB5ICogdyAtIDIgKiB4ICogeiwgMSAtIDIgKiBzcXkgLSAyICogc3F6KTsgLy8gSGVhZGluZ1xuXG4gICAgICAgICAgYXR0aXR1ZGUgPSBNYXRoLmFzaW4oMiAqIHRlc3QpOyAvLyBhdHRpdHVkZVxuXG4gICAgICAgICAgYmFuayA9IE1hdGguYXRhbjIoMiAqIHggKiB3IC0gMiAqIHkgKiB6LCAxIC0gMiAqIHNxeCAtIDIgKiBzcXopOyAvLyBiYW5rXG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXVsZXIgb3JkZXIgXCIgKyBvcmRlciArIFwiIG5vdCBzdXBwb3J0ZWQgeWV0LlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQueSA9IGhlYWRpbmc7XG4gICAgdGFyZ2V0LnogPSBhdHRpdHVkZTtcbiAgICB0YXJnZXQueCA9IGJhbms7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaGUgb3JkZXIgdG8gYXBwbHkgYW5nbGVzOiAnWFlaJyBvciAnWVhaJyBvciBhbnkgb3RoZXIgY29tYmluYXRpb25cbiAgICogQHNlZSBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvY29udGVudC9TcGluQ2FsYy5tXG4gICAqL1xuXG5cbiAgc2V0RnJvbUV1bGVyKHgsIHksIHosIG9yZGVyID0gJ1hZWicpIHtcbiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTtcbiAgICBjb25zdCBjMiA9IE1hdGguY29zKHkgLyAyKTtcbiAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTtcbiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTtcbiAgICBjb25zdCBzMiA9IE1hdGguc2luKHkgLyAyKTtcbiAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTtcblxuICAgIGlmIChvcmRlciA9PT0gJ1hZWicpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWFknKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pZWCcpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdYWlknKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgY2xvbmVcbiAgICogQHJldHVybiB7UXVhdGVybmlvbn1cbiAgICovXG5cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdFxuICAgKlxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHRvUXVhdCBzZWNvbmQgb3BlcmFuZFxuICAgKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCBiZXR3ZWVuIHRoZSBzZWxmIHF1YXRlcm5pb24gYW5kIHRvUXVhdFxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFt0YXJnZXRdIEEgcXVhdGVybmlvbiB0byBzdG9yZSB0aGUgcmVzdWx0IGluLiBJZiBub3QgcHJvdmlkZWQsIGEgbmV3IG9uZSB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqIEByZXR1cm5zIHtRdWF0ZXJuaW9ufSBUaGUgXCJ0YXJnZXRcIiBvYmplY3RcbiAgICovXG5cblxuICBzbGVycCh0b1F1YXQsIHQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICBjb25zdCBheCA9IHRoaXMueDtcbiAgICBjb25zdCBheSA9IHRoaXMueTtcbiAgICBjb25zdCBheiA9IHRoaXMuejtcbiAgICBjb25zdCBhdyA9IHRoaXMudztcbiAgICBsZXQgYnggPSB0b1F1YXQueDtcbiAgICBsZXQgYnkgPSB0b1F1YXQueTtcbiAgICBsZXQgYnogPSB0b1F1YXQuejtcbiAgICBsZXQgYncgPSB0b1F1YXQudztcbiAgICBsZXQgb21lZ2E7XG4gICAgbGV0IGNvc29tO1xuICAgIGxldCBzaW5vbTtcbiAgICBsZXQgc2NhbGUwO1xuICAgIGxldCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lXG5cbiAgICBjb3NvbSA9IGF4ICogYnggKyBheSAqIGJ5ICsgYXogKiBieiArIGF3ICogYnc7IC8vIGFkanVzdCBzaWducyAoaWYgbmVjZXNzYXJ5KVxuXG4gICAgaWYgKGNvc29tIDwgMC4wKSB7XG4gICAgICBjb3NvbSA9IC1jb3NvbTtcbiAgICAgIGJ4ID0gLWJ4O1xuICAgICAgYnkgPSAtYnk7XG4gICAgICBieiA9IC1iejtcbiAgICAgIGJ3ID0gLWJ3O1xuICAgIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50c1xuXG5cbiAgICBpZiAoMS4wIC0gY29zb20gPiAwLjAwMDAwMSkge1xuICAgICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApXG4gICAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7XG4gICAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTtcbiAgICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlXG4gICAgICAvLyAgLi4uIHNvIHdlIGNhbiBkbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICBzY2FsZTAgPSAxLjAgLSB0O1xuICAgICAgc2NhbGUxID0gdDtcbiAgICB9IC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZXNcblxuXG4gICAgdGFyZ2V0LnggPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4O1xuICAgIHRhcmdldC55ID0gc2NhbGUwICogYXkgKyBzY2FsZTEgKiBieTtcbiAgICB0YXJnZXQueiA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XG4gICAgdGFyZ2V0LncgPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIFJvdGF0ZSBhbiBhYnNvbHV0ZSBvcmllbnRhdGlvbiBxdWF0ZXJuaW9uIGdpdmVuIGFuIGFuZ3VsYXIgdmVsb2NpdHkgYW5kIGEgdGltZSBzdGVwLlxuICAgKi9cblxuXG4gIGludGVncmF0ZShhbmd1bGFyVmVsb2NpdHksIGR0LCBhbmd1bGFyRmFjdG9yLCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgYXggPSBhbmd1bGFyVmVsb2NpdHkueCAqIGFuZ3VsYXJGYWN0b3IueCxcbiAgICAgICAgICBheSA9IGFuZ3VsYXJWZWxvY2l0eS55ICogYW5ndWxhckZhY3Rvci55LFxuICAgICAgICAgIGF6ID0gYW5ndWxhclZlbG9jaXR5LnogKiBhbmd1bGFyRmFjdG9yLnosXG4gICAgICAgICAgYnggPSB0aGlzLngsXG4gICAgICAgICAgYnkgPSB0aGlzLnksXG4gICAgICAgICAgYnogPSB0aGlzLnosXG4gICAgICAgICAgYncgPSB0aGlzLnc7XG4gICAgY29uc3QgaGFsZl9kdCA9IGR0ICogMC41O1xuICAgIHRhcmdldC54ICs9IGhhbGZfZHQgKiAoYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5KTtcbiAgICB0YXJnZXQueSArPSBoYWxmX2R0ICogKGF5ICogYncgKyBheiAqIGJ4IC0gYXggKiBieik7XG4gICAgdGFyZ2V0LnogKz0gaGFsZl9kdCAqIChheiAqIGJ3ICsgYXggKiBieSAtIGF5ICogYngpO1xuICAgIHRhcmdldC53ICs9IGhhbGZfZHQgKiAoLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBieik7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG59XG5jb25zdCBzZnZfdDEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc2Z2X3QyID0gbmV3IFZlYzMoKTtcblxuY29uc3QgU0hBUEVfVFlQRVMgPSB7XG4gIFNQSEVSRTogMSxcbiAgUExBTkU6IDIsXG4gIEJPWDogNCxcbiAgQ09NUE9VTkQ6IDgsXG4gIENPTlZFWFBPTFlIRURST046IDE2LFxuICBIRUlHSFRGSUVMRDogMzIsXG4gIFBBUlRJQ0xFOiA2NCxcbiAgQ1lMSU5ERVI6IDEyOCxcbiAgVFJJTUVTSDogMjU2XG59O1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHNoYXBlc1xuICogQGNsYXNzIFNoYXBlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXRlcmlhbD1udWxsXVxuICogQGF1dGhvciBzY2h0ZXBwZVxuICovXG5jbGFzcyBTaGFwZSB7XG4gIC8vIElkZW50aWZ5ZXIgb2YgdGhlIFNoYXBlLlxuICAvLyBUaGUgdHlwZSBvZiB0aGlzIHNoYXBlLiBNdXN0IGJlIHNldCB0byBhbiBpbnQgPiAwIGJ5IHN1YmNsYXNzZXMuXG4gIC8vIFRoZSBsb2NhbCBib3VuZGluZyBzcGhlcmUgcmFkaXVzIG9mIHRoaXMgc2hhcGUuXG4gIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZC5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5pZCA9IFNoYXBlLmlkQ291bnRlcisrO1xuICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZSB8fCAwO1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwO1xuICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAxO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgPyBvcHRpb25zLm1hdGVyaWFsIDogbnVsbDtcbiAgICB0aGlzLmJvZHkgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1c1xuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzXG4gICAqL1xuXG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhyb3cgXCJjb21wdXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgXCIgKyB0aGlzLnR5cGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgdm9sdW1lIG9mIHRoaXMgc2hhcGVcbiAgICogQG1ldGhvZCB2b2x1bWVcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cblxuXG4gIHZvbHVtZSgpIHtcbiAgICB0aHJvdyBcInZvbHVtZSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgaW5lcnRpYSBpbiB0aGUgbG9jYWwgZnJhbWUgZm9yIHRoaXMgc2hhcGUuXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXNzXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XG4gICAqIEBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX21vbWVudHNfb2ZfaW5lcnRpYVxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHtcbiAgICB0aHJvdyBcImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgdGhyb3cgXCJjYWxjdWxhdGVXb3JsZEFBQkIoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgXCIgKyB0aGlzLnR5cGU7XG4gIH1cblxufVxuU2hhcGUuaWRDb3VudGVyID0gMDtcbi8qKlxuICogVGhlIGF2YWlsYWJsZSBzaGFwZSB0eXBlcy5cbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB0eXBlc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG5TaGFwZS50eXBlcyA9IFNIQVBFX1RZUEVTO1xuXG5jbGFzcyBUcmFuc2Zvcm0ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7XG4gICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSBnbG9iYWwgcG9pbnQgaW4gbG9jYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLlxyXG4gICAqL1xuXG5cbiAgcG9pbnRUb0xvY2FsKHdvcmxkUG9pbnQsIHJlc3VsdCkge1xuICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhIGxvY2FsIHBvaW50IGluIGdsb2JhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuXHJcbiAgICovXG5cblxuICBwb2ludFRvV29ybGQobG9jYWxQb2ludCwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCk7XG4gIH1cblxuICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBwb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHdvcmxkUG9pbnQudnN1Yihwb3NpdGlvbiwgcmVzdWx0KTtcbiAgICBxdWF0ZXJuaW9uLmNvbmp1Z2F0ZSh0bXBRdWF0KTtcbiAgICB0bXBRdWF0LnZtdWx0KHJlc3VsdCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpO1xuICAgIHJlc3VsdC52YWRkKHBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgdmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXRlcm5pb24sIGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICBxdWF0ZXJuaW9uLncgKj0gLTE7XG4gICAgcXVhdGVybmlvbi52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTtcbiAgICBxdWF0ZXJuaW9uLncgKj0gLTE7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59XG5jb25zdCB0bXBRdWF0ID0gbmV3IFF1YXRlcm5pb24oKTtcblxuLyoqXHJcbiAqIEEgc2V0IG9mIHBvbHlnb25zIGRlc2NyaWJpbmcgYSBjb252ZXggc2hhcGUuXHJcbiAqIEBjbGFzcyBDb252ZXhQb2x5aGVkcm9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKiBAZGVzY3JpcHRpb24gVGhlIHNoYXBlIE1VU1QgYmUgY29udmV4IGZvciB0aGUgY29kZSB0byB3b3JrIHByb3Blcmx5LiBObyBwb2x5Z29ucyBtYXkgYmUgY29wbGFuYXIgKGNvbnRhaW5lZFxyXG4gKiBpbiB0aGUgc2FtZSAzRCBwbGFuZSksIGluc3RlYWQgdGhlc2Ugc2hvdWxkIGJlIG1lcmdlZCBpbnRvIG9uZSBwb2x5Z29uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FycmF5fSBwb2ludHMgQW4gYXJyYXkgb2YgVmVjMydzXHJcbiAqIEBwYXJhbSB7YXJyYXl9IGZhY2VzIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBkZXNjcmliaW5nIHdoaWNoIHZlcnRpY2VzIHRoYXQgaXMgaW5jbHVkZWQgaW4gZWFjaCBmYWNlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhbyAob3JpZ2luYWwgYXV0aG9yLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3FpYW8vdGhyZWUuanMvY29tbWl0Lzg1MDI2ZjBjNzY5ZTQwMDAxNDhhNjdkNDVhOWU5YjljNTEwODgzNmYpXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGVcclxuICogQHNlZSBodHRwOi8vd3d3LmFsdGRldmJsb2dhZGF5LmNvbS8yMDExLzA1LzEzL2NvbnRhY3QtZ2VuZXJhdGlvbi1iZXR3ZWVuLTNkLWNvbnZleC1tZXNoZXMvXHJcbiAqXHJcbiAqIEB0b2RvIE1vdmUgdGhlIGNsaXBwaW5nIGZ1bmN0aW9ucyB0byBDb250YWN0R2VuZXJhdG9yP1xyXG4gKiBAdG9kbyBBdXRvbWF0aWNhbGx5IG1lcmdlIGNvcGxhbmFyIHBvbHlnb25zIGluIGNvbnN0cnVjdG9yLlxyXG4gKi9cbmNsYXNzIENvbnZleFBvbHloZWRyb24gZXh0ZW5kcyBTaGFwZSB7XG4gIC8vIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggZmFjZSBjb25zaXN0cyBvZlxuICAvLyBJZiBnaXZlbiwgdGhlc2UgbG9jYWxseSBkZWZpbmVkLCBub3JtYWxpemVkIGF4ZXMgYXJlIHRoZSBvbmx5IG9uZXMgYmVpbmcgY2hlY2tlZCB3aGVuIGRvaW5nIHNlcGFyYXRpbmcgYXhpcyBjaGVjay5cbiAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHZlcnRpY2VzID0gW10sXG4gICAgICBmYWNlcyA9IFtdLFxuICAgICAgbm9ybWFscyA9IFtdLFxuICAgICAgYXhlcyxcbiAgICAgIGJvdW5kaW5nU3BoZXJlUmFkaXVzXG4gICAgfSA9IHByb3BzO1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST05cbiAgICB9KTtcbiAgICB0aGlzLnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgdGhpcy5mYWNlcyA9IGZhY2VzO1xuICAgIHRoaXMuZmFjZU5vcm1hbHMgPSBub3JtYWxzO1xuXG4gICAgaWYgKHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmNvbXB1dGVOb3JtYWxzKCk7XG4gICAgfVxuXG4gICAgaWYgKCFib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gYm91bmRpbmdTcGhlcmVSYWRpdXM7XG4gICAgfVxuXG4gICAgdGhpcy53b3JsZFZlcnRpY2VzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLnZlcnRpY2VzXG5cbiAgICB0aGlzLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLmZhY2VOb3JtYWxzXG5cbiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy51bmlxdWVBeGVzID0gYXhlcyA/IGF4ZXMuc2xpY2UoKSA6IG51bGw7XG4gICAgdGhpcy51bmlxdWVFZGdlcyA9IFtdO1xuICAgIHRoaXMuY29tcHV0ZUVkZ2VzKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgdW5pcXVlRWRnZXNcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVFZGdlc1xyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUVkZ2VzKCkge1xuICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlcztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3QgZWRnZXMgPSB0aGlzLnVuaXF1ZUVkZ2VzO1xuICAgIGVkZ2VzLmxlbmd0aCA9IDA7XG4gICAgY29uc3QgZWRnZSA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTtcbiAgICAgIGNvbnN0IG51bVZlcnRpY2VzID0gZmFjZS5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1WZXJ0aWNlczsgaisrKSB7XG4gICAgICAgIGNvbnN0IGsgPSAoaiArIDEpICUgbnVtVmVydGljZXM7XG4gICAgICAgIHZlcnRpY2VzW2ZhY2Vbal1dLnZzdWIodmVydGljZXNbZmFjZVtrXV0sIGVkZ2UpO1xuICAgICAgICBlZGdlLm5vcm1hbGl6ZSgpO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBwID0gMDsgcCAhPT0gZWRnZXMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICBpZiAoZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpIHx8IGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSkge1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgIGVkZ2VzLnB1c2goZWRnZS5jbG9uZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCByZXVzZSBleGlzdGluZyBWZWMzIG9iamVjdHMgaW4gdGhlIC5mYWNlTm9ybWFscyBhcnJheSBpZiB0aGV5IGV4aXN0LlxyXG4gICAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbHNcclxuICAgKi9cblxuXG4gIGNvbXB1dGVOb3JtYWxzKCkge1xuICAgIHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID0gdGhpcy5mYWNlcy5sZW5ndGg7IC8vIEdlbmVyYXRlIG5vcm1hbHNcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gQ2hlY2sgc28gYWxsIHZlcnRpY2VzIGV4aXN0cyBmb3IgdGhpcyBmYWNlXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVydGV4IFwiICsgdGhpcy5mYWNlc1tpXVtqXSArIFwiIG5vdCBmb3VuZCFcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbaV0gfHwgbmV3IFZlYzMoKTtcbiAgICAgIHRoaXMuZ2V0RmFjZU5vcm1hbChpLCBuKTtcbiAgICAgIG4ubmVnYXRlKG4pO1xuICAgICAgdGhpcy5mYWNlTm9ybWFsc1tpXSA9IG47XG4gICAgICBjb25zdCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bMF1dO1xuXG4gICAgICBpZiAobi5kb3QodmVydGV4KSA8IDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIi5mYWNlTm9ybWFsc1tcIiArIGkgKyBcIl0gPSBWZWMzKFwiICsgbi50b1N0cmluZygpICsgXCIpIGxvb2tzIGxpa2UgaXQgcG9pbnRzIGludG8gdGhlIHNoYXBlPyBUaGUgdmVydGljZXMgZm9sbG93LiBNYWtlIHN1cmUgdGhleSBhcmUgb3JkZXJlZCBDQ1cgYXJvdW5kIHRoZSBub3JtYWwsIHVzaW5nIHRoZSByaWdodCBoYW5kIHJ1bGUuXCIpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mYWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIi52ZXJ0aWNlc1tcIiArIHRoaXMuZmFjZXNbaV1bal0gKyBcIl0gPSBWZWMzKFwiICsgdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXS50b1N0cmluZygpICsgXCIpXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiBhIGZhY2UgZnJvbSBpdHMgdmVydGljZXNcclxuICAgKiBAbWV0aG9kIGdldEZhY2VOb3JtYWxcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKi9cblxuXG4gIGdldEZhY2VOb3JtYWwoaSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbaV07XG4gICAgY29uc3QgdmEgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dO1xuICAgIGNvbnN0IHZiID0gdGhpcy52ZXJ0aWNlc1tmWzFdXTtcbiAgICBjb25zdCB2YyA9IHRoaXMudmVydGljZXNbZlsyXV07XG4gICAgQ29udmV4UG9seWhlZHJvbi5jb21wdXRlTm9ybWFsKHZhLCB2YiwgdmMsIHRhcmdldCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjbGlwQWdhaW5zdEh1bGxcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0FcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBXHJcbiAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWxcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWluRGlzdCBDbGFtcCBkaXN0YW5jZVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0XHJcbiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IFRoZSBhbiBhcnJheSBvZiBjb250YWN0IHBvaW50IG9iamVjdHMsIHNlZSBjbGlwRmFjZUFnYWluc3RIdWxsXHJcbiAgICovXG5cblxuICBjbGlwQWdhaW5zdEh1bGwocG9zQSwgcXVhdEEsIGh1bGxCLCBwb3NCLCBxdWF0Qiwgc2VwYXJhdGluZ05vcm1hbCwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KSB7XG4gICAgY29uc3QgV29ybGROb3JtYWwgPSBuZXcgVmVjMygpO1xuICAgIGxldCBjbG9zZXN0RmFjZUIgPSAtMTtcbiAgICBsZXQgZG1heCA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQi5mYWNlcy5sZW5ndGg7IGZhY2UrKykge1xuICAgICAgV29ybGROb3JtYWwuY29weShodWxsQi5mYWNlTm9ybWFsc1tmYWNlXSk7XG4gICAgICBxdWF0Qi52bXVsdChXb3JsZE5vcm1hbCwgV29ybGROb3JtYWwpO1xuICAgICAgY29uc3QgZCA9IFdvcmxkTm9ybWFsLmRvdChzZXBhcmF0aW5nTm9ybWFsKTtcblxuICAgICAgaWYgKGQgPiBkbWF4KSB7XG4gICAgICAgIGRtYXggPSBkO1xuICAgICAgICBjbG9zZXN0RmFjZUIgPSBmYWNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkVmVydHNCMSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQi5mYWNlc1tjbG9zZXN0RmFjZUJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gaHVsbEIudmVydGljZXNbaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXVtpXV07XG4gICAgICBjb25zdCB3b3JsZGIgPSBuZXcgVmVjMygpO1xuICAgICAgd29ybGRiLmNvcHkoYik7XG4gICAgICBxdWF0Qi52bXVsdCh3b3JsZGIsIHdvcmxkYik7XG4gICAgICBwb3NCLnZhZGQod29ybGRiLCB3b3JsZGIpO1xuICAgICAgd29ybGRWZXJ0c0IxLnB1c2god29ybGRiKTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VzdEZhY2VCID49IDApIHtcbiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBGaW5kIHRoZSBzZXBhcmF0aW5nIGF4aXMgYmV0d2VlbiB0aGlzIGh1bGwgYW5kIGFub3RoZXJcclxuICAgKiBAbWV0aG9kIGZpbmRTZXBhcmF0aW5nQXhpc1xyXG4gICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0FcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NCXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QlxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB0YXJnZXQgdmVjdG9yIHRvIHNhdmUgdGhlIGF4aXMgaW5cclxuICAgKiBAcmV0dXJuIHtib29sfSBSZXR1cm5zIGZhbHNlIGlmIGEgc2VwYXJhdGlvbiBpcyBmb3VuZCwgZWxzZSB0cnVlXHJcbiAgICovXG5cblxuICBmaW5kU2VwYXJhdGluZ0F4aXMoaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0QiwgdGFyZ2V0LCBmYWNlTGlzdEEsIGZhY2VMaXN0Qikge1xuICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MzID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBXb3JsZG5vcm1hbDEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGRlbHRhQyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgd29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgd29ybGRFZGdlMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgQ3Jvc3MgPSBuZXcgVmVjMygpO1xuICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICBjb25zdCBodWxsQSA9IHRoaXM7XG5cbiAgICBpZiAoIWh1bGxBLnVuaXF1ZUF4ZXMpIHtcbiAgICAgIGNvbnN0IG51bUZhY2VzQSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QS5sZW5ndGggOiBodWxsQS5mYWNlcy5sZW5ndGg7IC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEFcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1GYWNlc0E7IGkrKykge1xuICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QVtpXSA6IGk7IC8vIEdldCB3b3JsZCBmYWNlIG5vcm1hbFxuXG4gICAgICAgIGZhY2VBTm9ybWFsV1MzLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmldKTtcbiAgICAgICAgcXVhdEEudm11bHQoZmFjZUFOb3JtYWxXUzMsIGZhY2VBTm9ybWFsV1MzKTtcbiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKGZhY2VBTm9ybWFsV1MzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGVzdCB1bmlxdWUgYXhlc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGh1bGxBLnVuaXF1ZUF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gR2V0IHdvcmxkIGF4aXNcbiAgICAgICAgcXVhdEEudm11bHQoaHVsbEEudW5pcXVlQXhlc1tpXSwgZmFjZUFOb3JtYWxXUzMpO1xuICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgIGlmIChkID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICAgIGRtaW4gPSBkO1xuICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaHVsbEIudW5pcXVlQXhlcykge1xuICAgICAgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQlxuICAgICAgY29uc3QgbnVtRmFjZXNCID0gZmFjZUxpc3RCID8gZmFjZUxpc3RCLmxlbmd0aCA6IGh1bGxCLmZhY2VzLmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1GYWNlc0I7IGkrKykge1xuICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0QltpXSA6IGk7XG4gICAgICAgIFdvcmxkbm9ybWFsMS5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZpXSk7XG4gICAgICAgIHF1YXRCLnZtdWx0KFdvcmxkbm9ybWFsMSwgV29ybGRub3JtYWwxKTtcbiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgICAgdGFyZ2V0LmNvcHkoV29ybGRub3JtYWwxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUZXN0IHVuaXF1ZSBheGVzIGluIEJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQi51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHF1YXRCLnZtdWx0KGh1bGxCLnVuaXF1ZUF4ZXNbaV0sIFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgIGlmIChkID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICAgIGRtaW4gPSBkO1xuICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFRlc3QgZWRnZXNcblxuXG4gICAgZm9yIChsZXQgZTAgPSAwOyBlMCAhPT0gaHVsbEEudW5pcXVlRWRnZXMubGVuZ3RoOyBlMCsrKSB7XG4gICAgICAvLyBHZXQgd29ybGQgZWRnZVxuICAgICAgcXVhdEEudm11bHQoaHVsbEEudW5pcXVlRWRnZXNbZTBdLCB3b3JsZEVkZ2UwKTtcblxuICAgICAgZm9yIChsZXQgZTEgPSAwOyBlMSAhPT0gaHVsbEIudW5pcXVlRWRnZXMubGVuZ3RoOyBlMSsrKSB7XG4gICAgICAgIC8vIEdldCB3b3JsZCBlZGdlIDJcbiAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlRWRnZXNbZTFdLCB3b3JsZEVkZ2UxKTtcbiAgICAgICAgd29ybGRFZGdlMC5jcm9zcyh3b3JsZEVkZ2UxLCBDcm9zcyk7XG5cbiAgICAgICAgaWYgKCFDcm9zcy5hbG1vc3RaZXJvKCkpIHtcbiAgICAgICAgICBDcm9zcy5ub3JtYWxpemUoKTtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gaHVsbEEudGVzdFNlcEF4aXMoQ3Jvc3MsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgICAgaWYgKGRpc3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRpc3QgPCBkbWluKSB7XG4gICAgICAgICAgICBkbWluID0gZGlzdDtcbiAgICAgICAgICAgIHRhcmdldC5jb3B5KENyb3NzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwb3NCLnZzdWIocG9zQSwgZGVsdGFDKTtcblxuICAgIGlmIChkZWx0YUMuZG90KHRhcmdldCkgPiAwLjApIHtcbiAgICAgIHRhcmdldC5uZWdhdGUodGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBUZXN0IHNlcGFyYXRpbmcgYXhpcyBhZ2FpbnN0IHR3byBodWxscy4gQm90aCBodWxscyBhcmUgcHJvamVjdGVkIG9udG8gdGhlIGF4aXMgYW5kIHRoZSBvdmVybGFwIHNpemUgaXMgcmV0dXJuZWQgaWYgdGhlcmUgaXMgb25lLlxyXG4gICAqIEBtZXRob2QgdGVzdFNlcEF4aXNcclxuICAgKiBAcGFyYW0ge1ZlYzN9IGF4aXNcclxuICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQlxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEJcclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBvdmVybGFwIGRlcHRoLCBvciBGQUxTRSBpZiBubyBwZW5ldHJhdGlvbi5cclxuICAgKi9cblxuXG4gIHRlc3RTZXBBeGlzKGF4aXMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpIHtcbiAgICBjb25zdCBodWxsQSA9IHRoaXM7XG4gICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxBLCBheGlzLCBwb3NBLCBxdWF0QSwgbWF4bWluQSk7XG4gICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxCLCBheGlzLCBwb3NCLCBxdWF0QiwgbWF4bWluQik7XG4gICAgY29uc3QgbWF4QSA9IG1heG1pbkFbMF07XG4gICAgY29uc3QgbWluQSA9IG1heG1pbkFbMV07XG4gICAgY29uc3QgbWF4QiA9IG1heG1pbkJbMF07XG4gICAgY29uc3QgbWluQiA9IG1heG1pbkJbMV07XG5cbiAgICBpZiAobWF4QSA8IG1pbkIgfHwgbWF4QiA8IG1pbkEpIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gU2VwYXJhdGVkXG4gICAgfVxuXG4gICAgY29uc3QgZDAgPSBtYXhBIC0gbWluQjtcbiAgICBjb25zdCBkMSA9IG1heEIgLSBtaW5BO1xuICAgIGNvbnN0IGRlcHRoID0gZDAgPCBkMSA/IGQwIDogZDE7XG4gICAgcmV0dXJuIGRlcHRoO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXHJcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7XG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYVxuICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdFxuICAgIGNvbnN0IGFhYmJtYXggPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGFhYmJtaW4gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KTtcbiAgICBjb25zdCB4ID0gYWFiYm1heC54IC0gYWFiYm1pbi54O1xuICAgIGNvbnN0IHkgPSBhYWJibWF4LnkgLSBhYWJibWluLnk7XG4gICAgY29uc3QgeiA9IGFhYmJtYXgueiAtIGFhYmJtaW4uejtcbiAgICB0YXJnZXQueCA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KTtcbiAgICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KTtcbiAgICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldFBsYW5lQ29uc3RhbnRPZkZhY2VcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZhY2VfaSBJbmRleCBvZiB0aGUgZmFjZVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZmFjZV9pKSB7XG4gICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbZmFjZV9pXTtcbiAgICBjb25zdCBuID0gdGhpcy5mYWNlTm9ybWFsc1tmYWNlX2ldO1xuICAgIGNvbnN0IHYgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dO1xuICAgIGNvbnN0IGMgPSAtbi5kb3Qodik7XG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xpcCBhIGZhY2UgYWdhaW5zdCBhIGh1bGwuXHJcbiAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RIdWxsXHJcbiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHdvcmxkVmVydHNCMSBBbiBhcnJheSBvZiBWZWMzIHdpdGggdmVydGljZXMgaW4gdGhlIHdvcmxkIGZyYW1lLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IERpc3RhbmNlIGNsYW1waW5nXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERpc3RcclxuICAgKiBAcGFyYW0gQXJyYXkgcmVzdWx0IEFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBjb250YWN0IHBvaW50cyBpbi4gV2lsbCBiZSBvYmplY3RzIHdpdGggcHJvcGVydGllczogcG9pbnQsIGRlcHRoLCBub3JtYWwuIFRoZXNlIGFyZSByZXByZXNlbnRlZCBpbiB3b3JsZCBjb29yZGluYXRlcy5cclxuICAgKi9cblxuXG4gIGNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KSB7XG4gICAgY29uc3QgZmFjZUFOb3JtYWxXUyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgZWRnZTAgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IFdvcmxkRWRnZTAgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkUGxhbmVBbm9ybWFsMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGxhbmVOb3JtYWxXUzEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkQTEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGxvY2FsUGxhbmVOb3JtYWwgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGh1bGxBID0gdGhpcztcbiAgICBjb25zdCB3b3JsZFZlcnRzQjIgPSBbXTtcbiAgICBjb25zdCBwVnR4SW4gPSB3b3JsZFZlcnRzQjE7XG4gICAgY29uc3QgcFZ0eE91dCA9IHdvcmxkVmVydHNCMjtcbiAgICBsZXQgY2xvc2VzdEZhY2VBID0gLTE7XG4gICAgbGV0IGRtaW4gPSBOdW1iZXIuTUFYX1ZBTFVFOyAvLyBGaW5kIHRoZSBmYWNlIHdpdGggbm9ybWFsIGNsb3Nlc3QgdG8gdGhlIHNlcGFyYXRpbmcgYXhpc1xuXG4gICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGZhY2UrKykge1xuICAgICAgZmFjZUFOb3JtYWxXUy5jb3B5KGh1bGxBLmZhY2VOb3JtYWxzW2ZhY2VdKTtcbiAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MsIGZhY2VBTm9ybWFsV1MpO1xuICAgICAgY29uc3QgZCA9IGZhY2VBTm9ybWFsV1MuZG90KHNlcGFyYXRpbmdOb3JtYWwpO1xuXG4gICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgIGNsb3Nlc3RGYWNlQSA9IGZhY2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNsb3Nlc3RGYWNlQSA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEdldCB0aGUgZmFjZSBhbmQgY29uc3RydWN0IGNvbm5lY3RlZCBmYWNlc1xuXG5cbiAgICBjb25zdCBwb2x5QSA9IGh1bGxBLmZhY2VzW2Nsb3Nlc3RGYWNlQV07XG4gICAgcG9seUEuY29ubmVjdGVkRmFjZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHVsbEEuZmFjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaHVsbEEuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAvKiBTaGFyaW5nIGEgdmVydGV4Ki9cbiAgICAgICAgcG9seUEuaW5kZXhPZihodWxsQS5mYWNlc1tpXVtqXSkgIT09IC0xICYmXG4gICAgICAgIC8qIE5vdCB0aGUgb25lIHdlIGFyZSBsb29raW5nIGZvciBjb25uZWN0aW9ucyBmcm9tICovXG4gICAgICAgIGkgIT09IGNsb3Nlc3RGYWNlQSAmJlxuICAgICAgICAvKiBOb3QgYWxyZWFkeSBhZGRlZCAqL1xuICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5pbmRleE9mKGkpID09PSAtMSkge1xuICAgICAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIENsaXAgdGhlIHBvbHlnb24gdG8gdGhlIGJhY2sgb2YgdGhlIHBsYW5lcyBvZiBhbGwgZmFjZXMgb2YgaHVsbCBBLFxuICAgIC8vIHRoYXQgYXJlIGFkamFjZW50IHRvIHRoZSB3aXRuZXNzIGZhY2VcblxuXG4gICAgY29uc3QgbnVtVmVydGljZXNBID0gcG9seUEubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0aWNlc0E7IGkrKykge1xuICAgICAgY29uc3QgYSA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBW2ldXTtcbiAgICAgIGNvbnN0IGIgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVsoaSArIDEpICUgbnVtVmVydGljZXNBXV07XG4gICAgICBhLnZzdWIoYiwgZWRnZTApO1xuICAgICAgV29ybGRFZGdlMC5jb3B5KGVkZ2UwKTtcbiAgICAgIHF1YXRBLnZtdWx0KFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApO1xuICAgICAgcG9zQS52YWRkKFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApO1xuICAgICAgd29ybGRQbGFuZUFub3JtYWwxLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTtcbiAgICAgIHF1YXRBLnZtdWx0KHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTtcbiAgICAgIHBvc0EudmFkZCh3b3JsZFBsYW5lQW5vcm1hbDEsIHdvcmxkUGxhbmVBbm9ybWFsMSk7XG4gICAgICBXb3JsZEVkZ2UwLmNyb3NzKHdvcmxkUGxhbmVBbm9ybWFsMSwgcGxhbmVOb3JtYWxXUzEpO1xuICAgICAgcGxhbmVOb3JtYWxXUzEubmVnYXRlKHBsYW5lTm9ybWFsV1MxKTtcbiAgICAgIHdvcmxkQTEuY29weShhKTtcbiAgICAgIHF1YXRBLnZtdWx0KHdvcmxkQTEsIHdvcmxkQTEpO1xuICAgICAgcG9zQS52YWRkKHdvcmxkQTEsIHdvcmxkQTEpO1xuICAgICAgY29uc3Qgb3RoZXJGYWNlID0gcG9seUEuY29ubmVjdGVkRmFjZXNbaV07XG4gICAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tvdGhlckZhY2VdKTtcbiAgICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShvdGhlckZhY2UpO1xuICAgICAgcGxhbmVOb3JtYWxXUy5jb3B5KGxvY2FsUGxhbmVOb3JtYWwpO1xuICAgICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7XG4gICAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsgLy8gQ2xpcCBmYWNlIGFnYWluc3Qgb3VyIGNvbnN0cnVjdGVkIHBsYW5lXG5cbiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUocFZ0eEluLCBwVnR4T3V0LCBwbGFuZU5vcm1hbFdTLCBwbGFuZUVxV1MpOyAvLyBUaHJvdyBhd2F5IGFsbCBjbGlwcGVkIHBvaW50cywgYnV0IHNhdmUgdGhlIHJlbWFpbmluZyB1bnRpbCBuZXh0IGNsaXBcblxuICAgICAgd2hpbGUgKHBWdHhJbi5sZW5ndGgpIHtcbiAgICAgICAgcFZ0eEluLnNoaWZ0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChwVnR4T3V0Lmxlbmd0aCkge1xuICAgICAgICBwVnR4SW4ucHVzaChwVnR4T3V0LnNoaWZ0KCkpO1xuICAgICAgfVxuICAgIH0gLy8gb25seSBrZWVwIGNvbnRhY3QgcG9pbnRzIHRoYXQgYXJlIGJlaGluZCB0aGUgd2l0bmVzcyBmYWNlXG5cblxuICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pO1xuICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShjbG9zZXN0RmFjZUEpO1xuICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTtcbiAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTtcbiAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcFZ0eEluLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZGVwdGggPSBwbGFuZU5vcm1hbFdTLmRvdChwVnR4SW5baV0pICsgcGxhbmVFcVdTOyAvLyA/Pz9cblxuICAgICAgaWYgKGRlcHRoIDw9IG1pbkRpc3QpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjbGFtcGVkOiBkZXB0aD1cIiArIGRlcHRoICsgXCIgdG8gbWluRGlzdD1cIiArIG1pbkRpc3QpO1xuICAgICAgICBkZXB0aCA9IG1pbkRpc3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZXB0aCA8PSBtYXhEaXN0KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcFZ0eEluW2ldO1xuXG4gICAgICAgIGlmIChkZXB0aCA8PSAxZS02KSB7XG4gICAgICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgICAgIHBvaW50LFxuICAgICAgICAgICAgbm9ybWFsOiBwbGFuZU5vcm1hbFdTLFxuICAgICAgICAgICAgZGVwdGhcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENsaXAgYSBmYWNlIGluIGEgaHVsbCBhZ2FpbnN0IHRoZSBiYWNrIG9mIGEgcGxhbmUuXHJcbiAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RQbGFuZVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGluVmVydGljZXNcclxuICAgKiBAcGFyYW0ge0FycmF5fSBvdXRWZXJ0aWNlc1xyXG4gICAqIEBwYXJhbSB7VmVjM30gcGxhbmVOb3JtYWxcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcGxhbmVDb25zdGFudCBUaGUgY29uc3RhbnQgaW4gdGhlIG1hdGhlbWF0aWNhbCBwbGFuZSBlcXVhdGlvblxyXG4gICAqL1xuXG5cbiAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7XG4gICAgbGV0IG5fZG90X2ZpcnN0O1xuICAgIGxldCBuX2RvdF9sYXN0O1xuICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7XG5cbiAgICBpZiAobnVtVmVydHMgPCAyKSB7XG4gICAgICByZXR1cm4gb3V0VmVydGljZXM7XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0VmVydGV4ID0gaW5WZXJ0aWNlc1tpblZlcnRpY2VzLmxlbmd0aCAtIDFdO1xuICAgIGxldCBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1swXTtcbiAgICBuX2RvdF9maXJzdCA9IHBsYW5lTm9ybWFsLmRvdChmaXJzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50O1xuXG4gICAgZm9yIChsZXQgdmkgPSAwOyB2aSA8IG51bVZlcnRzOyB2aSsrKSB7XG4gICAgICBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1t2aV07XG4gICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDtcblxuICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkge1xuICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHtcbiAgICAgICAgICAvLyBTdGFydCA8IDAsIGVuZCA8IDAsIHNvIG91dHB1dCBsYXN0VmVydGV4XG4gICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7XG4gICAgICAgICAgbmV3di5jb3B5KGxhc3RWZXJ0ZXgpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPj0gMCwgc28gb3V0cHV0IGludGVyc2VjdGlvblxuICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpO1xuICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7XG4gICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7XG4gICAgICAgICAgLy8gU3RhcnQgPj0gMCwgZW5kIDwgMCBzbyBvdXRwdXQgaW50ZXJzZWN0aW9uIGFuZCBlbmRcbiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTtcbiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7XG4gICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmaXJzdFZlcnRleCA9IGxhc3RWZXJ0ZXg7XG4gICAgICBuX2RvdF9maXJzdCA9IG5fZG90X2xhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dFZlcnRpY2VzO1xuICB9IC8vIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS5cblxuXG4gIGNvbXB1dGVXb3JsZFZlcnRpY2VzKHBvc2l0aW9uLCBxdWF0KSB7XG4gICAgd2hpbGUgKHRoaXMud29ybGRWZXJ0aWNlcy5sZW5ndGggPCB0aGlzLnZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy53b3JsZFZlcnRpY2VzLnB1c2gobmV3IFZlYzMoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHdvcmxkVmVydHMgPSB0aGlzLndvcmxkVmVydGljZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7XG4gICAgICBwb3NpdGlvbi52YWRkKHdvcmxkVmVydHNbaV0sIHdvcmxkVmVydHNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlID0gZmFsc2U7XG4gIH1cblxuICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgYWFiYm1pbi5zZXQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHYgPSB2ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHYueCA8IGFhYmJtaW4ueCkge1xuICAgICAgICBhYWJibWluLnggPSB2Lng7XG4gICAgICB9IGVsc2UgaWYgKHYueCA+IGFhYmJtYXgueCkge1xuICAgICAgICBhYWJibWF4LnggPSB2Lng7XG4gICAgICB9XG5cbiAgICAgIGlmICh2LnkgPCBhYWJibWluLnkpIHtcbiAgICAgICAgYWFiYm1pbi55ID0gdi55O1xuICAgICAgfSBlbHNlIGlmICh2LnkgPiBhYWJibWF4LnkpIHtcbiAgICAgICAgYWFiYm1heC55ID0gdi55O1xuICAgICAgfVxuXG4gICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7XG4gICAgICAgIGFhYmJtaW4ueiA9IHYuejtcbiAgICAgIH0gZWxzZSBpZiAodi56ID4gYWFiYm1heC56KSB7XG4gICAgICAgIGFhYmJtYXgueiA9IHYuejtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLlxyXG4gICAqIEBtZXRob2QgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHNcclxuICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0XHJcbiAgICovXG5cblxuICBjb21wdXRlV29ybGRGYWNlTm9ybWFscyhxdWF0KSB7XG4gICAgY29uc3QgTiA9IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKHRoaXMud29ybGRGYWNlTm9ybWFscy5sZW5ndGggPCBOKSB7XG4gICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMucHVzaChuZXcgVmVjMygpKTtcbiAgICB9XG5cbiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5mYWNlTm9ybWFscztcbiAgICBjb25zdCB3b3JsZE5vcm1hbHMgPSB0aGlzLndvcmxkRmFjZU5vcm1hbHM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBxdWF0LnZtdWx0KG5vcm1hbHNbaV0sIHdvcmxkTm9ybWFsc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzXHJcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyXG4gICAgbGV0IG1heDIgPSAwO1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgbm9ybTIgPSB2ZXJ0c1tpXS5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICAgIGlmIChub3JtMiA+IG1heDIpIHtcbiAgICAgICAgbWF4MiA9IG5vcm0yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkJcclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3NcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259ICBxdWF0XHJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluXHJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBsZXQgbWlueDtcbiAgICBsZXQgbWlueTtcbiAgICBsZXQgbWluejtcbiAgICBsZXQgbWF4eDtcbiAgICBsZXQgbWF4eTtcbiAgICBsZXQgbWF4ejtcbiAgICBsZXQgdGVtcFdvcmxkVmVydGV4ID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRlbXBXb3JsZFZlcnRleC5jb3B5KHZlcnRzW2ldKTtcbiAgICAgIHF1YXQudm11bHQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpO1xuICAgICAgcG9zLnZhZGQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpO1xuICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDtcblxuICAgICAgaWYgKG1pbnggPT09IHVuZGVmaW5lZCB8fCB2LnggPCBtaW54KSB7XG4gICAgICAgIG1pbnggPSB2Lng7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXh4ID09PSB1bmRlZmluZWQgfHwgdi54ID4gbWF4eCkge1xuICAgICAgICBtYXh4ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAobWlueSA9PT0gdW5kZWZpbmVkIHx8IHYueSA8IG1pbnkpIHtcbiAgICAgICAgbWlueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heHkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPiBtYXh5KSB7XG4gICAgICAgIG1heHkgPSB2Lnk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW56ID09PSB1bmRlZmluZWQgfHwgdi56IDwgbWlueikge1xuICAgICAgICBtaW56ID0gdi56O1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4eiA9PT0gdW5kZWZpbmVkIHx8IHYueiA+IG1heHopIHtcbiAgICAgICAgbWF4eiA9IHYuejtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtaW4uc2V0KG1pbngsIG1pbnksIG1pbnopO1xuICAgIG1heC5zZXQobWF4eCwgbWF4eSwgbWF4eik7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFwcHJveGltYXRlIGNvbnZleCB2b2x1bWVcclxuICAgKiBAbWV0aG9kIHZvbHVtZVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFuIGF2ZXJhZ2Ugb2YgYWxsIHRoZSB2ZXJ0aWNlcyBwb3NpdGlvbnNcclxuICAgKiBAbWV0aG9kIGdldEF2ZXJhZ2VQb2ludExvY2FsXHJcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGdldEF2ZXJhZ2VQb2ludExvY2FsKHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0YXJnZXQudmFkZCh2ZXJ0c1tpXSwgdGFyZ2V0KTtcbiAgICB9XG5cbiAgICB0YXJnZXQuc2NhbGUoMSAvIHZlcnRzLmxlbmd0aCwgdGFyZ2V0KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFRyYW5zZm9ybSBhbGwgbG9jYWwgcG9pbnRzLiBXaWxsIGNoYW5nZSB0aGUgLnZlcnRpY2VzXHJcbiAgICogQG1ldGhvZCB0cmFuc2Zvcm1BbGxQb2ludHNcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBvZmZzZXRcclxuICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0XHJcbiAgICovXG5cblxuICB0cmFuc2Zvcm1BbGxQb2ludHMob2Zmc2V0LCBxdWF0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsgLy8gQXBwbHkgcm90YXRpb25cblxuICAgIGlmIChxdWF0KSB7XG4gICAgICAvLyBSb3RhdGUgdmVydGljZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTtcbiAgICAgICAgcXVhdC52bXVsdCh2LCB2KTtcbiAgICAgIH0gLy8gUm90YXRlIGZhY2Ugbm9ybWFsc1xuXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy5mYWNlTm9ybWFsc1tpXTtcbiAgICAgICAgcXVhdC52bXVsdCh2LCB2KTtcbiAgICAgIH1cbiAgICAgIC8qXHJcbiAgICAgICAgICAgIC8vIFJvdGF0ZSBlZGdlc1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnVuaXF1ZUVkZ2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgcXVhdC52bXVsdCh2LHYpO1xyXG4gICAgICAgICAgICB9Ki9cblxuICAgIH0gLy8gQXBwbHkgb2Zmc2V0XG5cblxuICAgIGlmIChvZmZzZXQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTtcbiAgICAgICAgdi52YWRkKG9mZnNldCwgdik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrcyB3aGV0aGVyIHAgaXMgaW5zaWRlIHRoZSBwb2x5aGVkcmEuIE11c3QgYmUgaW4gbG9jYWwgY29vcmRzLlxyXG4gICAqIFRoZSBwb2ludCBsaWVzIG91dHNpZGUgb2YgdGhlIGNvbnZleCBodWxsIG9mIHRoZSBvdGhlciBwb2ludHMgaWYgYW5kIG9ubHkgaWYgdGhlIGRpcmVjdGlvblxyXG4gICAqIG9mIGFsbCB0aGUgdmVjdG9ycyBmcm9tIGl0IHRvIHRob3NlIG90aGVyIHBvaW50cyBhcmUgb24gbGVzcyB0aGFuIG9uZSBoYWxmIG9mIGEgc3BoZXJlIGFyb3VuZCBpdC5cclxuICAgKiBAbWV0aG9kIHBvaW50SXNJbnNpZGVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBwICAgICAgQSBwb2ludCBnaXZlbiBpbiBsb2NhbCBjb29yZGluYXRlc1xyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBwb2ludElzSW5zaWRlKHApIHtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3QgZmFjZXMgPSB0aGlzLmZhY2VzO1xuICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzO1xuICAgIGNvbnN0IHBvaW50SW5zaWRlID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmdldEF2ZXJhZ2VQb2ludExvY2FsKHBvaW50SW5zaWRlKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBub3JtYWxzW2ldO1xuICAgICAgY29uc3QgdiA9IHZlcnRzW2ZhY2VzW2ldWzBdXTsgLy8gV2Ugb25seSBuZWVkIG9uZSBwb2ludCBpbiB0aGUgZmFjZVxuICAgICAgLy8gVGhpcyBkb3QgcHJvZHVjdCBkZXRlcm1pbmVzIHdoaWNoIHNpZGUgb2YgdGhlIGVkZ2UgdGhlIHBvaW50IGlzXG5cbiAgICAgIGNvbnN0IHZUb1AgPSBuZXcgVmVjMygpO1xuICAgICAgcC52c3ViKHYsIHZUb1ApO1xuICAgICAgY29uc3QgcjEgPSBuLmRvdCh2VG9QKTtcbiAgICAgIGNvbnN0IHZUb1BvaW50SW5zaWRlID0gbmV3IFZlYzMoKTtcbiAgICAgIHBvaW50SW5zaWRlLnZzdWIodiwgdlRvUG9pbnRJbnNpZGUpO1xuICAgICAgY29uc3QgcjIgPSBuLmRvdCh2VG9Qb2ludEluc2lkZSk7XG5cbiAgICAgIGlmIChyMSA8IDAgJiYgcjIgPiAwIHx8IHIxID4gMCAmJiByMiA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBFbmNvdW50ZXJlZCBzb21lIG90aGVyIHNpZ24uIEV4aXQuXG4gICAgICB9XG4gICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uXG5cblxuICAgIHJldHVybiAgLTE7XG4gIH1cblxufVxuLyoqXHJcbiAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBjb21wdXRlTm9ybWFsXHJcbiAqIEBwYXJhbSB7VmVjM30gdmFcclxuICogQHBhcmFtIHtWZWMzfSB2YlxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZjXHJcbiAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XHJcbiAqL1xuXG5Db252ZXhQb2x5aGVkcm9uLmNvbXB1dGVOb3JtYWwgPSAodmEsIHZiLCB2YywgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IGNiID0gbmV3IFZlYzMoKTtcbiAgY29uc3QgYWIgPSBuZXcgVmVjMygpO1xuICB2Yi52c3ViKHZhLCBhYik7XG4gIHZjLnZzdWIodmIsIGNiKTtcbiAgY2IuY3Jvc3MoYWIsIHRhcmdldCk7XG5cbiAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHtcbiAgICB0YXJnZXQubm9ybWFsaXplKCk7XG4gIH1cbn07XG5cbmNvbnN0IG1heG1pbkEgPSBbXTtcbmNvbnN0IG1heG1pbkIgPSBbXTtcbi8qKlxyXG4gKiBHZXQgbWF4IGFuZCBtaW4gZG90IHByb2R1Y3Qgb2YgYSBjb252ZXggaHVsbCBhdCBwb3NpdGlvbiAocG9zLHF1YXQpIHByb2plY3RlZCBvbnRvIGFuIGF4aXMuXHJcbiAqIFJlc3VsdHMgYXJlIHNhdmVkIGluIHRoZSBhcnJheSBtYXhtaW4uXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBwcm9qZWN0XHJcbiAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbFxyXG4gKiBAcGFyYW0ge1ZlYzN9IGF4aXNcclxuICogQHBhcmFtIHtWZWMzfSBwb3NcclxuICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0XHJcbiAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCByZXN1bHRbMF0gYW5kIHJlc3VsdFsxXSB3aWxsIGJlIHNldCB0byBtYXhpbXVtIGFuZCBtaW5pbXVtLCByZXNwZWN0aXZlbHkuXHJcbiAqL1xuXG5Db252ZXhQb2x5aGVkcm9uLnByb2plY3QgPSAoc2hhcGUsIGF4aXMsIHBvcywgcXVhdCwgcmVzdWx0KSA9PiB7XG4gIGNvbnN0IG4gPSBzaGFwZS52ZXJ0aWNlcy5sZW5ndGg7XG4gIGNvbnN0IGxvY2FsQXhpcyA9IG5ldyBWZWMzKCk7XG4gIGxldCBtYXggPSAwO1xuICBsZXQgbWluID0gMDtcbiAgY29uc3QgbG9jYWxPcmlnaW4gPSBuZXcgVmVjMygpO1xuICBjb25zdCB2cyA9IHNoYXBlLnZlcnRpY2VzO1xuICBsb2NhbE9yaWdpbi5zZXRaZXJvKCk7IC8vIFRyYW5zZm9ybSB0aGUgYXhpcyB0byBsb2NhbFxuXG4gIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBheGlzLCBsb2NhbEF4aXMpO1xuICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBsb2NhbE9yaWdpbiwgbG9jYWxPcmlnaW4pO1xuICBjb25zdCBhZGQgPSBsb2NhbE9yaWdpbi5kb3QobG9jYWxBeGlzKTtcbiAgbWluID0gbWF4ID0gdnNbMF0uZG90KGxvY2FsQXhpcyk7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBuOyBpKyspIHtcbiAgICBjb25zdCB2YWwgPSB2c1tpXS5kb3QobG9jYWxBeGlzKTtcblxuICAgIGlmICh2YWwgPiBtYXgpIHtcbiAgICAgIG1heCA9IHZhbDtcbiAgICB9XG5cbiAgICBpZiAodmFsIDwgbWluKSB7XG4gICAgICBtaW4gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgbWluIC09IGFkZDtcbiAgbWF4IC09IGFkZDtcblxuICBpZiAobWluID4gbWF4KSB7XG4gICAgLy8gSW5jb25zaXN0ZW50IC0gc3dhcFxuICAgIGNvbnN0IHRlbXAgPSBtaW47XG4gICAgbWluID0gbWF4O1xuICAgIG1heCA9IHRlbXA7XG4gIH0gLy8gT3V0cHV0XG5cblxuICByZXN1bHRbMF0gPSBtYXg7XG4gIHJlc3VsdFsxXSA9IG1pbjtcbn07XG5cbi8qKlxuICogQSAzZCBib3ggc2hhcGUuXG4gKiBAY2xhc3MgQm94XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VmVjM30gaGFsZkV4dGVudHNcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBleHRlbmRzIFNoYXBlXG4gKi9cbmNsYXNzIEJveCBleHRlbmRzIFNoYXBlIHtcbiAgLy8gVXNlZCBieSB0aGUgY29udGFjdCBnZW5lcmF0b3IgdG8gbWFrZSBjb250YWN0cyB3aXRoIG90aGVyIGNvbnZleCBwb2x5aGVkcmEgZm9yIGV4YW1wbGUuXG4gIGNvbnN0cnVjdG9yKGhhbGZFeHRlbnRzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YXG4gICAgfSk7XG4gICAgdGhpcy5oYWxmRXh0ZW50cyA9IGhhbGZFeHRlbnRzO1xuICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDtcbiAgICB0aGlzLnVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgbG9jYWwgY29udmV4IHBvbHloZWRyb24gcmVwcmVzZW50YXRpb24gdXNlZCBmb3Igc29tZSBjb2xsaXNpb25zLlxuICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvblxuICAgKi9cblxuXG4gIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHtcbiAgICBjb25zdCBzeCA9IHRoaXMuaGFsZkV4dGVudHMueDtcbiAgICBjb25zdCBzeSA9IHRoaXMuaGFsZkV4dGVudHMueTtcbiAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejtcbiAgICBjb25zdCBWID0gVmVjMztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IFtuZXcgVigtc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIC1zeSwgLXN6KSwgbmV3IFYoc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIHN5LCAtc3opLCBuZXcgVigtc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgLXN5LCBzeiksIG5ldyBWKHN4LCBzeSwgc3opLCBuZXcgVigtc3gsIHN5LCBzeildO1xuICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXpcbiAgICBbNCwgNSwgNiwgN10sIC8vICt6XG4gICAgWzUsIDQsIDAsIDFdLCAvLyAteVxuICAgIFsyLCAzLCA3LCA2XSwgLy8gK3lcbiAgICBbMCwgNCwgNywgM10sIC8vIC14XG4gICAgWzEsIDIsIDYsIDVdIC8vICt4XG4gICAgXTtcbiAgICBjb25zdCBheGVzID0gW25ldyBWKDAsIDAsIDEpLCBuZXcgVigwLCAxLCAwKSwgbmV3IFYoMSwgMCwgMCldO1xuICAgIGNvbnN0IGggPSBuZXcgQ29udmV4UG9seWhlZHJvbih7XG4gICAgICB2ZXJ0aWNlcyxcbiAgICAgIGZhY2VzLFxuICAgICAgYXhlc1xuICAgIH0pO1xuICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gaDtcbiAgICBoLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcbiAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtWZWMzfVxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGJveCA2IHNpZGUgbm9ybWFsc1xuICAgKiBAbWV0aG9kIGdldFNpZGVOb3JtYWxzXG4gICAqIEBwYXJhbSB7YXJyYXl9ICAgICAgc2l4VGFyZ2V0VmVjdG9ycyBBbiBhcnJheSBvZiA2IHZlY3RvcnMsIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBub3JtYWxzIGluLlxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXQgICAgICAgICAgICAgT3JpZW50YXRpb24gdG8gYXBwbHkgdG8gdGhlIG5vcm1hbCB2ZWN0b3JzLiBJZiBub3QgcHJvdmlkZWQsIHRoZSB2ZWN0b3JzIHdpbGwgYmUgaW4gcmVzcGVjdCB0byB0aGUgbG9jYWwgZnJhbWUuXG4gICAqIEByZXR1cm4ge2FycmF5fVxuICAgKi9cblxuXG4gIGdldFNpZGVOb3JtYWxzKHNpeFRhcmdldFZlY3RvcnMsIHF1YXQpIHtcbiAgICBjb25zdCBzaWRlcyA9IHNpeFRhcmdldFZlY3RvcnM7XG4gICAgY29uc3QgZXggPSB0aGlzLmhhbGZFeHRlbnRzO1xuICAgIHNpZGVzWzBdLnNldChleC54LCAwLCAwKTtcbiAgICBzaWRlc1sxXS5zZXQoMCwgZXgueSwgMCk7XG4gICAgc2lkZXNbMl0uc2V0KDAsIDAsIGV4LnopO1xuICAgIHNpZGVzWzNdLnNldCgtZXgueCwgMCwgMCk7XG4gICAgc2lkZXNbNF0uc2V0KDAsIC1leC55LCAwKTtcbiAgICBzaWRlc1s1XS5zZXQoMCwgMCwgLWV4LnopO1xuXG4gICAgaWYgKHF1YXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHNpZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHF1YXQudm11bHQoc2lkZXNbaV0sIHNpZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2lkZXM7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDguMCAqIHRoaXMuaGFsZkV4dGVudHMueCAqIHRoaXMuaGFsZkV4dGVudHMueSAqIHRoaXMuaGFsZkV4dGVudHMuejtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLmhhbGZFeHRlbnRzLmxlbmd0aCgpO1xuICB9XG5cbiAgZm9yRWFjaFdvcmxkQ29ybmVyKHBvcywgcXVhdCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50cztcbiAgICBjb25zdCBjb3JuZXJzID0gW1tlLngsIGUueSwgZS56XSwgWy1lLngsIGUueSwgZS56XSwgWy1lLngsIC1lLnksIGUuel0sIFstZS54LCAtZS55LCAtZS56XSwgW2UueCwgLWUueSwgLWUuel0sIFtlLngsIGUueSwgLWUuel0sIFstZS54LCBlLnksIC1lLnpdLCBbZS54LCAtZS55LCBlLnpdXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGRDb3JuZXJUZW1wUG9zLnNldChjb3JuZXJzW2ldWzBdLCBjb3JuZXJzW2ldWzFdLCBjb3JuZXJzW2ldWzJdKTtcbiAgICAgIHF1YXQudm11bHQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpO1xuICAgICAgcG9zLnZhZGQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpO1xuICAgICAgY2FsbGJhY2sod29ybGRDb3JuZXJUZW1wUG9zLngsIHdvcmxkQ29ybmVyVGVtcFBvcy55LCB3b3JsZENvcm5lclRlbXBQb3Mueik7XG4gICAgfVxuICB9XG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50cztcbiAgICB3b3JsZENvcm5lcnNUZW1wWzBdLnNldChlLngsIGUueSwgZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzFdLnNldCgtZS54LCBlLnksIGUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFsyXS5zZXQoLWUueCwgLWUueSwgZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzNdLnNldCgtZS54LCAtZS55LCAtZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzRdLnNldChlLngsIC1lLnksIC1lLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbNV0uc2V0KGUueCwgZS55LCAtZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzZdLnNldCgtZS54LCBlLnksIC1lLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbN10uc2V0KGUueCwgLWUueSwgZS56KTtcbiAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbMF07XG4gICAgcXVhdC52bXVsdCh3Yywgd2MpO1xuICAgIHBvcy52YWRkKHdjLCB3Yyk7XG4gICAgbWF4LmNvcHkod2MpO1xuICAgIG1pbi5jb3B5KHdjKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgODsgaSsrKSB7XG4gICAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbaV07XG4gICAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7XG4gICAgICBwb3MudmFkZCh3Yywgd2MpO1xuICAgICAgY29uc3QgeCA9IHdjLng7XG4gICAgICBjb25zdCB5ID0gd2MueTtcbiAgICAgIGNvbnN0IHogPSB3Yy56O1xuXG4gICAgICBpZiAoeCA+IG1heC54KSB7XG4gICAgICAgIG1heC54ID0geDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPiBtYXgueSkge1xuICAgICAgICBtYXgueSA9IHk7XG4gICAgICB9XG5cbiAgICAgIGlmICh6ID4gbWF4LnopIHtcbiAgICAgICAgbWF4LnogPSB6O1xuICAgICAgfVxuXG4gICAgICBpZiAoeCA8IG1pbi54KSB7XG4gICAgICAgIG1pbi54ID0geDtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPCBtaW4ueSkge1xuICAgICAgICBtaW4ueSA9IHk7XG4gICAgICB9XG5cbiAgICAgIGlmICh6IDwgbWluLnopIHtcbiAgICAgICAgbWluLnogPSB6O1xuICAgICAgfVxuICAgIH0gLy8gR2V0IGVhY2ggYXhpcyBtYXhcbiAgICAvLyBtaW4uc2V0KEluZmluaXR5LEluZmluaXR5LEluZmluaXR5KTtcbiAgICAvLyBtYXguc2V0KC1JbmZpbml0eSwtSW5maW5pdHksLUluZmluaXR5KTtcbiAgICAvLyB0aGlzLmZvckVhY2hXb3JsZENvcm5lcihwb3MscXVhdCxmdW5jdGlvbih4LHkseil7XG4gICAgLy8gICAgIGlmKHggPiBtYXgueCl7XG4gICAgLy8gICAgICAgICBtYXgueCA9IHg7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeSA+IG1heC55KXtcbiAgICAvLyAgICAgICAgIG1heC55ID0geTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih6ID4gbWF4Lnope1xuICAgIC8vICAgICAgICAgbWF4LnogPSB6O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHggPCBtaW4ueCl7XG4gICAgLy8gICAgICAgICBtaW4ueCA9IHg7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeSA8IG1pbi55KXtcbiAgICAvLyAgICAgICAgIG1pbi55ID0geTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih6IDwgbWluLnope1xuICAgIC8vICAgICAgICAgbWluLnogPSB6O1xuICAgIC8vICAgICB9XG4gICAgLy8gfSk7XG5cbiAgfVxuXG59XG5cbkJveC5jYWxjdWxhdGVJbmVydGlhID0gKGhhbGZFeHRlbnRzLCBtYXNzLCB0YXJnZXQpID0+IHtcbiAgY29uc3QgZSA9IGhhbGZFeHRlbnRzO1xuICB0YXJnZXQueCA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnkgKiAyICogZS55ICsgMiAqIGUueiAqIDIgKiBlLnopO1xuICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnggKiAyICogZS54ICsgMiAqIGUueiAqIDIgKiBlLnopO1xuICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnkgKiAyICogZS55ICsgMiAqIGUueCAqIDIgKiBlLngpO1xufTtcblxuY29uc3Qgd29ybGRDb3JuZXJUZW1wUG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHdvcmxkQ29ybmVyc1RlbXAgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07XG5cbmNvbnN0IEJPRFlfVFlQRVMgPSB7XG4gIERZTkFNSUM6IDEsXG4gIFNUQVRJQzogMixcbiAgS0lORU1BVElDOiA0XG59O1xuY29uc3QgQk9EWV9TTEVFUF9TVEFURVMgPSB7XG4gIEFXQUtFOiAwLFxuICBTTEVFUFk6IDEsXG4gIFNMRUVQSU5HOiAyXG59O1xuXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGJvZHkgdHlwZXMuXHJcbiAqIEBjbGFzcyBCb2R5XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucG9zaXRpb25dXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMudmVsb2NpdHldXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhclZlbG9jaXR5XVxyXG4gKiBAcGFyYW0ge1F1YXRlcm5pb259IFtvcHRpb25zLnF1YXRlcm5pb25dXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXNzXVxyXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBbb3B0aW9ucy5tYXRlcmlhbF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnR5cGVdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5lYXJEYW1waW5nPTAuMDFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyRGFtcGluZz0wLjAxXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFsbG93U2xlZXA9dHJ1ZV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNsZWVwU3BlZWRMaW1pdD0wLjFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zbGVlcFRpbWVMaW1pdD0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZml4ZWRSb3RhdGlvbj1mYWxzZV1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5saW5lYXJGYWN0b3JdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhckZhY3Rvcl1cclxuICogQHBhcmFtIHtTaGFwZX0gW29wdGlvbnMuc2hhcGVdXHJcbiAqIEBleGFtcGxlXHJcbiAqICAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoe1xyXG4gKiAgICAgICAgIG1hc3M6IDFcclxuICogICAgIH0pO1xyXG4gKiAgICAgY29uc3Qgc2hhcGUgPSBuZXcgU3BoZXJlKDEpO1xyXG4gKiAgICAgYm9keS5hZGRTaGFwZShzaGFwZSk7XHJcbiAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpO1xyXG4gKi9cbmNsYXNzIEJvZHkgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIC8vIFBvc2l0aW9uIG9mIGJvZHkgaW4gV29ybGQuYm9kaWVzLiBVcGRhdGVkIGJ5IFdvcmxkIGFuZCB1c2VkIGluIEFycmF5Q29sbGlzaW9uTWF0cml4LlxuICAvLyBSZWZlcmVuY2UgdG8gdGhlIHdvcmxkIHRoZSBib2R5IGlzIGxpdmluZyBpbi5cbiAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIEJFRk9SRSBzdGVwcGluZyB0aGUgc3lzdGVtLiBVc2UgaXQgdG8gYXBwbHkgZm9yY2VzLCBmb3IgZXhhbXBsZS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgXCJ0aGlzXCIgd2lsbCByZWZlciB0byB0aGlzIEJvZHkgb2JqZWN0LiBEZXByZWNhdGVkIC0gdXNlIFdvcmxkIGV2ZW50cyBpbnN0ZWFkLlxuICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQUZURVIgc3RlcHBpbmcgdGhlIHN5c3RlbS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgXCJ0aGlzXCIgd2lsbCByZWZlciB0byB0aGlzIEJvZHkgb2JqZWN0LiBEZXByZWNhdGVkIC0gdXNlIFdvcmxkIGV2ZW50cyBpbnN0ZWFkLlxuICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQgLSBpLmUuIFwiY29sbGlkZVwiIGV2ZW50cyB3aWxsIGJlIHJhaXNlZCwgYnV0IGZvcmNlcyB3aWxsIG5vdCBiZSBhbHRlcmVkLlxuICAvLyBXb3JsZCBzcGFjZSBwb3NpdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gSW50ZXJwb2xhdGVkIHBvc2l0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBJbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBXb3JsZCBzcGFjZSB2ZWxvY2l0eSBvZiB0aGUgYm9keS5cbiAgLy8gTGluZWFyIGZvcmNlIG9uIHRoZSBib2R5IGluIHdvcmxkIHNwYWNlLlxuICAvLyBPbmUgb2Y6IEJvZHkuRFlOQU1JQywgQm9keS5TVEFUSUMgYW5kIEJvZHkuS0lORU1BVElDLlxuICAvLyBJZiB0cnVlLCB0aGUgYm9keSB3aWxsIGF1dG9tYXRpY2FsbHkgZmFsbCB0byBzbGVlcC5cbiAgLy8gQ3VycmVudCBzbGVlcCBzdGF0ZS5cbiAgLy8gSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS5cbiAgLy8gSWYgdGhlIGJvZHkgaGFzIGJlZW4gc2xlZXB5IGZvciB0aGlzIHNsZWVwVGltZUxpbWl0IHNlY29uZHMsIGl0IGlzIGNvbnNpZGVyZWQgc2xlZXBpbmcuXG4gIC8vIFdvcmxkIHNwYWNlIHJvdGF0aW9uYWwgZm9yY2Ugb24gdGhlIGJvZHksIGFyb3VuZCBjZW50ZXIgb2YgbWFzcy5cbiAgLy8gV29ybGQgc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEludGVycG9sYXRlZCBvcmllbnRhdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gQW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgYm9keSwgaW4gd29ybGQgc3BhY2UuIFRoaW5rIG9mIHRoZSBhbmd1bGFyIHZlbG9jaXR5IGFzIGEgdmVjdG9yLCB3aGljaCB0aGUgYm9keSByb3RhdGVzIGFyb3VuZC4gVGhlIGxlbmd0aCBvZiB0aGlzIHZlY3RvciBkZXRlcm1pbmVzIGhvdyBmYXN0IChpbiByYWRpYW5zIHBlciBzZWNvbmQpIHRoZSBib2R5IHJvdGF0ZXMuXG4gIC8vIFBvc2l0aW9uIG9mIGVhY2ggU2hhcGUgaW4gdGhlIGJvZHksIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuXG4gIC8vIE9yaWVudGF0aW9uIG9mIGVhY2ggU2hhcGUsIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuXG4gIC8vIFNldCB0byB0cnVlIGlmIHlvdSBkb24ndCB3YW50IHRoZSBib2R5IHRvIHJvdGF0ZS4gTWFrZSBzdXJlIHRvIHJ1biAudXBkYXRlTWFzc1Byb3BlcnRpZXMoKSBhZnRlciBjaGFuZ2luZyB0aGlzLlxuICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgbW90aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuXG4gIC8vIFVzZSB0aGlzIHByb3BlcnR5IHRvIGxpbWl0IHRoZSByb3RhdGlvbmFsIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IHJvdGF0aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuXG4gIC8vIFdvcmxkIHNwYWNlIGJvdW5kaW5nIGJveCBvZiB0aGUgYm9keSBhbmQgaXRzIHNoYXBlcy5cbiAgLy8gSW5kaWNhdGVzIGlmIHRoZSBBQUJCIG5lZWRzIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHVzZS5cbiAgLy8gVG90YWwgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBCb2R5IGluY2x1ZGluZyBpdHMgc2hhcGVzLCByZWxhdGl2ZSB0byBib2R5LnBvc2l0aW9uLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaWQgPSBCb2R5LmlkQ291bnRlcisrO1xuICAgIHRoaXMuaW5kZXggPSAtMTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLnByZVN0ZXAgPSBudWxsO1xuICAgIHRoaXMucG9zdFN0ZXAgPSBudWxsO1xuICAgIHRoaXMudmxhbWJkYSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAxO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgPT09ICdudW1iZXInID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7XG4gICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy52ZWxvY2l0eSkge1xuICAgICAgdGhpcy52ZWxvY2l0eS5jb3B5KG9wdGlvbnMudmVsb2NpdHkpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdFZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmZvcmNlID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBtYXNzID0gdHlwZW9mIG9wdGlvbnMubWFzcyA9PT0gJ251bWJlcicgPyBvcHRpb25zLm1hc3MgOiAwO1xuICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgdGhpcy5pbnZNYXNzID0gbWFzcyA+IDAgPyAxLjAgLyBtYXNzIDogMDtcbiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCB8fCBudWxsO1xuICAgIHRoaXMubGluZWFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmxpbmVhckRhbXBpbmcgPT09ICdudW1iZXInID8gb3B0aW9ucy5saW5lYXJEYW1waW5nIDogMC4wMTtcbiAgICB0aGlzLnR5cGUgPSBtYXNzIDw9IDAuMCA/IEJvZHkuU1RBVElDIDogQm9keS5EWU5BTUlDO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnR5cGUgPT09IHR5cGVvZiBCb2R5LlNUQVRJQykge1xuICAgICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xuICAgIH1cblxuICAgIHRoaXMuYWxsb3dTbGVlcCA9IHR5cGVvZiBvcHRpb25zLmFsbG93U2xlZXAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbGxvd1NsZWVwIDogdHJ1ZTtcbiAgICB0aGlzLnNsZWVwU3RhdGUgPSAwO1xuICAgIHRoaXMuc2xlZXBTcGVlZExpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0IDogMC4xO1xuICAgIHRoaXMuc2xlZXBUaW1lTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5zbGVlcFRpbWVMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNsZWVwVGltZUxpbWl0IDogMTtcbiAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDtcbiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTtcbiAgICB0aGlzLnRvcnF1ZSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICB0aGlzLmluaXRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcblxuICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHtcbiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgICB0aGlzLmluaXRRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KSB7XG4gICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRBbmd1bGFyVmVsb2NpdHkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuc2hhcGVzID0gW107XG4gICAgdGhpcy5zaGFwZU9mZnNldHMgPSBbXTtcbiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zID0gW107XG4gICAgdGhpcy5pbmVydGlhID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmludkluZXJ0aWEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkID0gbmV3IE1hdDMoKTtcbiAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7XG4gICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUgPSBuZXcgTWF0MygpO1xuICAgIHRoaXMuZml4ZWRSb3RhdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZpeGVkUm90YXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5maXhlZFJvdGF0aW9uIDogZmFsc2U7XG4gICAgdGhpcy5hbmd1bGFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmFuZ3VsYXJEYW1waW5nICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgOiAwLjAxO1xuICAgIHRoaXMubGluZWFyRmFjdG9yID0gbmV3IFZlYzMoMSwgMSwgMSk7XG5cbiAgICBpZiAob3B0aW9ucy5saW5lYXJGYWN0b3IpIHtcbiAgICAgIHRoaXMubGluZWFyRmFjdG9yLmNvcHkob3B0aW9ucy5saW5lYXJGYWN0b3IpO1xuICAgIH1cblxuICAgIHRoaXMuYW5ndWxhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpO1xuXG4gICAgaWYgKG9wdGlvbnMuYW5ndWxhckZhY3Rvcikge1xuICAgICAgdGhpcy5hbmd1bGFyRmFjdG9yLmNvcHkob3B0aW9ucy5hbmd1bGFyRmFjdG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpO1xuICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gMDtcbiAgICB0aGlzLndsYW1iZGEgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMuc2hhcGUpIHtcbiAgICAgIHRoaXMuYWRkU2hhcGUob3B0aW9ucy5zaGFwZSk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpO1xuICB9XG4gIC8qKlxyXG4gICAqIFdha2UgdGhlIGJvZHkgdXAuXHJcbiAgICogQG1ldGhvZCB3YWtlVXBcclxuICAgKi9cblxuXG4gIHdha2VVcCgpIHtcbiAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7XG4gICAgdGhpcy5zbGVlcFN0YXRlID0gMDtcbiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTtcblxuICAgIGlmIChwcmV2U3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5Lndha2V1cEV2ZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogRm9yY2UgYm9keSBzbGVlcFxyXG4gICAqIEBtZXRob2Qgc2xlZXBcclxuICAgKi9cblxuXG4gIHNsZWVwKCkge1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBJTkc7XG4gICAgdGhpcy52ZWxvY2l0eS5zZXQoMCwgMCwgMCk7XG4gICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuc2V0KDAsIDAsIDApO1xuICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIENhbGxlZCBldmVyeSB0aW1lc3RlcCB0byB1cGRhdGUgaW50ZXJuYWwgc2xlZXAgdGltZXIgYW5kIGNoYW5nZSBzbGVlcCBzdGF0ZSBpZiBuZWVkZWQuXHJcbiAgICogQG1ldGhvZCBzbGVlcFRpY2tcclxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSBUaGUgd29ybGQgdGltZSBpbiBzZWNvbmRzXHJcbiAgICovXG5cblxuICBzbGVlcFRpY2sodGltZSkge1xuICAgIGlmICh0aGlzLmFsbG93U2xlZXApIHtcbiAgICAgIGNvbnN0IHNsZWVwU3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7XG4gICAgICBjb25zdCBzcGVlZFNxdWFyZWQgPSB0aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIHRoaXMuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkID0gdGhpcy5zbGVlcFNwZWVkTGltaXQgKiogMjtcblxuICAgICAgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgc3BlZWRTcXVhcmVkIDwgc3BlZWRMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5TTEVFUFk7IC8vIFNsZWVweVxuXG4gICAgICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSB0aW1lO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS5zbGVlcHlFdmVudCk7XG4gICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHNwZWVkU3F1YXJlZCA+IHNwZWVkTGltaXRTcXVhcmVkKSB7XG4gICAgICAgIHRoaXMud2FrZVVwKCk7IC8vIFdha2UgdXBcbiAgICAgIH0gZWxzZSBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUFkgJiYgdGltZSAtIHRoaXMudGltZUxhc3RTbGVlcHkgPiB0aGlzLnNsZWVwVGltZUxpbWl0KSB7XG4gICAgICAgIHRoaXMuc2xlZXAoKTsgLy8gU2xlZXBpbmdcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS5zbGVlcEV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogSWYgdGhlIGJvZHkgaXMgc2xlZXBpbmcsIGl0IHNob3VsZCBiZSBpbW1vdmFibGUgLyBoYXZlIGluZmluaXRlIG1hc3MgZHVyaW5nIHNvbHZlLiBXZSBzb2x2ZSBpdCBieSBoYXZpbmcgYSBzZXBhcmF0ZSBcInNvbHZlIG1hc3NcIi5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKSB7XG4gICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB7XG4gICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7XG4gICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5zZXRaZXJvKCk7XG4gICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSB0aGlzLmludk1hc3M7XG4gICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSk7XG4gICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhV29ybGQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0IGEgd29ybGQgcG9pbnQgdG8gbG9jYWwgYm9keSBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHBvaW50VG9Mb2NhbEZyYW1lXHJcbiAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBwb2ludFRvTG9jYWxGcmFtZSh3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgd29ybGRQb2ludC52c3ViKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHJlc3VsdCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSB3b3JsZCB2ZWN0b3IgdG8gbG9jYWwgYm9keSBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgdmVjdG9yVG9Mb2NhbEZyYW1lKHdvcmxkVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuXHJcbiAgICogQG1ldGhvZCBwb2ludFRvV29ybGRGcmFtZVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgcG9pbnRUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpO1xuICAgIHJlc3VsdC52YWRkKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0IGEgbG9jYWwgYm9keSBwb2ludCB0byB3b3JsZCBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHZlY3RvclRvV29ybGRGcmFtZVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsVmVjdG9yXHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBhIHNoYXBlIHRvIHRoZSBib2R5IHdpdGggYSBsb2NhbCBvZmZzZXQgYW5kIG9yaWVudGF0aW9uLlxyXG4gICAqIEBtZXRob2QgYWRkU2hhcGVcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gW19vZmZzZXRdXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbX29yaWVudGF0aW9uXVxyXG4gICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cclxuICAgKi9cblxuXG4gIGFkZFNoYXBlKHNoYXBlLCBfb2Zmc2V0LCBfb3JpZW50YXRpb24pIHtcbiAgICBjb25zdCBvZmZzZXQgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb24oKTtcblxuICAgIGlmIChfb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQuY29weShfb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBpZiAoX29yaWVudGF0aW9uKSB7XG4gICAgICBvcmllbnRhdGlvbi5jb3B5KF9vcmllbnRhdGlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5zaGFwZXMucHVzaChzaGFwZSk7XG4gICAgdGhpcy5zaGFwZU9mZnNldHMucHVzaChvZmZzZXQpO1xuICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMucHVzaChvcmllbnRhdGlvbik7XG4gICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdSYWRpdXMoKTtcbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgc2hhcGUuYm9keSA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSBib3VuZGluZyByYWRpdXMgb2YgdGhlIGJvZHkuIFNob3VsZCBiZSBkb25lIGlmIGFueSBvZiB0aGUgc2hhcGVzIGFyZSBjaGFuZ2VkLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdSYWRpdXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nUmFkaXVzKCkge1xuICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzO1xuICAgIGNvbnN0IHNoYXBlT2Zmc2V0cyA9IHRoaXMuc2hhcGVPZmZzZXRzO1xuICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoO1xuICAgIGxldCByYWRpdXMgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbaV07XG4gICAgICBzaGFwZS51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gc2hhcGVPZmZzZXRzW2ldLmxlbmd0aCgpO1xuICAgICAgY29uc3QgciA9IHNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzO1xuXG4gICAgICBpZiAob2Zmc2V0ICsgciA+IHJhZGl1cykge1xuICAgICAgICByYWRpdXMgPSBvZmZzZXQgKyByO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSByYWRpdXM7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgLmFhYmJcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVBQUJCXHJcbiAgICogQHRvZG8gcmVuYW1lIHRvIHVwZGF0ZUFBQkIoKVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUFBQkIoKSB7XG4gICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7XG4gICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7XG4gICAgY29uc3Qgc2hhcGVPcmllbnRhdGlvbnMgPSB0aGlzLnNoYXBlT3JpZW50YXRpb25zO1xuICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoO1xuICAgIGNvbnN0IG9mZnNldCA9IHRtcFZlYztcbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRtcFF1YXQkMTtcbiAgICBjb25zdCBib2R5UXVhdCA9IHRoaXMucXVhdGVybmlvbjtcbiAgICBjb25zdCBhYWJiID0gdGhpcy5hYWJiO1xuICAgIGNvbnN0IHNoYXBlQUFCQiA9IGNvbXB1dGVBQUJCX3NoYXBlQUFCQjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldOyAvLyBHZXQgc2hhcGUgd29ybGQgcG9zaXRpb25cblxuICAgICAgYm9keVF1YXQudm11bHQoc2hhcGVPZmZzZXRzW2ldLCBvZmZzZXQpO1xuICAgICAgb2Zmc2V0LnZhZGQodGhpcy5wb3NpdGlvbiwgb2Zmc2V0KTsgLy8gR2V0IHNoYXBlIHdvcmxkIHF1YXRlcm5pb25cblxuICAgICAgYm9keVF1YXQubXVsdChzaGFwZU9yaWVudGF0aW9uc1tpXSwgb3JpZW50YXRpb24pOyAvLyBHZXQgc2hhcGUgQUFCQlxuXG4gICAgICBzaGFwZS5jYWxjdWxhdGVXb3JsZEFBQkIob2Zmc2V0LCBvcmllbnRhdGlvbiwgc2hhcGVBQUJCLmxvd2VyQm91bmQsIHNoYXBlQUFCQi51cHBlckJvdW5kKTtcblxuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgYWFiYi5jb3B5KHNoYXBlQUFCQik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhYWJiLmV4dGVuZChzaGFwZUFBQkIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIC5pbmVydGlhV29ybGQgYW5kIC5pbnZJbmVydGlhV29ybGRcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUluZXJ0aWFXb3JsZFxyXG4gICAqL1xuXG5cbiAgdXBkYXRlSW5lcnRpYVdvcmxkKGZvcmNlKSB7XG4gICAgY29uc3QgSSA9IHRoaXMuaW52SW5lcnRpYTtcblxuICAgIGlmIChJLnggPT09IEkueSAmJiBJLnkgPT09IEkueiAmJiAhZm9yY2UpIDsgZWxzZSB7XG4gICAgICBjb25zdCBtMSA9IHVpd19tMTtcbiAgICAgIGNvbnN0IG0yID0gdWl3X20yO1xuICAgICAgbTEuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pO1xuICAgICAgbTEudHJhbnNwb3NlKG0yKTtcbiAgICAgIG0xLnNjYWxlKEksIG0xKTtcbiAgICAgIG0xLm1tdWx0KG0yLCB0aGlzLmludkluZXJ0aWFXb3JsZCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlGb3JjZShmb3JjZSwgcmVsYXRpdmVQb2ludCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgLy8gTmVlZGVkP1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGZvcmNlXG5cblxuICAgIGNvbnN0IHJvdEZvcmNlID0gQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlO1xuICAgIHJlbGF0aXZlUG9pbnQuY3Jvc3MoZm9yY2UsIHJvdEZvcmNlKTsgLy8gQWRkIGxpbmVhciBmb3JjZVxuXG4gICAgdGhpcy5mb3JjZS52YWRkKGZvcmNlLCB0aGlzLmZvcmNlKTsgLy8gQWRkIHJvdGF0aW9uYWwgZm9yY2VcblxuICAgIHRoaXMudG9ycXVlLnZhZGQocm90Rm9yY2UsIHRoaXMudG9ycXVlKTtcbiAgfVxuXG4gIGFwcGx5TG9jYWxGb3JjZShsb2NhbEZvcmNlLCBsb2NhbFBvaW50KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd29ybGRGb3JjZSA9IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2U7XG4gICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkOyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZVxuXG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxGb3JjZSwgd29ybGRGb3JjZSk7XG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVsYXRpdmVQb2ludFdvcmxkKTtcbiAgICB0aGlzLmFwcGx5Rm9yY2Uod29ybGRGb3JjZSwgcmVsYXRpdmVQb2ludFdvcmxkKTtcbiAgfVxuXG4gIGFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxhdGl2ZVBvaW50KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDb21wdXRlIHBvaW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBib2R5IGNlbnRlclxuXG5cbiAgICBjb25zdCByID0gcmVsYXRpdmVQb2ludDsgLy8gQ29tcHV0ZSBwcm9kdWNlZCBjZW50cmFsIGltcHVsc2UgdmVsb2NpdHlcblxuICAgIGNvbnN0IHZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvO1xuICAgIHZlbG8uY29weShpbXB1bHNlKTtcbiAgICB2ZWxvLnNjYWxlKHRoaXMuaW52TWFzcywgdmVsbyk7IC8vIEFkZCBsaW5lYXIgaW1wdWxzZVxuXG4gICAgdGhpcy52ZWxvY2l0eS52YWRkKHZlbG8sIHRoaXMudmVsb2NpdHkpOyAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgaW1wdWxzZSB2ZWxvY2l0eVxuXG4gICAgY29uc3Qgcm90VmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG87XG4gICAgci5jcm9zcyhpbXB1bHNlLCByb3RWZWxvKTtcbiAgICAvKlxyXG4gICAgIHJvdFZlbG8ueCAqPSB0aGlzLmludkluZXJ0aWEueDtcclxuICAgICByb3RWZWxvLnkgKj0gdGhpcy5pbnZJbmVydGlhLnk7XHJcbiAgICAgcm90VmVsby56ICo9IHRoaXMuaW52SW5lcnRpYS56O1xyXG4gICAgICovXG5cbiAgICB0aGlzLmludkluZXJ0aWFXb3JsZC52bXVsdChyb3RWZWxvLCByb3RWZWxvKTsgLy8gQWRkIHJvdGF0aW9uYWwgSW1wdWxzZVxuXG4gICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkudmFkZChyb3RWZWxvLCB0aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XG4gIH1cblxuICBhcHBseUxvY2FsSW1wdWxzZShsb2NhbEltcHVsc2UsIGxvY2FsUG9pbnQpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB3b3JsZEltcHVsc2UgPSBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3dvcmxkSW1wdWxzZTtcbiAgICBjb25zdCByZWxhdGl2ZVBvaW50V29ybGQgPSBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQ7IC8vIFRyYW5zZm9ybSB0aGUgZm9yY2UgdmVjdG9yIHRvIHdvcmxkIHNwYWNlXG5cbiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEltcHVsc2UsIHdvcmxkSW1wdWxzZSk7XG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVsYXRpdmVQb2ludFdvcmxkKTtcbiAgICB0aGlzLmFwcGx5SW1wdWxzZSh3b3JsZEltcHVsc2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gIH1cbiAgLyoqXHJcbiAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBib2R5IHNoYXBlIG9yIG1hc3MuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVNYXNzUHJvcGVydGllc1xyXG4gICAqL1xuXG5cbiAgdXBkYXRlTWFzc1Byb3BlcnRpZXMoKSB7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzO1xuICAgIHRoaXMuaW52TWFzcyA9IHRoaXMubWFzcyA+IDAgPyAxLjAgLyB0aGlzLm1hc3MgOiAwO1xuICAgIGNvbnN0IEkgPSB0aGlzLmluZXJ0aWE7XG4gICAgY29uc3QgZml4ZWQgPSB0aGlzLmZpeGVkUm90YXRpb247IC8vIEFwcHJveGltYXRlIHdpdGggQUFCQiBib3hcblxuICAgIHRoaXMuY29tcHV0ZUFBQkIoKTtcbiAgICBoYWxmRXh0ZW50cy5zZXQoKHRoaXMuYWFiYi51cHBlckJvdW5kLnggLSB0aGlzLmFhYmIubG93ZXJCb3VuZC54KSAvIDIsICh0aGlzLmFhYmIudXBwZXJCb3VuZC55IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueSkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueiAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnopIC8gMik7XG4gICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEoaGFsZkV4dGVudHMsIHRoaXMubWFzcywgSSk7XG4gICAgdGhpcy5pbnZJbmVydGlhLnNldChJLnggPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueCA6IDAsIEkueSA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS55IDogMCwgSS56ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnogOiAwKTtcbiAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCh0cnVlKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgd29ybGQgdmVsb2NpdHkgb2YgYSBwb2ludCBpbiB0aGUgYm9keS5cclxuICAgKiBAbWV0aG9kIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSByZXN1bHQgdmVjdG9yLlxyXG4gICAqL1xuXG5cbiAgZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod29ybGRQb2ludCwgcmVzdWx0KSB7XG4gICAgY29uc3QgciA9IG5ldyBWZWMzKCk7XG4gICAgd29ybGRQb2ludC52c3ViKHRoaXMucG9zaXRpb24sIHIpO1xuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHIsIHJlc3VsdCk7XG4gICAgdGhpcy52ZWxvY2l0eS52YWRkKHJlc3VsdCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIE1vdmUgdGhlIGJvZHkgZm9yd2FyZCBpbiB0aW1lLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBUaW1lIHN0ZXBcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1YXROb3JtYWxpemUgU2V0IHRvIHRydWUgdG8gbm9ybWFsaXplIHRoZSBib2R5IHF1YXRlcm5pb25cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1YXROb3JtYWxpemVGYXN0IElmIHRoZSBxdWF0ZXJuaW9uIHNob3VsZCBiZSBub3JtYWxpemVkIHVzaW5nIFwiZmFzdFwiIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvblxyXG4gICAqL1xuXG5cbiAgaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCkge1xuICAgIC8vIFNhdmUgcHJldmlvdXMgcG9zaXRpb25cbiAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTtcbiAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KHRoaXMucXVhdGVybmlvbik7XG5cbiAgICBpZiAoISh0aGlzLnR5cGUgPT09IEJvZHkuRFlOQU1JQyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB8fCB0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHtcbiAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWNcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2ZWxvID0gdGhpcy52ZWxvY2l0eTtcbiAgICBjb25zdCBhbmd1bGFyVmVsbyA9IHRoaXMuYW5ndWxhclZlbG9jaXR5O1xuICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgZm9yY2UgPSB0aGlzLmZvcmNlO1xuICAgIGNvbnN0IHRvcnF1ZSA9IHRoaXMudG9ycXVlO1xuICAgIGNvbnN0IHF1YXQgPSB0aGlzLnF1YXRlcm5pb247XG4gICAgY29uc3QgaW52TWFzcyA9IHRoaXMuaW52TWFzcztcbiAgICBjb25zdCBpbnZJbmVydGlhID0gdGhpcy5pbnZJbmVydGlhV29ybGQ7XG4gICAgY29uc3QgbGluZWFyRmFjdG9yID0gdGhpcy5saW5lYXJGYWN0b3I7XG4gICAgY29uc3QgaU1kdCA9IGludk1hc3MgKiBkdDtcbiAgICB2ZWxvLnggKz0gZm9yY2UueCAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueDtcbiAgICB2ZWxvLnkgKz0gZm9yY2UueSAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueTtcbiAgICB2ZWxvLnogKz0gZm9yY2UueiAqIGlNZHQgKiBsaW5lYXJGYWN0b3IuejtcbiAgICBjb25zdCBlID0gaW52SW5lcnRpYS5lbGVtZW50cztcbiAgICBjb25zdCBhbmd1bGFyRmFjdG9yID0gdGhpcy5hbmd1bGFyRmFjdG9yO1xuICAgIGNvbnN0IHR4ID0gdG9ycXVlLnggKiBhbmd1bGFyRmFjdG9yLng7XG4gICAgY29uc3QgdHkgPSB0b3JxdWUueSAqIGFuZ3VsYXJGYWN0b3IueTtcbiAgICBjb25zdCB0eiA9IHRvcnF1ZS56ICogYW5ndWxhckZhY3Rvci56O1xuICAgIGFuZ3VsYXJWZWxvLnggKz0gZHQgKiAoZVswXSAqIHR4ICsgZVsxXSAqIHR5ICsgZVsyXSAqIHR6KTtcbiAgICBhbmd1bGFyVmVsby55ICs9IGR0ICogKGVbM10gKiB0eCArIGVbNF0gKiB0eSArIGVbNV0gKiB0eik7XG4gICAgYW5ndWxhclZlbG8ueiArPSBkdCAqIChlWzZdICogdHggKyBlWzddICogdHkgKyBlWzhdICogdHopOyAvLyBVc2UgbmV3IHZlbG9jaXR5ICAtIGxlYXAgZnJvZ1xuXG4gICAgcG9zLnggKz0gdmVsby54ICogZHQ7XG4gICAgcG9zLnkgKz0gdmVsby55ICogZHQ7XG4gICAgcG9zLnogKz0gdmVsby56ICogZHQ7XG4gICAgcXVhdC5pbnRlZ3JhdGUodGhpcy5hbmd1bGFyVmVsb2NpdHksIGR0LCB0aGlzLmFuZ3VsYXJGYWN0b3IsIHF1YXQpO1xuXG4gICAgaWYgKHF1YXROb3JtYWxpemUpIHtcbiAgICAgIGlmIChxdWF0Tm9ybWFsaXplRmFzdCkge1xuICAgICAgICBxdWF0Lm5vcm1hbGl6ZUZhc3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1YXQubm9ybWFsaXplKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOyAvLyBVcGRhdGUgd29ybGQgaW5lcnRpYVxuXG4gICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQoKTtcbiAgfVxuXG59XG4vKipcclxuICogRGlzcGF0Y2hlZCBhZnRlciB0d28gYm9kaWVzIGNvbGxpZGUuIFRoaXMgZXZlbnQgaXMgZGlzcGF0Y2hlZCBvbiBlYWNoXHJcbiAqIG9mIHRoZSB0d28gYm9kaWVzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uXHJcbiAqIEBldmVudCBjb2xsaWRlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keSBUaGUgYm9keSB0aGF0IHdhcyBpbnZvbHZlZCBpbiB0aGUgY29sbGlzaW9uLlxyXG4gKiBAcGFyYW0ge0NvbnRhY3RFcXVhdGlvbn0gY29udGFjdCBUaGUgZGV0YWlscyBvZiB0aGUgY29sbGlzaW9uLlxyXG4gKi9cblxuQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7XG4vKipcclxuICogQSBkeW5hbWljIGJvZHkgaXMgZnVsbHkgc2ltdWxhdGVkLiBDYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgdGhlIHVzZXIsIGJ1dCBub3JtYWxseSB0aGV5IG1vdmUgYWNjb3JkaW5nIHRvIGZvcmNlcy4gQSBkeW5hbWljIGJvZHkgY2FuIGNvbGxpZGUgd2l0aCBhbGwgYm9keSB0eXBlcy4gQSBkeW5hbWljIGJvZHkgYWx3YXlzIGhhcyBmaW5pdGUsIG5vbi16ZXJvIG1hc3MuXHJcbiAqIEBzdGF0aWNcclxuICogQHByb3BlcnR5IERZTkFNSUNcclxuICogQHR5cGUge051bWJlcn1cclxuICovXG5cbkJvZHkuRFlOQU1JQyA9IDE7XG4vKipcclxuICogQSBzdGF0aWMgYm9keSBkb2VzIG5vdCBtb3ZlIGR1cmluZyBzaW11bGF0aW9uIGFuZCBiZWhhdmVzIGFzIGlmIGl0IGhhcyBpbmZpbml0ZSBtYXNzLiBTdGF0aWMgYm9kaWVzIGNhbiBiZSBtb3ZlZCBtYW51YWxseSBieSBzZXR0aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYm9keS4gVGhlIHZlbG9jaXR5IG9mIGEgc3RhdGljIGJvZHkgaXMgYWx3YXlzIHplcm8uIFN0YXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy5cclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgU1RBVElDXHJcbiAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAqL1xuXG5Cb2R5LlNUQVRJQyA9IDI7XG4vKipcclxuICogQSBraW5lbWF0aWMgYm9keSBtb3ZlcyB1bmRlciBzaW11bGF0aW9uIGFjY29yZGluZyB0byBpdHMgdmVsb2NpdHkuIFRoZXkgZG8gbm90IHJlc3BvbmQgdG8gZm9yY2VzLiBUaGV5IGNhbiBiZSBtb3ZlZCBtYW51YWxseSwgYnV0IG5vcm1hbGx5IGEga2luZW1hdGljIGJvZHkgaXMgbW92ZWQgYnkgc2V0dGluZyBpdHMgdmVsb2NpdHkuIEEga2luZW1hdGljIGJvZHkgYmVoYXZlcyBhcyBpZiBpdCBoYXMgaW5maW5pdGUgbWFzcy4gS2luZW1hdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSBLSU5FTUFUSUNcclxuICogQHR5cGUge051bWJlcn1cclxuICovXG5cbkJvZHkuS0lORU1BVElDID0gNDtcbi8qKlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSBBV0FLRVxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKi9cblxuQm9keS5BV0FLRSA9IEJPRFlfU0xFRVBfU1RBVEVTLkFXQUtFO1xuQm9keS5TTEVFUFkgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUFk7XG5Cb2R5LlNMRUVQSU5HID0gQk9EWV9TTEVFUF9TVEFURVMuU0xFRVBJTkc7XG5Cb2R5LmlkQ291bnRlciA9IDA7XG4vKipcclxuICogRGlzcGF0Y2hlZCBhZnRlciBhIHNsZWVwaW5nIGJvZHkgaGFzIHdva2VuIHVwLlxyXG4gKiBAZXZlbnQgd2FrZXVwXHJcbiAqL1xuXG5Cb2R5Lndha2V1cEV2ZW50ID0ge1xuICB0eXBlOiAnd2FrZXVwJ1xufTtcbi8qKlxyXG4gKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZ29uZSBpbiB0byB0aGUgc2xlZXB5IHN0YXRlLlxyXG4gKiBAZXZlbnQgc2xlZXB5XHJcbiAqL1xuXG5Cb2R5LnNsZWVweUV2ZW50ID0ge1xuICB0eXBlOiAnc2xlZXB5J1xufTtcbi8qKlxyXG4gKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZmFsbGVuIGFzbGVlcC5cclxuICogQGV2ZW50IHNsZWVwXHJcbiAqL1xuXG5Cb2R5LnNsZWVwRXZlbnQgPSB7XG4gIHR5cGU6ICdzbGVlcCdcbn07XG5jb25zdCB0bXBWZWMgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wUXVhdCQxID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IGNvbXB1dGVBQUJCX3NoYXBlQUFCQiA9IG5ldyBBQUJCKCk7XG5jb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpO1xuY29uc3QgdWl3X20yID0gbmV3IE1hdDMoKTtcbi8qKlxyXG4gKiBBcHBseSBmb3JjZSB0byBhIHdvcmxkIHBvaW50LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4gQXBwbHlpbmcgZm9yY2UgdGhpcyB3YXkgd2lsbCBhZGQgdG8gQm9keS5mb3JjZSBhbmQgQm9keS50b3JxdWUuXHJcbiAqIEBtZXRob2QgYXBwbHlGb3JjZVxyXG4gKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgYW1vdW50IG9mIGZvcmNlIHRvIGFkZC5cclxuICogQHBhcmFtICB7VmVjM30gcmVsYXRpdmVQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uXHJcbiAqL1xuXG5jb25zdCBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UgPSBuZXcgVmVjMygpO1xuLyoqXHJcbiAqIEFwcGx5IGZvcmNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuXHJcbiAqIEBtZXRob2QgYXBwbHlMb2NhbEZvcmNlXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS5cclxuICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludCBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi5cclxuICovXG5cbmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UgPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBBcHBseSBpbXB1bHNlIHRvIGEgd29ybGQgcG9pbnQuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLiBBbiBpbXB1bHNlIGlzIGEgZm9yY2UgYWRkZWQgdG8gYSBib2R5IGR1cmluZyBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIChpbXB1bHNlID0gZm9yY2UgKiB0aW1lKS4gSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS5cclxuICogQG1ldGhvZCBhcHBseUltcHVsc2VcclxuICogQHBhcmFtICB7VmVjM30gaW1wdWxzZSBUaGUgYW1vdW50IG9mIGltcHVsc2UgdG8gYWRkLlxyXG4gKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi5cclxuICovXG5cbmNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8gPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogQXBwbHkgbG9jYWxseS1kZWZpbmVkIGltcHVsc2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS5cclxuICogQG1ldGhvZCBhcHBseUxvY2FsSW1wdWxzZVxyXG4gKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgZm9yY2UgdmVjdG9yIHRvIGFwcGx5LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGJvZHkgZnJhbWUuXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uXHJcbiAqL1xuXG5jb25zdCBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3dvcmxkSW1wdWxzZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbnNcbiAqIEBjbGFzcyBCcm9hZHBoYXNlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqL1xuY2xhc3MgQnJvYWRwaGFzZSB7XG4gIC8vIFRoZSB3b3JsZCB0byBzZWFyY2ggZm9yIGNvbGxpc2lvbnMgaW4uXG4gIC8vIElmIHNldCB0byB0cnVlLCB0aGUgYnJvYWRwaGFzZSB1c2VzIGJvdW5kaW5nIGJveGVzIGZvciBpbnRlcnNlY3Rpb24gdGVzdCwgZWxzZSBpdCB1c2VzIGJvdW5kaW5nIHNwaGVyZXMuXG4gIC8vIFNldCB0byB0cnVlIGlmIHRoZSBvYmplY3RzIGluIHRoZSB3b3JsZCBtb3ZlZC5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy51c2VCb3VuZGluZ0JveGVzID0gZmFsc2U7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgY29sbGlzaW9uIHBhaXJzIGZyb20gdGhlIHdvcmxkXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQgVGhlIHdvcmxkIHRvIHNlYXJjaCBpblxuICAgKiBAcGFyYW0ge0FycmF5fSBwMSBFbXB0eSBhcnJheSB0byBiZSBmaWxsZWQgd2l0aCBib2R5IG9iamVjdHNcbiAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikge1xuICAgIHRocm93IG5ldyBFcnJvcignY29sbGlzaW9uUGFpcnMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIEJyb2FkUGhhc2UgY2xhc3MhJyk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgYm9keSBwYWlyIG5lZWRzIHRvIGJlIGludGVyc2VjdGlvbiB0ZXN0ZWQgYXQgYWxsLlxuICAgKiBAbWV0aG9kIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICAgKiBAcmV0dXJuIHtib29sfVxuICAgKi9cblxuXG4gIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJvZHlBLCBib2R5Qikge1xuICAgIC8vIENoZWNrIGNvbGxpc2lvbiBmaWx0ZXIgbWFza3NcbiAgICBpZiAoKGJvZHlBLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUIuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHlCLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUEuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIENoZWNrIHR5cGVzXG5cblxuICAgIGlmICgoKGJvZHlBLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUEuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgJiYgKChib2R5Qi50eXBlICYgQm9keS5TVEFUSUMpICE9PSAwIHx8IGJvZHlCLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpKSB7XG4gICAgICAvLyBCb3RoIGJvZGllcyBhcmUgc3RhdGljIG9yIHNsZWVwaW5nLiBTa2lwLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgdm9sdW1lcyBvZiB0d28gYm9kaWVzIGludGVyc2VjdC5cbiAgICogQG1ldGhvZCBpbnRlcnNlY3Rpb25UZXN0XG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczFcbiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMyXG4gICAqL1xuXG5cbiAgaW50ZXJzZWN0aW9uVGVzdChib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgaWYgKHRoaXMudXNlQm91bmRpbmdCb3hlcykge1xuICAgICAgdGhpcy5kb0JvdW5kaW5nQm94QnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKTtcbiAgICB9XG4gIH1cblxuICBkb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgciA9IEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfcjtcbiAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCByKTtcbiAgICBjb25zdCBib3VuZGluZ1JhZGl1c1N1bTIgPSAoYm9keUEuYm91bmRpbmdSYWRpdXMgKyBib2R5Qi5ib3VuZGluZ1JhZGl1cykgKiogMjtcbiAgICBjb25zdCBub3JtMiA9IHIubGVuZ3RoU3F1YXJlZCgpO1xuXG4gICAgaWYgKG5vcm0yIDwgYm91bmRpbmdSYWRpdXNTdW0yKSB7XG4gICAgICBwYWlyczEucHVzaChib2R5QSk7XG4gICAgICBwYWlyczIucHVzaChib2R5Qik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLlxuICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczFcbiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyXG4gICAqL1xuXG5cbiAgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmIChib2R5QS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgIGJvZHlBLmNvbXB1dGVBQUJCKCk7XG4gICAgfVxuXG4gICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgYm9keUIuY29tcHV0ZUFBQkIoKTtcbiAgICB9IC8vIENoZWNrIEFBQkIgLyBBQUJCXG5cblxuICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7XG4gICAgICBwYWlyczEucHVzaChib2R5QSk7XG4gICAgICBwYWlyczIucHVzaChib2R5Qik7XG4gICAgfVxuICB9XG5cbiAgbWFrZVBhaXJzVW5pcXVlKHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgdCA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXA7XG4gICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTtcbiAgICBjb25zdCBwMiA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyO1xuICAgIGNvbnN0IE4gPSBwYWlyczEubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgcDFbaV0gPSBwYWlyczFbaV07XG4gICAgICBwMltpXSA9IHBhaXJzMltpXTtcbiAgICB9XG5cbiAgICBwYWlyczEubGVuZ3RoID0gMDtcbiAgICBwYWlyczIubGVuZ3RoID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGlkMSA9IHAxW2ldLmlkO1xuICAgICAgY29uc3QgaWQyID0gcDJbaV0uaWQ7XG4gICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyBcIixcIiArIGlkMiA6IGlkMiArIFwiLFwiICsgaWQxO1xuICAgICAgdFtrZXldID0gaTtcbiAgICAgIHQua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHQua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gdC5rZXlzLnBvcCgpO1xuICAgICAgY29uc3QgcGFpckluZGV4ID0gdFtrZXldO1xuICAgICAgcGFpcnMxLnB1c2gocDFbcGFpckluZGV4XSk7XG4gICAgICBwYWlyczIucHVzaChwMltwYWlySW5kZXhdKTtcbiAgICAgIGRlbGV0ZSB0W2tleV07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUbyBiZSBpbXBsZW1lbnRlZCBieSBzdWJjYXNzZXNcbiAgICogQG1ldGhvZCBzZXRXb3JsZFxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxuICAgKi9cblxuXG4gIHNldFdvcmxkKHdvcmxkKSB7fVxuICAvKipcbiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gdGhlIEFBQkIuXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cbiAgICogQHJldHVybiB7YXJyYXl9XG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQpIHtcbiAgICBjb25zb2xlLndhcm4oJy5hYWJiUXVlcnkgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgQnJvYWRwaGFzZSBzdWJjbGFzcy4nKTtcbiAgICByZXR1cm4gW107XG4gIH1cblxufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuXG4gKiBAbWV0aG9kIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczEgYm9keUEgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMiBib2R5QiBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvblxuICovXG5cbmNvbnN0IC8vIFRlbXAgb2JqZWN0c1xuQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTtcbi8qKlxuICogUmVtb3ZlcyBkdXBsaWNhdGUgcGFpcnMgZnJvbSB0aGUgcGFpciBhcnJheXMuXG4gKiBAbWV0aG9kIG1ha2VQYWlyc1VuaXF1ZVxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMxXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcbiAqL1xuXG5jb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wID0ge1xuICBrZXlzOiBbXVxufTtcbmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxID0gW107XG5jb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMiA9IFtdO1xuXG5Ccm9hZHBoYXNlLmJvdW5kaW5nU3BoZXJlQ2hlY2sgPSAoYm9keUEsIGJvZHlCKSA9PiB7XG4gIGNvbnN0IGRpc3QgPSBuZXcgVmVjMygpOyAvLyBic2NfZGlzdDtcblxuICBib2R5QS5wb3NpdGlvbi52c3ViKGJvZHlCLnBvc2l0aW9uLCBkaXN0KTtcbiAgY29uc3Qgc2EgPSBib2R5QS5zaGFwZXNbMF07XG4gIGNvbnN0IHNiID0gYm9keUIuc2hhcGVzWzBdO1xuICByZXR1cm4gTWF0aC5wb3coc2EuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzYi5ib3VuZGluZ1NwaGVyZVJhZGl1cywgMikgPiBkaXN0Lmxlbmd0aFNxdWFyZWQoKTtcbn07XG5cbi8qKlxyXG4gKiBBeGlzIGFsaWduZWQgdW5pZm9ybSBncmlkIGJyb2FkcGhhc2UuXHJcbiAqIEBjbGFzcyBHcmlkQnJvYWRwaGFzZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxyXG4gKiBAdG9kbyBOZWVkcyBzdXBwb3J0IGZvciBtb3JlIHRoYW4ganVzdCBwbGFuZXMgYW5kIHNwaGVyZXMuXHJcbiAqIEBwYXJhbSB7VmVjM30gYWFiYk1pblxyXG4gKiBAcGFyYW0ge1ZlYzN9IGFhYmJNYXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG54IE51bWJlciBvZiBib3hlcyBhbG9uZyB4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBueSBOdW1iZXIgb2YgYm94ZXMgYWxvbmcgeVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbnogTnVtYmVyIG9mIGJveGVzIGFsb25nIHpcclxuICovXG5jbGFzcyBHcmlkQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2Uge1xuICBjb25zdHJ1Y3RvcihhYWJiTWluID0gbmV3IFZlYzMoMTAwLCAxMDAsIDEwMCksIGFhYmJNYXggPSBuZXcgVmVjMygtMTAwLCAtMTAwLCAtMTAwKSwgbnggPSAxMCwgbnkgPSAxMCwgbnogPSAxMCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5ueCA9IG54O1xuICAgIHRoaXMubnkgPSBueTtcbiAgICB0aGlzLm56ID0gbno7XG4gICAgdGhpcy5hYWJiTWluID0gYWFiYk1pbjtcbiAgICB0aGlzLmFhYmJNYXggPSBhYWJiTWF4O1xuICAgIGNvbnN0IG5iaW5zID0gdGhpcy5ueCAqIHRoaXMubnkgKiB0aGlzLm56O1xuXG4gICAgaWYgKG5iaW5zIDw9IDApIHtcbiAgICAgIHRocm93IFwiR3JpZEJyb2FkcGhhc2U6IEVhY2ggZGltZW5zaW9uJ3MgbiBtdXN0IGJlID4wXCI7XG4gICAgfVxuXG4gICAgdGhpcy5iaW5zID0gW107XG4gICAgdGhpcy5iaW5MZW5ndGhzID0gW107IC8vUmF0aGVyIHRoYW4gY29udGludWFsbHkgcmVzaXppbmcgYXJyYXlzICh0aHJhc2hpbmcgdGhlIG1lbW9yeSksIGp1c3QgcmVjb3JkIGxlbmd0aCBhbmQgYWxsb3cgdGhlbSB0byBncm93XG5cbiAgICB0aGlzLmJpbnMubGVuZ3RoID0gbmJpbnM7XG4gICAgdGhpcy5iaW5MZW5ndGhzLmxlbmd0aCA9IG5iaW5zO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYmluczsgaSsrKSB7XG4gICAgICB0aGlzLmJpbnNbaV0gPSBbXTtcbiAgICAgIHRoaXMuYmluTGVuZ3Roc1tpXSA9IDA7XG4gICAgfVxuICB9XG5cbiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgTiA9IHdvcmxkLm51bU9iamVjdHMoKTtcbiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7XG4gICAgY29uc3QgbWF4ID0gdGhpcy5hYWJiTWF4O1xuICAgIGNvbnN0IG1pbiA9IHRoaXMuYWFiYk1pbjtcbiAgICBjb25zdCBueCA9IHRoaXMubng7XG4gICAgY29uc3QgbnkgPSB0aGlzLm55O1xuICAgIGNvbnN0IG56ID0gdGhpcy5uejtcbiAgICBjb25zdCB4c3RlcCA9IG55ICogbno7XG4gICAgY29uc3QgeXN0ZXAgPSBuejtcbiAgICBjb25zdCB6c3RlcCA9IDE7XG4gICAgY29uc3QgeG1heCA9IG1heC54O1xuICAgIGNvbnN0IHltYXggPSBtYXgueTtcbiAgICBjb25zdCB6bWF4ID0gbWF4Lno7XG4gICAgY29uc3QgeG1pbiA9IG1pbi54O1xuICAgIGNvbnN0IHltaW4gPSBtaW4ueTtcbiAgICBjb25zdCB6bWluID0gbWluLno7XG4gICAgY29uc3QgeG11bHQgPSBueCAvICh4bWF4IC0geG1pbik7XG4gICAgY29uc3QgeW11bHQgPSBueSAvICh5bWF4IC0geW1pbik7XG4gICAgY29uc3Qgem11bHQgPSBueiAvICh6bWF4IC0gem1pbik7XG4gICAgY29uc3QgYmluc2l6ZVggPSAoeG1heCAtIHhtaW4pIC8gbng7XG4gICAgY29uc3QgYmluc2l6ZVkgPSAoeW1heCAtIHltaW4pIC8gbnk7XG4gICAgY29uc3QgYmluc2l6ZVogPSAoem1heCAtIHptaW4pIC8gbno7XG4gICAgY29uc3QgYmluUmFkaXVzID0gTWF0aC5zcXJ0KGJpbnNpemVYICogYmluc2l6ZVggKyBiaW5zaXplWSAqIGJpbnNpemVZICsgYmluc2l6ZVogKiBiaW5zaXplWikgKiAwLjU7XG4gICAgY29uc3QgdHlwZXMgPSBTaGFwZS50eXBlcztcbiAgICBjb25zdCBTUEhFUkUgPSB0eXBlcy5TUEhFUkU7XG4gICAgY29uc3QgUExBTkUgPSB0eXBlcy5QTEFORTtcbiAgICBjb25zdCBCT1ggPSB0eXBlcy5CT1g7XG4gICAgY29uc3QgQ09NUE9VTkQgPSB0eXBlcy5DT01QT1VORDtcbiAgICBjb25zdCBDT05WRVhQT0xZSEVEUk9OID0gdHlwZXMuQ09OVkVYUE9MWUhFRFJPTjtcbiAgICBjb25zdCBiaW5zID0gdGhpcy5iaW5zO1xuICAgIGNvbnN0IGJpbkxlbmd0aHMgPSB0aGlzLmJpbkxlbmd0aHM7XG4gICAgY29uc3QgTmJpbnMgPSB0aGlzLmJpbnMubGVuZ3RoOyAvLyBSZXNldCBiaW5zXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJpbnM7IGkrKykge1xuICAgICAgYmluTGVuZ3Roc1tpXSA9IDA7XG4gICAgfVxuXG4gICAgY29uc3QgY2VpbCA9IE1hdGguY2VpbDtcblxuICAgIGZ1bmN0aW9uIGFkZEJveFRvQmlucyh4MCwgeTAsIHowLCB4MSwgeTEsIHoxLCBiaSkge1xuICAgICAgbGV0IHhvZmYwID0gKHgwIC0geG1pbikgKiB4bXVsdCB8IDA7XG4gICAgICBsZXQgeW9mZjAgPSAoeTAgLSB5bWluKSAqIHltdWx0IHwgMDtcbiAgICAgIGxldCB6b2ZmMCA9ICh6MCAtIHptaW4pICogem11bHQgfCAwO1xuICAgICAgbGV0IHhvZmYxID0gY2VpbCgoeDEgLSB4bWluKSAqIHhtdWx0KTtcbiAgICAgIGxldCB5b2ZmMSA9IGNlaWwoKHkxIC0geW1pbikgKiB5bXVsdCk7XG4gICAgICBsZXQgem9mZjEgPSBjZWlsKCh6MSAtIHptaW4pICogem11bHQpO1xuXG4gICAgICBpZiAoeG9mZjAgPCAwKSB7XG4gICAgICAgIHhvZmYwID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeG9mZjAgPj0gbngpIHtcbiAgICAgICAgeG9mZjAgPSBueCAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh5b2ZmMCA8IDApIHtcbiAgICAgICAgeW9mZjAgPSAwO1xuICAgICAgfSBlbHNlIGlmICh5b2ZmMCA+PSBueSkge1xuICAgICAgICB5b2ZmMCA9IG55IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHpvZmYwIDwgMCkge1xuICAgICAgICB6b2ZmMCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHpvZmYwID49IG56KSB7XG4gICAgICAgIHpvZmYwID0gbnogLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeG9mZjEgPCAwKSB7XG4gICAgICAgIHhvZmYxID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeG9mZjEgPj0gbngpIHtcbiAgICAgICAgeG9mZjEgPSBueCAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh5b2ZmMSA8IDApIHtcbiAgICAgICAgeW9mZjEgPSAwO1xuICAgICAgfSBlbHNlIGlmICh5b2ZmMSA+PSBueSkge1xuICAgICAgICB5b2ZmMSA9IG55IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHpvZmYxIDwgMCkge1xuICAgICAgICB6b2ZmMSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHpvZmYxID49IG56KSB7XG4gICAgICAgIHpvZmYxID0gbnogLSAxO1xuICAgICAgfVxuXG4gICAgICB4b2ZmMCAqPSB4c3RlcDtcbiAgICAgIHlvZmYwICo9IHlzdGVwO1xuICAgICAgem9mZjAgKj0genN0ZXA7XG4gICAgICB4b2ZmMSAqPSB4c3RlcDtcbiAgICAgIHlvZmYxICo9IHlzdGVwO1xuICAgICAgem9mZjEgKj0genN0ZXA7XG5cbiAgICAgIGZvciAobGV0IHhvZmYgPSB4b2ZmMDsgeG9mZiA8PSB4b2ZmMTsgeG9mZiArPSB4c3RlcCkge1xuICAgICAgICBmb3IgKGxldCB5b2ZmID0geW9mZjA7IHlvZmYgPD0geW9mZjE7IHlvZmYgKz0geXN0ZXApIHtcbiAgICAgICAgICBmb3IgKGxldCB6b2ZmID0gem9mZjA7IHpvZmYgPD0gem9mZjE7IHpvZmYgKz0genN0ZXApIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHhvZmYgKyB5b2ZmICsgem9mZjtcbiAgICAgICAgICAgIGJpbnNbaWR4XVtiaW5MZW5ndGhzW2lkeF0rK10gPSBiaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIFB1dCBhbGwgYm9kaWVzIGludG8gdGhlIGJpbnNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG4gICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1swXTtcblxuICAgICAgc3dpdGNoIChzaS50eXBlKSB7XG4gICAgICAgIGNhc2UgU1BIRVJFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2k7IC8vIFB1dCBpbiBiaW5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIG92ZXJsYXAgd2l0aCBvdGhlciBiaW5zXG5cbiAgICAgICAgICAgIGNvbnN0IHggPSBiaS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgY29uc3QgeSA9IGJpLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBjb25zdCB6ID0gYmkucG9zaXRpb24uejtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBzaGFwZS5yYWRpdXM7XG4gICAgICAgICAgICBhZGRCb3hUb0JpbnMoeCAtIHIsIHkgLSByLCB6IC0gciwgeCArIHIsIHkgKyByLCB6ICsgciwgYmkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgUExBTkU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBzaTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgc2hhcGUuY29tcHV0ZVdvcmxkTm9ybWFsKGJpLnF1YXRlcm5pb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwbGFuZU5vcm1hbCA9IHNoYXBlLndvcmxkTm9ybWFsOyAvL1JlbGF0aXZlIHBvc2l0aW9uIGZyb20gb3JpZ2luIG9mIHBsYW5lIG9iamVjdCB0byB0aGUgZmlyc3QgYmluXG4gICAgICAgICAgICAvL0luY3JlbWVudGVkIGFzIHdlIGl0ZXJhdGUgdGhyb3VnaCB0aGUgYmluc1xuXG4gICAgICAgICAgICBjb25zdCB4cmVzZXQgPSB4bWluICsgYmluc2l6ZVggKiAwLjUgLSBiaS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgY29uc3QgeXJlc2V0ID0geW1pbiArIGJpbnNpemVZICogMC41IC0gYmkucG9zaXRpb24ueTtcbiAgICAgICAgICAgIGNvbnN0IHpyZXNldCA9IHptaW4gKyBiaW5zaXplWiAqIDAuNSAtIGJpLnBvc2l0aW9uLno7XG4gICAgICAgICAgICBjb25zdCBkID0gR3JpZEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfZDtcbiAgICAgICAgICAgIGQuc2V0KHhyZXNldCwgeXJlc2V0LCB6cmVzZXQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB4aSA9IDAsIHhvZmYgPSAwOyB4aSAhPT0gbng7IHhpKyssIHhvZmYgKz0geHN0ZXAsIGQueSA9IHlyZXNldCwgZC54ICs9IGJpbnNpemVYKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IHlpID0gMCwgeW9mZiA9IDA7IHlpICE9PSBueTsgeWkrKywgeW9mZiArPSB5c3RlcCwgZC56ID0genJlc2V0LCBkLnkgKz0gYmluc2l6ZVkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB6aSA9IDAsIHpvZmYgPSAwOyB6aSAhPT0gbno7IHppKyssIHpvZmYgKz0genN0ZXAsIGQueiArPSBiaW5zaXplWikge1xuICAgICAgICAgICAgICAgICAgaWYgKGQuZG90KHBsYW5lTm9ybWFsKSA8IGJpblJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSB4b2ZmICsgeW9mZiArIHpvZmY7XG4gICAgICAgICAgICAgICAgICAgIGJpbnNbaWR4XVtiaW5MZW5ndGhzW2lkeF0rK10gPSBiaTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJpLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgICBiaS5jb21wdXRlQUFCQigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRCb3hUb0JpbnMoYmkuYWFiYi5sb3dlckJvdW5kLngsIGJpLmFhYmIubG93ZXJCb3VuZC55LCBiaS5hYWJiLmxvd2VyQm91bmQueiwgYmkuYWFiYi51cHBlckJvdW5kLngsIGJpLmFhYmIudXBwZXJCb3VuZC55LCBiaS5hYWJiLnVwcGVyQm91bmQueiwgYmkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2hlY2sgZWFjaCBiaW5cblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5iaW5zOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpbkxlbmd0aCA9IGJpbkxlbmd0aHNbaV07IC8vU2tpcCBiaW5zIHdpdGggbm8gcG90ZW50aWFsIGNvbGxpc2lvbnNcblxuICAgICAgaWYgKGJpbkxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgYmluID0gYmluc1tpXTsgLy8gRG8gTl4yIGJyb2FkcGhhc2UgaW5zaWRlXG5cbiAgICAgICAgZm9yIChsZXQgeGkgPSAwOyB4aSAhPT0gYmluTGVuZ3RoOyB4aSsrKSB7XG4gICAgICAgICAgY29uc3QgYmkgPSBiaW5beGldO1xuXG4gICAgICAgICAgZm9yIChsZXQgeWkgPSAwOyB5aSAhPT0geGk7IHlpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJqID0gYmluW3lpXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkge1xuICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwYWlyczEsIHBhaXJzMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvL1x0Zm9yIChsZXQgemkgPSAwLCB6b2ZmPTA7IHppIDwgbno7IHppKyssIHpvZmYrPSB6c3RlcCkge1xuICAgIC8vXHRcdGNvbnNvbGUubG9nKFwibGF5ZXIgXCIremkpO1xuICAgIC8vXHRcdGZvciAobGV0IHlpID0gMCwgeW9mZj0wOyB5aSA8IG55OyB5aSsrLCB5b2ZmICs9IHlzdGVwKSB7XG4gICAgLy9cdFx0XHRjb25zdCByb3cgPSAnJztcbiAgICAvL1x0XHRcdGZvciAobGV0IHhpID0gMCwgeG9mZj0wOyB4aSA8IG54OyB4aSsrLCB4b2ZmICs9IHhzdGVwKSB7XG4gICAgLy9cdFx0XHRcdGNvbnN0IGlkeCA9IHhvZmYgKyB5b2ZmICsgem9mZjtcbiAgICAvL1x0XHRcdFx0cm93ICs9ICcgJyArIGJpbkxlbmd0aHNbaWR4XTtcbiAgICAvL1x0XHRcdH1cbiAgICAvL1x0XHRcdGNvbnNvbGUubG9nKHJvdyk7XG4gICAgLy9cdFx0fVxuICAgIC8vXHR9XG5cblxuICAgIHRoaXMubWFrZVBhaXJzVW5pcXVlKHBhaXJzMSwgcGFpcnMyKTtcbiAgfVxuXG59XG4vKipcclxuICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkXHJcbiAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcclxuICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMxXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMlxyXG4gKi9cblxuY29uc3QgR3JpZEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfZCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBOYWl2ZSBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9uLCB1c2VkIGluIGxhY2sgb2YgYmV0dGVyIG9uZXMuXHJcbiAqIEBjbGFzcyBOYWl2ZUJyb2FkcGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgbmFpdmUgYnJvYWRwaGFzZSBsb29rcyBhdCBhbGwgcG9zc2libGUgcGFpcnMgd2l0aG91dCByZXN0cmljdGlvbiwgdGhlcmVmb3JlIGl0IGhhcyBjb21wbGV4aXR5IE5eMiAod2hpY2ggaXMgYmFkKVxyXG4gKiBAZXh0ZW5kcyBCcm9hZHBoYXNlXHJcbiAqL1xuY2xhc3MgTmFpdmVCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkXHJcbiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlyc1xyXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMxXHJcbiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcGFpcnMxLCBwYWlyczIpIHtcbiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7XG4gICAgY29uc3QgbiA9IGJvZGllcy5sZW5ndGg7XG4gICAgbGV0IGJpO1xuICAgIGxldCBiajsgLy8gTmFpdmUgTl4yIGZ0dyFcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBuOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBpOyBqKyspIHtcbiAgICAgICAgYmkgPSBib2RpZXNbaV07XG4gICAgICAgIGJqID0gYm9kaWVzW2pdO1xuXG4gICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwYWlyczEsIHBhaXJzMik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuXHJcbiAgICogQG1ldGhvZCBhYWJiUXVlcnlcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uXHJcbiAgICogQHJldHVybiB7YXJyYXl9XHJcbiAgICovXG5cblxuICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGIgPSB3b3JsZC5ib2RpZXNbaV07XG5cbiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgICBiLmNvbXB1dGVBQUJCKCk7XG4gICAgICB9IC8vIFVnbHkgaGFjayB1bnRpbCBCb2R5IGdldHMgYWFiYlxuXG5cbiAgICAgIGlmIChiLmFhYmIub3ZlcmxhcHMoYWFiYikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goYik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBTdG9yYWdlIGZvciBSYXkgY2FzdGluZyBkYXRhLlxyXG4gKiBAY2xhc3MgUmF5Y2FzdFJlc3VsdFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBSYXljYXN0UmVzdWx0IHtcbiAgLy8gVGhlIGluZGV4IG9mIHRoZSBoaXQgdHJpYW5nbGUsIGlmIHRoZSBoaXQgc2hhcGUgd2FzIGEgdHJpbWVzaC5cbiAgLy8gRGlzdGFuY2UgdG8gdGhlIGhpdC4gV2lsbCBiZSBzZXQgdG8gLTEgaWYgdGhlcmUgd2FzIG5vIGhpdC5cbiAgLy8gSWYgdGhlIHJheSBzaG91bGQgc3RvcCB0cmF2ZXJzaW5nIHRoZSBib2RpZXMuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmF5RnJvbVdvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnJheVRvV29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5oYXNIaXQgPSBmYWxzZTtcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmJvZHkgPSBudWxsO1xuICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7XG4gICAgdGhpcy5kaXN0YW5jZSA9IC0xO1xuICAgIHRoaXMuc2hvdWxkU3RvcCA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlc2V0IGFsbCByZXN1bHQgZGF0YS5cclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnJheUZyb21Xb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5yYXlUb1dvcmxkLnNldFplcm8oKTtcbiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLnNldFplcm8oKTtcbiAgICB0aGlzLmhpdFBvaW50V29ybGQuc2V0WmVybygpO1xuICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgICB0aGlzLmhpdEZhY2VJbmRleCA9IC0xO1xuICAgIHRoaXMuZGlzdGFuY2UgPSAtMTtcbiAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGFib3J0XHJcbiAgICovXG5cblxuICBhYm9ydCgpIHtcbiAgICB0aGlzLnNob3VsZFN0b3AgPSB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0XHJcbiAgICogQHBhcmFtIHtWZWMzfSByYXlGcm9tV29ybGRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHJheVRvV29ybGRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IGhpdE5vcm1hbFdvcmxkXHJcbiAgICogQHBhcmFtIHtWZWMzfSBoaXRQb2ludFdvcmxkXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlcclxuICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2VcclxuICAgKi9cblxuXG4gIHNldChyYXlGcm9tV29ybGQsIHJheVRvV29ybGQsIGhpdE5vcm1hbFdvcmxkLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpIHtcbiAgICB0aGlzLnJheUZyb21Xb3JsZC5jb3B5KHJheUZyb21Xb3JsZCk7XG4gICAgdGhpcy5yYXlUb1dvcmxkLmNvcHkocmF5VG9Xb3JsZCk7XG4gICAgdGhpcy5oaXROb3JtYWxXb3JsZC5jb3B5KGhpdE5vcm1hbFdvcmxkKTtcbiAgICB0aGlzLmhpdFBvaW50V29ybGQuY29weShoaXRQb2ludFdvcmxkKTtcbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gIH1cblxufVxuXG5jb25zdCBSQVlfTU9ERVMgPSB7XG4gIENMT1NFU1Q6IDEsXG4gIEFOWTogMixcbiAgQUxMOiA0XG59O1xuXG4vKipcclxuICogQSBsaW5lIGluIDNEIHNwYWNlIHRoYXQgaW50ZXJzZWN0cyBib2RpZXMgYW5kIHJldHVybiBwb2ludHMuXHJcbiAqIEBjbGFzcyBSYXlcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7VmVjM30gZnJvbVxyXG4gKiBAcGFyYW0ge1ZlYzN9IHRvXHJcbiAqL1xuY2xhc3MgUmF5IHtcbiAgLy8gVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgUmF5IHRvIHRha2UgLmNvbGxpc2lvblJlc3BvbnNlIGZsYWdzIGludG8gYWNjb3VudCBvbiBib2RpZXMgYW5kIHNoYXBlcy5cbiAgLy8gSWYgc2V0IHRvIHRydWUsIHRoZSByYXkgc2tpcHMgYW55IGhpdHMgd2l0aCBub3JtYWwuZG90KHJheURpcmVjdGlvbikgPCAwLlxuICAvLyBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSBSYXkuQU5ZLCBSYXkuQUxMIG9yIFJheS5DTE9TRVNULlxuICAvLyBDdXJyZW50IHJlc3VsdCBvYmplY3QuXG4gIC8vIFdpbGwgYmUgc2V0IHRvIHRydWUgZHVyaW5nIGludGVyc2VjdFdvcmxkKCkgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcuXG4gIC8vIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLlxuICBjb25zdHJ1Y3Rvcihmcm9tID0gbmV3IFZlYzMoKSwgdG8gPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5mcm9tID0gZnJvbS5jbG9uZSgpO1xuICAgIHRoaXMudG8gPSB0by5jbG9uZSgpO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnByZWNpc2lvbiA9IDAuMDAwMTtcbiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0cnVlO1xuICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9IGZhbHNlO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IC0xO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSAtMTtcbiAgICB0aGlzLm1vZGUgPSBSYXkuQU5ZO1xuICAgIHRoaXMucmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuXG4gICAgdGhpcy5jYWxsYmFjayA9IHJlc3VsdCA9PiB7fTtcbiAgfVxuICAvKipcclxuICAgKiBEbyBpdGVyc2VjdGlvbiBhZ2FpbnN0IGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIFdvcmxkLlxyXG4gICAqIEBtZXRob2QgaW50ZXJzZWN0V29ybGRcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLCBvdGhlcndpc2UgZmFsc2UuXHJcbiAgICovXG5cblxuICBpbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucykge1xuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCBSYXkuQU5ZO1xuICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSAhIW9wdGlvbnMuc2tpcEJhY2tmYWNlcztcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7XG4gICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHlwZW9mIG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuXG4gICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgdGhpcy5mcm9tLmNvcHkob3B0aW9ucy5mcm9tKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgdGhpcy50by5jb3B5KG9wdGlvbnMudG8pO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrIHx8ICgoKSA9PiB7fSk7XG5cbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuICAgIHRoaXMucmVzdWx0LnJlc2V0KCk7XG4gICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB0aGlzLmdldEFBQkIodG1wQUFCQik7XG4gICAgdG1wQXJyYXkubGVuZ3RoID0gMDtcbiAgICB3b3JsZC5icm9hZHBoYXNlLmFhYmJRdWVyeSh3b3JsZCwgdG1wQUFCQiwgdG1wQXJyYXkpO1xuICAgIHRoaXMuaW50ZXJzZWN0Qm9kaWVzKHRtcEFycmF5KTtcbiAgICByZXR1cm4gdGhpcy5oYXNIaXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2hvb3QgYSByYXkgYXQgYSBib2R5LCBnZXQgYmFjayBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGl0LlxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keVxyXG4gICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZCAtIHNldCB0aGUgcmVzdWx0IHByb3BlcnR5IG9mIHRoZSBSYXkgaW5zdGVhZC5cclxuICAgKi9cblxuXG4gIGludGVyc2VjdEJvZHkoYm9keSwgcmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7XG5cbiAgICBpZiAoY2hlY2tDb2xsaXNpb25SZXNwb25zZSAmJiAhYm9keS5jb2xsaXNpb25SZXNwb25zZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgodGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeGkgPSBpbnRlcnNlY3RCb2R5X3hpO1xuICAgIGNvbnN0IHFpID0gaW50ZXJzZWN0Qm9keV9xaTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gYm9keS5zaGFwZXMubGVuZ3RoOyBpIDwgTjsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZSA9IGJvZHkuc2hhcGVzW2ldO1xuXG4gICAgICBpZiAoY2hlY2tDb2xsaXNpb25SZXNwb25zZSAmJiAhc2hhcGUuY29sbGlzaW9uUmVzcG9uc2UpIHtcbiAgICAgICAgY29udGludWU7IC8vIFNraXBcbiAgICAgIH1cblxuICAgICAgYm9keS5xdWF0ZXJuaW9uLm11bHQoYm9keS5zaGFwZU9yaWVudGF0aW9uc1tpXSwgcWkpO1xuICAgICAgYm9keS5xdWF0ZXJuaW9uLnZtdWx0KGJvZHkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7XG4gICAgICB4aS52YWRkKGJvZHkucG9zaXRpb24sIHhpKTtcbiAgICAgIHRoaXMuaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHFpLCB4aSwgYm9keSk7XG5cbiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGludGVyc2VjdEJvZGllc1xyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuXHJcbiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkXHJcbiAgICovXG5cblxuICBpbnRlcnNlY3RCb2RpZXMoYm9kaWVzLCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBib2RpZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVyc2VjdEJvZHkoYm9kaWVzW2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgZGlyZWN0aW9uIHZlY3Rvci5cclxuICAgKi9cblxuXG4gIHVwZGF0ZURpcmVjdGlvbigpIHtcbiAgICB0aGlzLnRvLnZzdWIodGhpcy5mcm9tLCB0aGlzLmRpcmVjdGlvbik7XG4gICAgdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7XG4gIH1cblxuICBpbnRlcnNlY3RTaGFwZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHkpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOyAvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZVxuXG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTtcblxuICAgIGlmIChkaXN0YW5jZSA+IHNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW50ZXJzZWN0TWV0aG9kID0gdGhpc1tzaGFwZS50eXBlXTtcblxuICAgIGlmIChpbnRlcnNlY3RNZXRob2QpIHtcbiAgICAgIGludGVyc2VjdE1ldGhvZC5jYWxsKHRoaXMsIHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgc2hhcGUpO1xuICAgIH1cbiAgfVxuXG4gIF9pbnRlcnNlY3RCb3goYm94LCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcnNlY3RDb252ZXgoYm94LmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpO1xuICB9XG5cbiAgX2ludGVyc2VjdFBsYW5lKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkge1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uOyAvLyBHZXQgcGxhbmUgbm9ybWFsXG5cbiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IG5ldyBWZWMzKDAsIDAsIDEpO1xuICAgIHF1YXQudm11bHQod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsKTtcbiAgICBjb25zdCBsZW4gPSBuZXcgVmVjMygpO1xuICAgIGZyb20udnN1Yihwb3NpdGlvbiwgbGVuKTtcbiAgICBjb25zdCBwbGFuZVRvRnJvbSA9IGxlbi5kb3Qod29ybGROb3JtYWwpO1xuICAgIHRvLnZzdWIocG9zaXRpb24sIGxlbik7XG4gICAgY29uc3QgcGxhbmVUb1RvID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7XG5cbiAgICBpZiAocGxhbmVUb0Zyb20gKiBwbGFuZVRvVG8gPiAwKSB7XG4gICAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIGFyZSBvbiB0aGUgc2FtZSBzaWRlIG9mIHRoZSBwbGFuZS4uLiBiYWlsIG91dFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmcm9tLmRpc3RhbmNlVG8odG8pIDwgcGxhbmVUb0Zyb20pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuX2RvdF9kaXIgPSB3b3JsZE5vcm1hbC5kb3QoZGlyZWN0aW9uKTtcblxuICAgIGlmIChNYXRoLmFicyhuX2RvdF9kaXIpIDwgdGhpcy5wcmVjaXNpb24pIHtcbiAgICAgIC8vIE5vIGludGVyc2VjdGlvblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBsYW5lUG9pbnRUb0Zyb20gPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGRpcl9zY2FsZWRfd2l0aF90ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBoaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTtcbiAgICBmcm9tLnZzdWIocG9zaXRpb24sIHBsYW5lUG9pbnRUb0Zyb20pO1xuICAgIGNvbnN0IHQgPSAtd29ybGROb3JtYWwuZG90KHBsYW5lUG9pbnRUb0Zyb20pIC8gbl9kb3RfZGlyO1xuICAgIGRpcmVjdGlvbi5zY2FsZSh0LCBkaXJfc2NhbGVkX3dpdGhfdCk7XG4gICAgZnJvbS52YWRkKGRpcl9zY2FsZWRfd2l0aF90LCBoaXRQb2ludFdvcmxkKTtcbiAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgd29ybGQgQUFCQiBvZiB0aGUgcmF5LlxyXG4gICAqL1xuXG5cbiAgZ2V0QUFCQihhYWJiKSB7XG4gICAgY29uc3Qge1xuICAgICAgbG93ZXJCb3VuZCxcbiAgICAgIHVwcGVyQm91bmRcbiAgICB9ID0gYWFiYjtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBsb3dlckJvdW5kLnggPSBNYXRoLm1pbih0by54LCBmcm9tLngpO1xuICAgIGxvd2VyQm91bmQueSA9IE1hdGgubWluKHRvLnksIGZyb20ueSk7XG4gICAgbG93ZXJCb3VuZC56ID0gTWF0aC5taW4odG8ueiwgZnJvbS56KTtcbiAgICB1cHBlckJvdW5kLnggPSBNYXRoLm1heCh0by54LCBmcm9tLngpO1xuICAgIHVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRvLnksIGZyb20ueSk7XG4gICAgdXBwZXJCb3VuZC56ID0gTWF0aC5tYXgodG8ueiwgZnJvbS56KTtcbiAgfVxuXG4gIF9pbnRlcnNlY3RIZWlnaHRmaWVsZChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBkYXRhID0gc2hhcGUuZGF0YTtcbiAgICBjb25zdCB3ID0gc2hhcGUuZWxlbWVudFNpemU7IC8vIENvbnZlcnQgdGhlIHJheSB0byBsb2NhbCBoZWlnaHRmaWVsZCBjb29yZGluYXRlc1xuXG4gICAgY29uc3QgbG9jYWxSYXkgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheTsgLy9uZXcgUmF5KHRoaXMuZnJvbSwgdGhpcy50byk7XG5cbiAgICBsb2NhbFJheS5mcm9tLmNvcHkodGhpcy5mcm9tKTtcbiAgICBsb2NhbFJheS50by5jb3B5KHRoaXMudG8pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgbG9jYWxSYXkuZnJvbSwgbG9jYWxSYXkuZnJvbSk7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS50bywgbG9jYWxSYXkudG8pO1xuICAgIGxvY2FsUmF5LnVwZGF0ZURpcmVjdGlvbigpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGNvbnN0IGluZGV4ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXg7XG4gICAgbGV0IGlNaW5YO1xuICAgIGxldCBpTWluWTtcbiAgICBsZXQgaU1heFg7XG4gICAgbGV0IGlNYXhZOyAvLyBTZXQgdG8gbWF4XG5cbiAgICBpTWluWCA9IGlNaW5ZID0gMDtcbiAgICBpTWF4WCA9IGlNYXhZID0gc2hhcGUuZGF0YS5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGFhYmIgPSBuZXcgQUFCQigpO1xuICAgIGxvY2FsUmF5LmdldEFBQkIoYWFiYik7XG4gICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueSwgaW5kZXgsIHRydWUpO1xuICAgIGlNaW5YID0gTWF0aC5tYXgoaU1pblgsIGluZGV4WzBdKTtcbiAgICBpTWluWSA9IE1hdGgubWF4KGlNaW5ZLCBpbmRleFsxXSk7XG4gICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueSwgaW5kZXgsIHRydWUpO1xuICAgIGlNYXhYID0gTWF0aC5taW4oaU1heFgsIGluZGV4WzBdICsgMSk7XG4gICAgaU1heFkgPSBNYXRoLm1pbihpTWF4WSwgaW5kZXhbMV0gKyAxKTtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzaGFwZS5nZXRBYWJiQXRJbmRleChpLCBqLCBhYWJiKTtcblxuICAgICAgICBpZiAoIWFhYmIub3ZlcmxhcHNSYXkobG9jYWxSYXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gTG93ZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0U3BoZXJlKHNwaGVyZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCByID0gc3BoZXJlLnJhZGl1cztcbiAgICBjb25zdCBhID0gKHRvLnggLSBmcm9tLngpICoqIDIgKyAodG8ueSAtIGZyb20ueSkgKiogMiArICh0by56IC0gZnJvbS56KSAqKiAyO1xuICAgIGNvbnN0IGIgPSAyICogKCh0by54IC0gZnJvbS54KSAqIChmcm9tLnggLSBwb3NpdGlvbi54KSArICh0by55IC0gZnJvbS55KSAqIChmcm9tLnkgLSBwb3NpdGlvbi55KSArICh0by56IC0gZnJvbS56KSAqIChmcm9tLnogLSBwb3NpdGlvbi56KSk7XG4gICAgY29uc3QgYyA9IChmcm9tLnggLSBwb3NpdGlvbi54KSAqKiAyICsgKGZyb20ueSAtIHBvc2l0aW9uLnkpICoqIDIgKyAoZnJvbS56IC0gcG9zaXRpb24ueikgKiogMiAtIHIgKiogMjtcbiAgICBjb25zdCBkZWx0YSA9IGIgKiogMiAtIDQgKiBhICogYztcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQ7XG4gICAgY29uc3Qgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7XG5cbiAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICAvLyBzaW5nbGUgaW50ZXJzZWN0aW9uIHBvaW50XG4gICAgICBmcm9tLmxlcnAodG8sIGRlbHRhLCBpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpO1xuICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkMSA9ICgtYiAtIE1hdGguc3FydChkZWx0YSkpIC8gKDIgKiBhKTtcbiAgICAgIGNvbnN0IGQyID0gKC1iICsgTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpO1xuXG4gICAgICBpZiAoZDEgPj0gMCAmJiBkMSA8PSAxKSB7XG4gICAgICAgIGZyb20ubGVycCh0bywgZDEsIGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTtcbiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGQyID49IDAgJiYgZDIgPD0gMSkge1xuICAgICAgICBmcm9tLmxlcnAodG8sIGQyLCBpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7XG4gICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9pbnRlcnNlY3RDb252ZXgoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0Q29udmV4X25vcm1hbDtcbiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yO1xuICAgIGNvbnN0IGZhY2VMaXN0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZhY2VMaXN0IHx8IG51bGw7IC8vIENoZWNraW5nIGZhY2VzXG5cbiAgICBjb25zdCBmYWNlcyA9IHNoYXBlLmZhY2VzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gc2hhcGUudmVydGljZXM7XG4gICAgY29uc3Qgbm9ybWFscyA9IHNoYXBlLmZhY2VOb3JtYWxzO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uO1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKHRvKTtcbiAgICBjb25zdCBOZmFjZXMgPSBmYWNlTGlzdCA/IGZhY2VMaXN0Lmxlbmd0aCA6IGZhY2VzLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblxuICAgIGZvciAobGV0IGogPSAwOyAhcmVzdWx0LnNob3VsZFN0b3AgJiYgaiA8IE5mYWNlczsgaisrKSB7XG4gICAgICBjb25zdCBmaSA9IGZhY2VMaXN0ID8gZmFjZUxpc3Rbal0gOiBqO1xuICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ZpXTtcbiAgICAgIGNvbnN0IGZhY2VOb3JtYWwgPSBub3JtYWxzW2ZpXTtcbiAgICAgIGNvbnN0IHEgPSBxdWF0O1xuICAgICAgY29uc3QgeCA9IHBvc2l0aW9uOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlXG4gICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWxcbiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLlxuXG4gICAgICB2ZWN0b3IuY29weSh2ZXJ0aWNlc1tmYWNlWzBdXSk7XG4gICAgICBxLnZtdWx0KHZlY3RvciwgdmVjdG9yKTtcbiAgICAgIHZlY3Rvci52YWRkKHgsIHZlY3Rvcik7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuXG5cbiAgICAgIHZlY3Rvci52c3ViKGZyb20sIHZlY3Rvcik7IC8vIEdldCBwbGFuZSBub3JtYWxcblxuICAgICAgcS52bXVsdChmYWNlTm9ybWFsLCBub3JtYWwpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZ1xuXG4gICAgICBjb25zdCBkb3QgPSBkaXJlY3Rpb24uZG90KG5vcm1hbCk7IC8vIEJhaWwgb3V0IGlmIHJheSBhbmQgcGxhbmUgYXJlIHBhcmFsbGVsXG5cbiAgICAgIGlmIChNYXRoLmFicyhkb3QpIDwgdGhpcy5wcmVjaXNpb24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmVcblxuXG4gICAgICBjb25zdCBzY2FsYXIgPSBub3JtYWwuZG90KHZlY3RvcikgLyBkb3Q7IC8vIGlmIG5lZ2F0aXZlIGRpc3RhbmNlLCB0aGVuIHBsYW5lIGlzIGJlaGluZCByYXlcblxuICAgICAgaWYgKHNjYWxhciA8IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGlmIChkb3QgPCAwKSB7XG4gICAgICAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhclxuXG5cbiAgICAgIGRpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTtcbiAgICAgIGludGVyc2VjdFBvaW50LnZhZGQoZnJvbSwgaW50ZXJzZWN0UG9pbnQpOyAvLyBhIGlzIHRoZSBwb2ludCB3ZSBjb21wYXJlIHBvaW50cyBiIGFuZCBjIHdpdGguXG5cbiAgICAgIGEuY29weSh2ZXJ0aWNlc1tmYWNlWzBdXSk7XG4gICAgICBxLnZtdWx0KGEsIGEpO1xuICAgICAgeC52YWRkKGEsIGEpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMTsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBmYWNlLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAvLyBUcmFuc2Zvcm0gMyB2ZXJ0aWNlcyB0byB3b3JsZCBjb29yZHNcbiAgICAgICAgYi5jb3B5KHZlcnRpY2VzW2ZhY2VbaV1dKTtcbiAgICAgICAgYy5jb3B5KHZlcnRpY2VzW2ZhY2VbaSArIDFdXSk7XG4gICAgICAgIHEudm11bHQoYiwgYik7XG4gICAgICAgIHEudm11bHQoYywgYyk7XG4gICAgICAgIHgudmFkZChiLCBiKTtcbiAgICAgICAgeC52YWRkKGMsIGMpO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlVG8oZnJvbSk7XG5cbiAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpKSB8fCBkaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCBmaSk7XG4gICAgICB9IC8vIH1cblxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBAdG9kbyBPcHRpbWl6ZSBieSB0cmFuc2Zvcm1pbmcgdGhlIHdvcmxkIHRvIGxvY2FsIHNwYWNlIGZpcnN0LlxyXG4gICAqIEB0b2RvIFVzZSBPY3RyZWUgbG9va3VwXHJcbiAgICovXG5cblxuICBfaW50ZXJzZWN0VHJpbWVzaChtZXNoLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsO1xuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzO1xuICAgIGNvbnN0IHRyZWVUcmFuc2Zvcm0gPSBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm07XG4gICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjtcbiAgICBjb25zdCBsb2NhbERpcmVjdGlvbiA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb247XG4gICAgY29uc3QgbG9jYWxGcm9tID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb207XG4gICAgY29uc3QgbG9jYWxUbyA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbztcbiAgICBjb25zdCB3b3JsZEludGVyc2VjdFBvaW50ID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50O1xuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbDtcbiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlc1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlcztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7IC8vIGNvbnN0IG5vcm1hbHMgPSBtZXNoLmZhY2VOb3JtYWxzXG5cbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICB0cmVlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIVxuXG4gICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBmcm9tLCBsb2NhbEZyb20pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgdG8sIGxvY2FsVG8pO1xuICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7XG4gICAgbG9jYWxUby55ICo9IG1lc2guc2NhbGUueTtcbiAgICBsb2NhbFRvLnogKj0gbWVzaC5zY2FsZS56O1xuICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDtcbiAgICBsb2NhbEZyb20ueSAqPSBtZXNoLnNjYWxlLnk7XG4gICAgbG9jYWxGcm9tLnogKj0gbWVzaC5zY2FsZS56O1xuICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTtcbiAgICBsb2NhbERpcmVjdGlvbi5ub3JtYWxpemUoKTtcbiAgICBjb25zdCBmcm9tVG9EaXN0YW5jZVNxdWFyZWQgPSBsb2NhbEZyb20uZGlzdGFuY2VTcXVhcmVkKGxvY2FsVG8pO1xuICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHRyaWFuZ2xlc0luZGV4ID0gdHJpYW5nbGVzW2ldO1xuICAgICAgbWVzaC5nZXROb3JtYWwodHJpYW5nbGVzSW5kZXgsIG5vcm1hbCk7IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2VcbiAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbFxuICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uXG5cbiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzXSwgYSk7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuXG5cbiAgICAgIGEudnN1Yihsb2NhbEZyb20sIHZlY3Rvcik7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nXG5cbiAgICAgIGNvbnN0IGRvdCA9IGxvY2FsRGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbFxuICAgICAgLy8gaWYgKE1hdGguYWJzKCBkb3QgKSA8IHRoaXMucHJlY2lzaW9uKXtcbiAgICAgIC8vICAgICBjb250aW51ZTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmVcblxuICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5XG5cbiAgICAgIGlmIChzY2FsYXIgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhclxuXG5cbiAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpO1xuICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChsb2NhbEZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gR2V0IHRyaWFuZ2xlIHZlcnRpY2VzXG5cbiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMV0sIGIpO1xuICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDMgKyAyXSwgYyk7XG4gICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTtcblxuICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGEsIGIsIGMpKSB8fCBzcXVhcmVkRGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZVNxdWFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIHRyYW5zZm9ybSBpbnRlcnNlY3Rwb2ludCBhbmQgbm9ybWFsIHRvIHdvcmxkXG5cblxuICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZShxdWF0LCBub3JtYWwsIHdvcmxkTm9ybWFsKTtcbiAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgaW50ZXJzZWN0UG9pbnQsIHdvcmxkSW50ZXJzZWN0UG9pbnQpO1xuICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIHdvcmxkSW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIHRyaWFuZ2xlc0luZGV4KTtcbiAgICB9XG5cbiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBpbnRlcnNlY3Rpb25zIHNob3VsZCBjb250aW51ZVxyXG4gICAqL1xuXG5cbiAgcmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGhpdEZhY2VJbmRleCkge1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKGhpdFBvaW50V29ybGQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0OyAvLyBTa2lwIGJhY2sgZmFjZXM/XG5cbiAgICBpZiAodGhpcy5za2lwQmFja2ZhY2VzICYmIG5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlc3VsdC5oaXRGYWNlSW5kZXggPSB0eXBlb2YgaGl0RmFjZUluZGV4ICE9PSAndW5kZWZpbmVkJyA/IGhpdEZhY2VJbmRleCA6IC0xO1xuXG4gICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgIGNhc2UgUmF5LkFMTDpcbiAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlO1xuICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7XG4gICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJheS5DTE9TRVNUOlxuICAgICAgICAvLyBTdG9yZSBpZiBjbG9zZXIgdGhhbiBjdXJyZW50IGNsb3Nlc3RcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgcmVzdWx0LmRpc3RhbmNlIHx8ICFyZXN1bHQuaGFzSGl0KSB7XG4gICAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJheS5BTlk6XG4gICAgICAgIC8vIFJlcG9ydCBhbmQgc3RvcC5cbiAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlO1xuICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpO1xuICAgICAgICByZXN1bHQuc2hvdWxkU3RvcCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG59XG5SYXkuQ0xPU0VTVCA9IDE7XG5SYXkuQU5ZID0gMjtcblJheS5BTEwgPSA0O1xuY29uc3QgdG1wQUFCQiA9IG5ldyBBQUJCKCk7XG5jb25zdCB0bXBBcnJheSA9IFtdO1xuY29uc3QgdjEgPSBuZXcgVmVjMygpO1xuY29uc3QgdjIgPSBuZXcgVmVjMygpO1xuLypcclxuICogQXMgcGVyIFwiQmFyeWNlbnRyaWMgVGVjaG5pcXVlXCIgYXMgbmFtZWQgaGVyZSBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvZGVmYXVsdC5odG1sIEJ1dCB3aXRob3V0IHRoZSBkaXZpc2lvblxyXG4gKi9cblxuUmF5LnBvaW50SW5UcmlhbmdsZSA9IHBvaW50SW5UcmlhbmdsZTtcblxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKHAsIGEsIGIsIGMpIHtcbiAgYy52c3ViKGEsIHYwKTtcbiAgYi52c3ViKGEsIHYxKTtcbiAgcC52c3ViKGEsIHYyKTtcbiAgY29uc3QgZG90MDAgPSB2MC5kb3QodjApO1xuICBjb25zdCBkb3QwMSA9IHYwLmRvdCh2MSk7XG4gIGNvbnN0IGRvdDAyID0gdjAuZG90KHYyKTtcbiAgY29uc3QgZG90MTEgPSB2MS5kb3QodjEpO1xuICBjb25zdCBkb3QxMiA9IHYxLmRvdCh2Mik7XG4gIGxldCB1O1xuICBsZXQgdjtcbiAgcmV0dXJuICh1ID0gZG90MTEgKiBkb3QwMiAtIGRvdDAxICogZG90MTIpID49IDAgJiYgKHYgPSBkb3QwMCAqIGRvdDEyIC0gZG90MDEgKiBkb3QwMikgPj0gMCAmJiB1ICsgdiA8IGRvdDAwICogZG90MTEgLSBkb3QwMSAqIGRvdDAxO1xufVxuXG5jb25zdCBpbnRlcnNlY3RCb2R5X3hpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdEJvZHlfcWkgPSBuZXcgUXVhdGVybmlvbigpO1xuY29uc3QgaW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpO1xuY29uc3QgYSA9IG5ldyBWZWMzKCk7XG5jb25zdCBiID0gbmV3IFZlYzMoKTtcbmNvbnN0IGMgPSBuZXcgVmVjMygpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5CT1hdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0Qm94O1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5QTEFORV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RQbGFuZTtcbmNvbnN0IGludGVyc2VjdENvbnZleE9wdGlvbnMgPSB7XG4gIGZhY2VMaXN0OiBbMF1cbn07XG5jb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheSA9IG5ldyBSYXkoKTtcbmNvbnN0IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4ID0gW107XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkhFSUdIVEZJRUxEXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEhlaWdodGZpZWxkO1xuY29uc3QgUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlNQSEVSRV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RTcGhlcmU7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdENvbnZleF92ZWN0b3IgPSBuZXcgVmVjMygpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleDtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb24gPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb20gPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzID0gW107XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlRSSU1FU0hdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0VHJpbWVzaDtcbmNvbnN0IHYwID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdCA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCBkaXJlY3Rpb24sIHBvc2l0aW9uKSB7XG4gIC8vIHYwIGlzIHZlY3RvciBmcm9tIGZyb20gdG8gcG9zaXRpb25cbiAgcG9zaXRpb24udnN1Yihmcm9tLCB2MCk7XG4gIGNvbnN0IGRvdCA9IHYwLmRvdChkaXJlY3Rpb24pOyAvLyBpbnRlcnNlY3QgPSBkaXJlY3Rpb24qZG90ICsgZnJvbVxuXG4gIGRpcmVjdGlvbi5zY2FsZShkb3QsIGludGVyc2VjdCk7XG4gIGludGVyc2VjdC52YWRkKGZyb20sIGludGVyc2VjdCk7XG4gIGNvbnN0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VUbyhpbnRlcnNlY3QpO1xuICByZXR1cm4gZGlzdGFuY2U7XG59XG5cbi8qKlxyXG4gKiBTd2VlcCBhbmQgcHJ1bmUgYnJvYWRwaGFzZSBhbG9uZyBvbmUgYXhpcy5cclxuICpcclxuICogQGNsYXNzIFNBUEJyb2FkcGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7V29ybGR9IFt3b3JsZF1cclxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxyXG4gKi9cbmNsYXNzIFNBUEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHtcbiAgLy8gTGlzdCBvZiBib2RpZXMgY3VycmVudGx5IGluIHRoZSBicm9hZHBoYXNlLlxuICAvLyBUaGUgd29ybGQgdG8gc2VhcmNoIGluLlxuICAvLyBBeGlzIHRvIHNvcnQgdGhlIGJvZGllcyBhbG9uZy4gU2V0IHRvIDAgZm9yIHggYXhpcywgYW5kIDEgZm9yIHkgYXhpcy4gRm9yIGJlc3QgcGVyZm9ybWFuY2UsIGNob29zZSBhbiBheGlzIHRoYXQgdGhlIGJvZGllcyBhcmUgc3ByZWFkIG91dCBtb3JlIG9uLlxuICBjb25zdHJ1Y3Rvcih3b3JsZCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5heGlzTGlzdCA9IFtdO1xuICAgIHRoaXMud29ybGQgPSBudWxsO1xuICAgIHRoaXMuYXhpc0luZGV4ID0gMDtcbiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7XG5cbiAgICB0aGlzLl9hZGRCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGF4aXNMaXN0LnB1c2goZXZlbnQuYm9keSk7XG4gICAgfTtcblxuICAgIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyID0gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgaWR4ID0gYXhpc0xpc3QuaW5kZXhPZihldmVudC5ib2R5KTtcblxuICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgYXhpc0xpc3Quc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh3b3JsZCkge1xuICAgICAgdGhpcy5zZXRXb3JsZCh3b3JsZCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENoYW5nZSB0aGUgd29ybGRcclxuICAgKiBAbWV0aG9kIHNldFdvcmxkXHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICovXG5cblxuICBzZXRXb3JsZCh3b3JsZCkge1xuICAgIC8vIENsZWFyIHRoZSBvbGQgYXhpcyBhcnJheVxuICAgIHRoaXMuYXhpc0xpc3QubGVuZ3RoID0gMDsgLy8gQWRkIGFsbCBib2RpZXMgZnJvbSB0aGUgbmV3IHdvcmxkXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmxkLmJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5heGlzTGlzdC5wdXNoKHdvcmxkLmJvZGllc1tpXSk7XG4gICAgfSAvLyBSZW1vdmUgb2xkIGhhbmRsZXJzLCBpZiBhbnlcblxuXG4gICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRkQm9keScsIHRoaXMuX2FkZEJvZHlIYW5kbGVyKTtcbiAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOyAvLyBBZGQgaGFuZGxlcnMgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIGJvZGllcy5cblxuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7XG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncmVtb3ZlQm9keScsIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29sbGVjdCBhbGwgY29sbGlzaW9uIHBhaXJzXHJcbiAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlyc1xyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSAge0FycmF5fSBwMVxyXG4gICAqIEBwYXJhbSAge0FycmF5fSBwMlxyXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikge1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG4gICAgbGV0IGk7XG4gICAgbGV0IGo7XG5cbiAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5zb3J0TGlzdCgpO1xuICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH0gLy8gTG9vayB0aHJvdWdoIHRoZSBsaXN0XG5cblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgTjsgaisrKSB7XG4gICAgICAgIGNvbnN0IGJqID0gYm9kaWVzW2pdO1xuXG4gICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIVNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMoYmksIGJqLCBheGlzSW5kZXgpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwMSwgcDIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNvcnRMaXN0KCkge1xuICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDtcbiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDtcbiAgICBjb25zdCBOID0gYXhpc0xpc3QubGVuZ3RoOyAvLyBVcGRhdGUgQUFCQnNcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYXhpc0xpc3RbaV07XG5cbiAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgYmkuY29tcHV0ZUFBQkIoKTtcbiAgICAgIH1cbiAgICB9IC8vIFNvcnQgdGhlIGxpc3RcblxuXG4gICAgaWYgKGF4aXNJbmRleCA9PT0gMCkge1xuICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WChheGlzTGlzdCk7XG4gICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHtcbiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkoYXhpc0xpc3QpO1xuICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAyKSB7XG4gICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaKGF4aXNMaXN0KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgdGhlIHZhcmlhbmNlIG9mIHRoZSBib2R5IHBvc2l0aW9ucyBhbmQgZXN0aW1hdGVzIHRoZSBiZXN0XHJcbiAgICogYXhpcyB0byB1c2UuIFdpbGwgYXV0b21hdGljYWxseSBzZXQgcHJvcGVydHkgLmF4aXNJbmRleC5cclxuICAgKiBAbWV0aG9kIGF1dG9EZXRlY3RBeGlzXHJcbiAgICovXG5cblxuICBhdXRvRGV0ZWN0QXhpcygpIHtcbiAgICBsZXQgc3VtWCA9IDA7XG4gICAgbGV0IHN1bVgyID0gMDtcbiAgICBsZXQgc3VtWSA9IDA7XG4gICAgbGV0IHN1bVkyID0gMDtcbiAgICBsZXQgc3VtWiA9IDA7XG4gICAgbGV0IHN1bVoyID0gMDtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGludk4gPSAxIC8gTjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICBjb25zdCBjZW50ZXJYID0gYi5wb3NpdGlvbi54O1xuICAgICAgc3VtWCArPSBjZW50ZXJYO1xuICAgICAgc3VtWDIgKz0gY2VudGVyWCAqIGNlbnRlclg7XG4gICAgICBjb25zdCBjZW50ZXJZID0gYi5wb3NpdGlvbi55O1xuICAgICAgc3VtWSArPSBjZW50ZXJZO1xuICAgICAgc3VtWTIgKz0gY2VudGVyWSAqIGNlbnRlclk7XG4gICAgICBjb25zdCBjZW50ZXJaID0gYi5wb3NpdGlvbi56O1xuICAgICAgc3VtWiArPSBjZW50ZXJaO1xuICAgICAgc3VtWjIgKz0gY2VudGVyWiAqIGNlbnRlclo7XG4gICAgfVxuXG4gICAgY29uc3QgdmFyaWFuY2VYID0gc3VtWDIgLSBzdW1YICogc3VtWCAqIGludk47XG4gICAgY29uc3QgdmFyaWFuY2VZID0gc3VtWTIgLSBzdW1ZICogc3VtWSAqIGludk47XG4gICAgY29uc3QgdmFyaWFuY2VaID0gc3VtWjIgLSBzdW1aICogc3VtWiAqIGludk47XG5cbiAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VZKSB7XG4gICAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VaKSB7XG4gICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhcmlhbmNlWSA+IHZhcmlhbmNlWikge1xuICAgICAgdGhpcy5heGlzSW5kZXggPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmF4aXNJbmRleCA9IDI7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuXHJcbiAgICogQG1ldGhvZCBhYWJiUXVlcnlcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uXHJcbiAgICogQHJldHVybiB7YXJyYXl9XHJcbiAgICovXG5cblxuICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuc29ydExpc3QoKTtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDtcbiAgICBsZXQgYXhpcyA9ICd4JztcblxuICAgIGlmIChheGlzSW5kZXggPT09IDEpIHtcbiAgICAgIGF4aXMgPSAneSc7XG4gICAgfVxuXG4gICAgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgICAgYXhpcyA9ICd6JztcbiAgICB9XG5cbiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgbG93ZXIgPSBhYWJiLmxvd2VyQm91bmRbYXhpc107XG4gICAgY29uc3QgdXBwZXIgPSBhYWJiLnVwcGVyQm91bmRbYXhpc107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4aXNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gYXhpc0xpc3RbaV07XG5cbiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgICBiLmNvbXB1dGVBQUJCKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiLmFhYmIub3ZlcmxhcHMoYWFiYikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goYik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59XG4vKipcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGluc2VydGlvblNvcnRYXHJcbiAqIEBwYXJhbSAge0FycmF5fSBhXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cblxuU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WCA9IGEgPT4ge1xuICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgdiA9IGFbaV07XG4gICAgbGV0IGo7XG5cbiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC54IDw9IHYuYWFiYi5sb3dlckJvdW5kLngpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFbaiArIDFdID0gYVtqXTtcbiAgICB9XG5cbiAgICBhW2ogKyAxXSA9IHY7XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG4vKipcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGluc2VydGlvblNvcnRZXHJcbiAqIEBwYXJhbSAge0FycmF5fSBhXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cblxuXG5TQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZID0gYSA9PiB7XG4gIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCB2ID0gYVtpXTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnkgPD0gdi5hYWJiLmxvd2VyQm91bmQueSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYVtqICsgMV0gPSBhW2pdO1xuICAgIH1cblxuICAgIGFbaiArIDFdID0gdjtcbiAgfVxuXG4gIHJldHVybiBhO1xufTtcbi8qKlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFpcclxuICogQHBhcmFtICB7QXJyYXl9IGFcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xuXG5cblNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFogPSBhID0+IHtcbiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHYgPSBhW2ldO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueiA8PSB2LmFhYmIubG93ZXJCb3VuZC56KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhW2ogKyAxXSA9IGFbal07XG4gICAgfVxuXG4gICAgYVtqICsgMV0gPSB2O1xuICB9XG5cbiAgcmV0dXJuIGE7XG59O1xuLyoqXHJcbiAqIENoZWNrIGlmIHRoZSBib3VuZHMgb2YgdHdvIGJvZGllcyBvdmVybGFwLCBhbG9uZyB0aGUgZ2l2ZW4gU0FQIGF4aXMuXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBjaGVja0JvdW5kc1xyXG4gKiBAcGFyYW0gIHtCb2R5fSBiaVxyXG4gKiBAcGFyYW0gIHtCb2R5fSBialxyXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGF4aXNJbmRleFxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cblxuXG5TQVBCcm9hZHBoYXNlLmNoZWNrQm91bmRzID0gKGJpLCBiaiwgYXhpc0luZGV4KSA9PiB7XG4gIGxldCBiaVBvcztcbiAgbGV0IGJqUG9zO1xuXG4gIGlmIChheGlzSW5kZXggPT09IDApIHtcbiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLng7XG4gICAgYmpQb3MgPSBiai5wb3NpdGlvbi54O1xuICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkge1xuICAgIGJpUG9zID0gYmkucG9zaXRpb24ueTtcbiAgICBialBvcyA9IGJqLnBvc2l0aW9uLnk7XG4gIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAyKSB7XG4gICAgYmlQb3MgPSBiaS5wb3NpdGlvbi56O1xuICAgIGJqUG9zID0gYmoucG9zaXRpb24uejtcbiAgfVxuXG4gIGNvbnN0IHJpID0gYmkuYm91bmRpbmdSYWRpdXMsXG4gICAgICAgIHJqID0gYmouYm91bmRpbmdSYWRpdXMsXG4gICAgICAgIC8vIGJvdW5kQTEgPSBiaVBvcyAtIHJpLFxuICBib3VuZEEyID0gYmlQb3MgKyByaSxcbiAgICAgICAgYm91bmRCMSA9IGJqUG9zIC0gcmo7IC8vIGJvdW5kQjIgPSBialBvcyArIHJqO1xuXG4gIHJldHVybiBib3VuZEIxIDwgYm91bmRBMjtcbn07XG5cbmZ1bmN0aW9uIFV0aWxzKCkge31cbi8qKlxyXG4gKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy5cclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGRlZmF1bHRzXHJcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuXHJcbiAqIEBwYXJhbSAge29iamVjdH0gZGVmYXVsdHMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCB2YWx1ZXMuXHJcbiAqIEByZXR1cm4ge29iamVjdH0gVGhlIG1vZGlmaWVkIG9wdGlvbnMgb2JqZWN0LlxyXG4gKi9cblxuVXRpbHMuZGVmYXVsdHMgPSAob3B0aW9ucyA9IHt9LCBkZWZhdWx0cykgPT4ge1xuICBmb3IgKGxldCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnNba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG4vKipcclxuICogQ29uc3RyYWludCBiYXNlIGNsYXNzXHJcbiAqIEBjbGFzcyBDb25zdHJhaW50XHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGlkZUNvbm5lY3RlZD10cnVlXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLndha2VVcEJvZGllcz10cnVlXVxyXG4gKi9cbmNsYXNzIENvbnN0cmFpbnQge1xuICAvLyBFcXVhdGlvbnMgdG8gYmUgc29sdmVkIGluIHRoaXMgY29uc3RyYWludC5cbiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIGJvZGllcyB0byBjb2xsaWRlIHdoZW4gdGhleSBhcmUgY29ubmVjdGVkLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBjb2xsaWRlQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgd2FrZVVwQm9kaWVzOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcbiAgICB0aGlzLmJvZHlBID0gYm9keUE7XG4gICAgdGhpcy5ib2R5QiA9IGJvZHlCO1xuICAgIHRoaXMuaWQgPSBDb25zdHJhaW50LmlkQ291bnRlcisrO1xuICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9IG9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDtcblxuICAgIGlmIChvcHRpb25zLndha2VVcEJvZGllcykge1xuICAgICAgaWYgKGJvZHlBKSB7XG4gICAgICAgIGJvZHlBLndha2VVcCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm9keUIpIHtcbiAgICAgICAgYm9keUIud2FrZVVwKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSBhbGwgdGhlIGVxdWF0aW9ucyB3aXRoIGRhdGEuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVcclxuICAgKi9cblxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyEnKTtcbiAgfVxuICAvKipcclxuICAgKiBFbmFibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuXHJcbiAgICogQG1ldGhvZCBlbmFibGVcclxuICAgKi9cblxuXG4gIGVuYWJsZSgpIHtcbiAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9ucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBlcXNbaV0uZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIERpc2FibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuXHJcbiAgICogQG1ldGhvZCBkaXNhYmxlXHJcbiAgICovXG5cblxuICBkaXNhYmxlKCkge1xuICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGVxc1tpXS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbn1cbkNvbnN0cmFpbnQuaWRDb3VudGVyID0gMDtcblxuLyoqXHJcbiAqIEFuIGVsZW1lbnQgY29udGFpbmluZyA2IGVudHJpZXMsIDMgc3BhdGlhbCBhbmQgMyByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbS5cclxuICovXG5cbmNsYXNzIEphY29iaWFuRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3BhdGlhbCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yb3RhdGlvbmFsID0gbmV3IFZlYzMoKTtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB3aXRoIG90aGVyIEphY29iaWFuRWxlbWVudFxyXG4gICAqL1xuXG5cbiAgbXVsdGlwbHlFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5zcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgZWxlbWVudC5yb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHdpdGggdHdvIHZlY3RvcnNcclxuICAgKi9cblxuXG4gIG11bHRpcGx5VmVjdG9ycyhzcGF0aWFsLCByb3RhdGlvbmFsKSB7XG4gICAgcmV0dXJuIHNwYXRpYWwuZG90KHRoaXMuc3BhdGlhbCkgKyByb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEVxdWF0aW9uIGJhc2UgY2xhc3NcclxuICogQGNsYXNzIEVxdWF0aW9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYmlcclxuICogQHBhcmFtIHtCb2R5fSBialxyXG4gKiBAcGFyYW0ge051bWJlcn0gbWluRm9yY2UgTWluaW11bSAocmVhZDogbmVnYXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UgTWF4aW11bSAocmVhZDogcG9zaXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50LlxyXG4gKi9cbmNsYXNzIEVxdWF0aW9uIHtcbiAgLy8gU1BPT0sgcGFyYW1ldGVyXG4gIC8vIFNQT09LIHBhcmFtZXRlclxuICAvLyBTUE9PSyBwYXJhbWV0ZXJcbiAgLy8gQSBudW1iZXIsIHByb3BvcnRpb25hbCB0byB0aGUgZm9yY2UgYWRkZWQgdG8gdGhlIGJvZGllcy5cbiAgY29uc3RydWN0b3IoYmksIGJqLCBtaW5Gb3JjZSA9IC0xZTYsIG1heEZvcmNlID0gMWU2KSB7XG4gICAgdGhpcy5pZCA9IEVxdWF0aW9uLmlkKys7XG4gICAgdGhpcy5taW5Gb3JjZSA9IG1pbkZvcmNlO1xuICAgIHRoaXMubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICB0aGlzLmJpID0gYmk7XG4gICAgdGhpcy5iaiA9IGJqO1xuICAgIHRoaXMuYSA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyXG5cbiAgICB0aGlzLmIgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlclxuXG4gICAgdGhpcy5lcHMgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlclxuXG4gICAgdGhpcy5qYWNvYmlhbkVsZW1lbnRBID0gbmV3IEphY29iaWFuRWxlbWVudCgpO1xuICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QiA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMubXVsdGlwbGllciA9IDA7XG4gICAgdGhpcy5zZXRTcG9va1BhcmFtcygxZTcsIDQsIDEgLyA2MCk7IC8vIFNldCB0eXBpY2FsIHNwb29rIHBhcmFtc1xuICB9XG4gIC8qKlxyXG4gICAqIFJlY2FsY3VsYXRlcyBhLGIsZXBzLlxyXG4gICAqIEBtZXRob2Qgc2V0U3Bvb2tQYXJhbXNcclxuICAgKi9cblxuXG4gIHNldFNwb29rUGFyYW1zKHN0aWZmbmVzcywgcmVsYXhhdGlvbiwgdGltZVN0ZXApIHtcbiAgICBjb25zdCBkID0gcmVsYXhhdGlvbjtcbiAgICBjb25zdCBrID0gc3RpZmZuZXNzO1xuICAgIGNvbnN0IGggPSB0aW1lU3RlcDtcbiAgICB0aGlzLmEgPSA0LjAgLyAoaCAqICgxICsgNCAqIGQpKTtcbiAgICB0aGlzLmIgPSA0LjAgKiBkIC8gKDEgKyA0ICogZCk7XG4gICAgdGhpcy5lcHMgPSA0LjAgLyAoaCAqIGggKiBrICogKDEgKyA0ICogZCkpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIFNQT09LIGVxdWF0aW9uXHJcbiAgICogQG1ldGhvZCBjb21wdXRlQlxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGNvbXB1dGVCKGEsIGIsIGgpIHtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgY29uc3QgR3EgPSB0aGlzLmNvbXB1dGVHcSgpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgcmV0dXJuIC1HcSAqIGEgLSBHVyAqIGIgLSBHaU1mICogaDtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyBHKnEsIHdoZXJlIHEgYXJlIHRoZSBnZW5lcmFsaXplZCBib2R5IGNvb3JkaW5hdGVzXHJcbiAgICogQG1ldGhvZCBjb21wdXRlR3FcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlR3EoKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCB4aSA9IGJpLnBvc2l0aW9uO1xuICAgIGNvbnN0IHhqID0gYmoucG9zaXRpb247XG4gICAgcmV0dXJuIEdBLnNwYXRpYWwuZG90KHhpKSArIEdCLnNwYXRpYWwuZG90KHhqKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyBHKlcsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXNcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVHV1xyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGNvbXB1dGVHVygpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7XG4gICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTtcbiAgICBjb25zdCB3aSA9IGJpLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKHZpLCB3aSkgKyBHQi5tdWx0aXBseVZlY3RvcnModmosIHdqKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyBHKldsYW1iZGEsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXNcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVHV2xhbWJkYVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGNvbXB1dGVHV2xhbWJkYSgpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHZpID0gYmkudmxhbWJkYTtcbiAgICBjb25zdCB2aiA9IGJqLnZsYW1iZGE7XG4gICAgY29uc3Qgd2kgPSBiaS53bGFtYmRhO1xuICAgIGNvbnN0IHdqID0gYmoud2xhbWJkYTtcbiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKHZpLCB3aSkgKyBHQi5tdWx0aXBseVZlY3RvcnModmosIHdqKTtcbiAgfVxuXG4gIGNvbXB1dGVHaU1mKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgZmkgPSBiaS5mb3JjZTtcbiAgICBjb25zdCB0aSA9IGJpLnRvcnF1ZTtcbiAgICBjb25zdCBmaiA9IGJqLmZvcmNlO1xuICAgIGNvbnN0IHRqID0gYmoudG9ycXVlO1xuICAgIGNvbnN0IGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlO1xuICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlO1xuICAgIGZpLnNjYWxlKGludk1hc3NpLCBpTWZpKTtcbiAgICBmai5zY2FsZShpbnZNYXNzaiwgaU1maik7XG4gICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGksIGludklpX3ZtdWx0X3RhdWkpO1xuICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRqLCBpbnZJal92bXVsdF90YXVqKTtcbiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKGlNZmksIGludklpX3ZtdWx0X3RhdWkpICsgR0IubXVsdGlwbHlWZWN0b3JzKGlNZmosIGludklqX3ZtdWx0X3RhdWopO1xuICB9XG5cbiAgY29tcHV0ZUdpTUd0KCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7XG4gICAgY29uc3QgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmU7XG4gICAgY29uc3QgaW52SWkgPSBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZTtcbiAgICBjb25zdCBpbnZJaiA9IGJqLmludkluZXJ0aWFXb3JsZFNvbHZlO1xuICAgIGxldCByZXN1bHQgPSBpbnZNYXNzaSArIGludk1hc3NqO1xuICAgIGludklpLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRtcCQxKTtcbiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdBLnJvdGF0aW9uYWwpO1xuICAgIGludklqLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRtcCQxKTtcbiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdCLnJvdGF0aW9uYWwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGNvbnN0cmFpbnQgdmVsb2NpdHkgdG8gdGhlIGJvZGllcy5cclxuICAgKiBAbWV0aG9kIGFkZFRvV2xhbWJkYVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YWxhbWJkYVxyXG4gICAqL1xuXG5cbiAgYWRkVG9XbGFtYmRhKGRlbHRhbGFtYmRhKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCB0ZW1wID0gYWRkVG9XbGFtYmRhX3RlbXA7IC8vIEFkZCB0byBsaW5lYXIgdmVsb2NpdHlcbiAgICAvLyB2X2xhbWJkYSArPSBpbnYoTSkgKiBkZWx0YV9sYW1iYSAqIEdcblxuICAgIGJpLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJpLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQS5zcGF0aWFsLCBiaS52bGFtYmRhKTtcbiAgICBiai52bGFtYmRhLmFkZFNjYWxlZFZlY3Rvcihiai5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Iuc3BhdGlhbCwgYmoudmxhbWJkYSk7IC8vIEFkZCB0byBhbmd1bGFyIHZlbG9jaXR5XG5cbiAgICBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQS5yb3RhdGlvbmFsLCB0ZW1wKTtcbiAgICBiaS53bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihkZWx0YWxhbWJkYSwgdGVtcCwgYmkud2xhbWJkYSk7XG4gICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoR0Iucm90YXRpb25hbCwgdGVtcCk7XG4gICAgYmoud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJqLndsYW1iZGEpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGUgdGhlIGRlbm9taW5hdG9yIHBhcnQgb2YgdGhlIFNQT09LIGVxdWF0aW9uOiBDID0gRyppbnYoTSkqRycgKyBlcHNcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVJbnZDXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBlcHNcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICBjb21wdXRlQygpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wdXRlR2lNR3QoKSArIHRoaXMuZXBzO1xuICB9XG5cbn1cbkVxdWF0aW9uLmlkID0gMDtcbi8qKlxyXG4gKiBDb21wdXRlcyBHKmludihNKSpmLCB3aGVyZSBNIGlzIHRoZSBtYXNzIG1hdHJpeCB3aXRoIGRpYWdvbmFsIGJsb2NrcyBmb3IgZWFjaCBib2R5LCBhbmQgZiBhcmUgdGhlIGZvcmNlcyBvbiB0aGUgYm9kaWVzLlxyXG4gKiBAbWV0aG9kIGNvbXB1dGVHaU1mXHJcbiAqIEByZXR1cm4ge051bWJlcn1cclxuICovXG5cbmNvbnN0IGlNZmkgPSBuZXcgVmVjMygpO1xuY29uc3QgaU1maiA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnZJaV92bXVsdF90YXVpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludklqX3ZtdWx0X3RhdWogPSBuZXcgVmVjMygpO1xuLyoqXHJcbiAqIENvbXB1dGVzIEcqaW52KE0pKkcnXHJcbiAqIEBtZXRob2QgY29tcHV0ZUdpTUd0XHJcbiAqIEByZXR1cm4ge051bWJlcn1cclxuICovXG5cbmNvbnN0IHRtcCQxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFkZFRvV2xhbWJkYV90ZW1wID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIENvbnRhY3Qvbm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb25cclxuICogQGNsYXNzIENvbnRhY3RFcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBDb250YWN0RXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIC8vIFwiYm91bmNpbmVzc1wiOiB1MSA9IC1lKnUwXG4gIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgY2VudGVyIG9mIGJpIHRvIHRoZSBjb250YWN0IHBvaW50LlxuICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBzdGFydHMgaW4gYm9keSBqIHBvc2l0aW9uIGFuZCBnb2VzIHRvIHRoZSBjb250YWN0IHBvaW50LlxuICAvLyBDb250YWN0IG5vcm1hbCwgcG9pbnRpbmcgb3V0IG9mIGJvZHkgaS5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgMCwgbWF4Rm9yY2UpO1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSAwLjA7XG4gICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5uaSA9IG5ldyBWZWMzKCk7XG4gIH1cblxuICBjb21wdXRlQihoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgcmkgPSB0aGlzLnJpO1xuICAgIGNvbnN0IHJqID0gdGhpcy5yajtcbiAgICBjb25zdCByaXhuID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxO1xuICAgIGNvbnN0IHJqeG4gPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDI7XG4gICAgY29uc3QgdmkgPSBiaS52ZWxvY2l0eTtcbiAgICBjb25zdCB3aSA9IGJpLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICBjb25zdCBmaSA9IGJpLmZvcmNlO1xuICAgIGNvbnN0IHRhdWkgPSBiaS50b3JxdWU7XG4gICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTtcbiAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICBjb25zdCBmaiA9IGJqLmZvcmNlO1xuICAgIGNvbnN0IHRhdWogPSBiai50b3JxdWU7XG4gICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDM7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgbiA9IHRoaXMubmk7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXG4gICAgcmkuY3Jvc3Mobiwgcml4bik7XG4gICAgcmouY3Jvc3Mobiwgcmp4bik7IC8vIGcgPSB4aityaiAtKHhpK3JpKVxuICAgIC8vIEcgPSBbIC1uaSAgLXJpeG4gIG5pICByanhuIF1cblxuICAgIG4ubmVnYXRlKEdBLnNwYXRpYWwpO1xuICAgIHJpeG4ubmVnYXRlKEdBLnJvdGF0aW9uYWwpO1xuICAgIEdCLnNwYXRpYWwuY29weShuKTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4bik7IC8vIENhbGN1bGF0ZSB0aGUgcGVuZXRyYXRpb24gdmVjdG9yXG5cbiAgICBwZW5ldHJhdGlvblZlYy5jb3B5KGJqLnBvc2l0aW9uKTtcbiAgICBwZW5ldHJhdGlvblZlYy52YWRkKHJqLCBwZW5ldHJhdGlvblZlYyk7XG4gICAgcGVuZXRyYXRpb25WZWMudnN1YihiaS5wb3NpdGlvbiwgcGVuZXRyYXRpb25WZWMpO1xuICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIocmksIHBlbmV0cmF0aW9uVmVjKTtcbiAgICBjb25zdCBnID0gbi5kb3QocGVuZXRyYXRpb25WZWMpOyAvLyBDb21wdXRlIGl0ZXJhdGlvblxuXG4gICAgY29uc3QgZVBsdXNPbmUgPSB0aGlzLnJlc3RpdHV0aW9uICsgMTtcbiAgICBjb25zdCBHVyA9IGVQbHVzT25lICogdmouZG90KG4pIC0gZVBsdXNPbmUgKiB2aS5kb3QobikgKyB3ai5kb3Qocmp4bikgLSB3aS5kb3Qocml4bik7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7XG4gICAgcmV0dXJuIEI7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjdXJyZW50IHJlbGF0aXZlIHZlbG9jaXR5IGluIHRoZSBjb250YWN0IHBvaW50LlxyXG4gICAqIEBtZXRob2QgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbFxyXG4gICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgKi9cblxuXG4gIGdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwoKSB7XG4gICAgY29uc3QgdmkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aTtcbiAgICBjb25zdCB2aiA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqO1xuICAgIGNvbnN0IHhpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGk7XG4gICAgY29uc3QgeGogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94ajtcbiAgICBjb25zdCByZWxWZWwgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWw7XG4gICAgdGhpcy5iaS5wb3NpdGlvbi52YWRkKHRoaXMucmksIHhpKTtcbiAgICB0aGlzLmJqLnBvc2l0aW9uLnZhZGQodGhpcy5yaiwgeGopO1xuICAgIHRoaXMuYmkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGksIHZpKTtcbiAgICB0aGlzLmJqLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHhqLCB2aik7XG4gICAgdmkudnN1Yih2aiwgcmVsVmVsKTtcbiAgICByZXR1cm4gdGhpcy5uaS5kb3QocmVsVmVsKTtcbiAgfVxuXG59XG5jb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnNcblxuY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMyA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aiA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aiA9IG5ldyBWZWMzKCk7XG5jb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWwgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQ29ubmVjdHMgdHdvIGJvZGllcyBhdCBnaXZlbiBvZmZzZXQgcG9pbnRzLlxyXG4gKiBAY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludFxyXG4gKiBAZXh0ZW5kcyBDb25zdHJhaW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7VmVjM30gcGl2b3RBIFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgYm9keUEgd2hpY2ggYm9keUEgaXMgY29uc3RyYWluZWQgdG8uXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUIgQm9keSB0aGF0IHdpbGwgYmUgY29uc3RyYWluZWQgaW4gYSBzaW1pbGFyIHdheSB0byB0aGUgc2FtZSBwb2ludCBhcyBib2R5QS4gV2Ugd2lsbCB0aGVyZWZvcmUgZ2V0IGEgbGluayBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5Qi4gSWYgbm90IHNwZWNpZmllZCwgYm9keUEgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBhIHN0YXRpYyBwb2ludC5cclxuICogQHBhcmFtIHtWZWMzfSBwaXZvdEIgU2VlIHBpdm90QS5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIFRoZSBtYXhpbXVtIGZvcmNlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gY29uc3RyYWluIHRoZSBib2RpZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICAgICBjb25zdCBib2R5QSA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTtcclxuICogICAgIGNvbnN0IGJvZHlCID0gbmV3IEJvZHkoeyBtYXNzOiAxIH0pO1xyXG4gKiAgICAgYm9keUEucG9zaXRpb24uc2V0KC0xLCAwLCAwKTtcclxuICogICAgIGJvZHlCLnBvc2l0aW9uLnNldCgxLCAwLCAwKTtcclxuICogICAgIGJvZHlBLmFkZFNoYXBlKHNoYXBlQSk7XHJcbiAqICAgICBib2R5Qi5hZGRTaGFwZShzaGFwZUIpO1xyXG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5QSk7XHJcbiAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHlCKTtcclxuICogICAgIGNvbnN0IGxvY2FsUGl2b3RBID0gbmV3IFZlYzMoMSwgMCwgMCk7XHJcbiAqICAgICBjb25zdCBsb2NhbFBpdm90QiA9IG5ldyBWZWMzKC0xLCAwLCAwKTtcclxuICogICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2R5QSwgbG9jYWxQaXZvdEEsIGJvZHlCLCBsb2NhbFBpdm90Qik7XHJcbiAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xyXG4gKi9cbmNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHtcbiAgLy8gUGl2b3QsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS5cbiAgLy8gUGl2b3QsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi5cbiAgY29uc3RydWN0b3IoYm9keUEsIHBpdm90QSA9IG5ldyBWZWMzKCksIGJvZHlCLCBwaXZvdEIgPSBuZXcgVmVjMygpLCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7XG4gICAgdGhpcy5waXZvdEEgPSBwaXZvdEEuY2xvbmUoKTtcbiAgICB0aGlzLnBpdm90QiA9IHBpdm90Qi5jbG9uZSgpO1xuICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWCA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTtcbiAgICBjb25zdCB5ID0gdGhpcy5lcXVhdGlvblkgPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7XG4gICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOyAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXJcblxuICAgIHRoaXMuZXF1YXRpb25zLnB1c2goeCwgeSwgeik7IC8vIE1ha2UgdGhlIGVxdWF0aW9ucyBiaWRpcmVjdGlvbmFsXG5cbiAgICB4Lm1pbkZvcmNlID0geS5taW5Gb3JjZSA9IHoubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gICAgeC5tYXhGb3JjZSA9IHkubWF4Rm9yY2UgPSB6Lm1heEZvcmNlID0gbWF4Rm9yY2U7XG4gICAgeC5uaS5zZXQoMSwgMCwgMCk7XG4gICAgeS5uaS5zZXQoMCwgMSwgMCk7XG4gICAgei5uaS5zZXQoMCwgMCwgMSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCB4ID0gdGhpcy5lcXVhdGlvblg7XG4gICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZO1xuICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWjsgLy8gUm90YXRlIHRoZSBwaXZvdHMgdG8gd29ybGQgc3BhY2VcblxuICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEEsIHgucmkpO1xuICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEIsIHgucmopO1xuICAgIHkucmkuY29weSh4LnJpKTtcbiAgICB5LnJqLmNvcHkoeC5yaik7XG4gICAgei5yaS5jb3B5KHgucmkpO1xuICAgIHoucmouY29weSh4LnJqKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBDb25lIGVxdWF0aW9uLiBXb3JrcyB0byBrZWVwIHRoZSBnaXZlbiBib2R5IHdvcmxkIHZlY3RvcnMgYWxpZ25lZCwgb3IgdGlsdGVkIHdpdGhpbiBhIGdpdmVuIGFuZ2xlIGZyb20gZWFjaCBvdGhlci5cclxuICogQGNsYXNzIENvbmVFcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gTG9jYWwgYXhpcyBpbiBBXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdIExvY2FsIGF4aXMgaW4gQlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ2xlXSBUaGUgXCJjb25lIGFuZ2xlXCIgdG8ga2VlcFxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxyXG4gKi9cbmNsYXNzIENvbmVFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgLy8gVGhlIGNvbmUgYW5nbGUgdG8ga2VlcC5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTtcbiAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApO1xuICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7XG4gICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7XG4gICAgY29uc3QgbmogPSB0aGlzLmF4aXNCO1xuICAgIGNvbnN0IG5peG5qID0gdG1wVmVjMTtcbiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzI7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXG4gICAgbmkuY3Jvc3MobmosIG5peG5qKTtcbiAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBUaGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yIGlzOlxuICAgIC8vIGNvcyh0aGV0YSkgPSBhICogYiAvIChsZW5ndGgoYSkgKiBsZW5ndGgoYikgPSB7IGxlbihhKSA9IGxlbihiKSA9IDEgfSA9IGEgKiBiXG4gICAgLy8gZyA9IGEgKiBiXG4gICAgLy8gZ2RvdCA9IChiIHggYSkgKiB3aSArIChhIHggYikgKiB3alxuICAgIC8vIEcgPSBbMCBieGEgMCBheGJdXG4gICAgLy8gVyA9IFt2aSB3aSB2aiB3al1cblxuICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7XG4gICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTtcbiAgICBjb25zdCBnID0gTWF0aC5jb3ModGhpcy5hbmdsZSkgLSBuaS5kb3QobmopO1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuXG59XG5jb25zdCB0bXBWZWMxID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzIgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogUm90YXRpb25hbCBjb25zdHJhaW50LiBXb3JrcyB0byBrZWVwIHRoZSBsb2NhbCB2ZWN0b3JzIG9ydGhvZ29uYWwgdG8gZWFjaCBvdGhlciBpbiB3b3JsZCBzcGFjZS5cclxuICogQGNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlXVxyXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxyXG4gKi9cbmNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTtcbiAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApO1xuICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7XG4gICAgdGhpcy5tYXhBbmdsZSA9IE1hdGguUEkgLyAyO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7XG4gICAgY29uc3QgbmogPSB0aGlzLmF4aXNCO1xuICAgIGNvbnN0IG5peG5qID0gdG1wVmVjMSQxO1xuICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMiQxO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7XG4gICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gZyA9IG5pICogbmpcbiAgICAvLyBnZG90ID0gKG5qIHggbmkpICogd2kgKyAobmkgeCBuaikgKiB3alxuICAgIC8vIEcgPSBbMCBuanhuaSAwIG5peG5qXVxuICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdXG5cbiAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpO1xuICAgIEdCLnJvdGF0aW9uYWwuY29weShuaXhuaik7XG4gICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMubWF4QW5nbGUpIC0gbmkuZG90KG5qKTtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7XG4gICAgcmV0dXJuIEI7XG4gIH1cblxufVxuY29uc3QgdG1wVmVjMSQxID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzIkMSA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBAY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcclxuICovXG5jbGFzcyBDb25lVHdpc3RDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7XG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlblxuXG4gICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTtcbiAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDtcbiAgICBjb25zdCBjID0gdGhpcy5jb25lRXF1YXRpb24gPSBuZXcgQ29uZUVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgdCA9IHRoaXMudHdpc3RFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICB0aGlzLnR3aXN0QW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy50d2lzdEFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMudHdpc3RBbmdsZSA6IDA7IC8vIE1ha2UgdGhlIGNvbmUgZXF1YXRpb24gcHVzaCB0aGUgYm9kaWVzIHRvd2FyZCB0aGUgY29uZSBheGlzLCBub3Qgb3V0d2FyZFxuXG4gICAgYy5tYXhGb3JjZSA9IDA7XG4gICAgYy5taW5Gb3JjZSA9IC1tYXhGb3JjZTsgLy8gTWFrZSB0aGUgdHdpc3QgZXF1YXRpb24gYWRkIHRvcnF1ZSB0b3dhcmQgdGhlIGluaXRpYWwgcG9zaXRpb25cblxuICAgIHQubWF4Rm9yY2UgPSAwO1xuICAgIHQubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChjLCB0KTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IGNvbmUgPSB0aGlzLmNvbmVFcXVhdGlvbjtcbiAgICBjb25zdCB0d2lzdCA9IHRoaXMudHdpc3RFcXVhdGlvbjtcbiAgICBzdXBlci51cGRhdGUoKTsgLy8gVXBkYXRlIHRoZSBheGVzIHRvIHRoZSBjb25lIGNvbnN0cmFpbnRcblxuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLCBjb25lLmF4aXNBKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5heGlzQiwgY29uZS5heGlzQik7IC8vIFVwZGF0ZSB0aGUgd29ybGQgYXhlcyBpbiB0aGUgdHdpc3QgY29uc3RyYWludFxuXG4gICAgdGhpcy5heGlzQS50YW5nZW50cyh0d2lzdC5heGlzQSwgdHdpc3QuYXhpc0EpO1xuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0d2lzdC5heGlzQSwgdHdpc3QuYXhpc0EpO1xuICAgIHRoaXMuYXhpc0IudGFuZ2VudHModHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTtcbiAgICBjb25lLmFuZ2xlID0gdGhpcy5hbmdsZTtcbiAgICB0d2lzdC5tYXhBbmdsZSA9IHRoaXMudHdpc3RBbmdsZTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBDb25zdHJhaW5zIHR3byBib2RpZXMgdG8gYmUgYXQgYSBjb25zdGFudCBkaXN0YW5jZSBmcm9tIGVhY2ggb3RoZXJzIGNlbnRlciBvZiBtYXNzLlxyXG4gKiBAY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge051bWJlcn0gW2Rpc3RhbmNlXSBUaGUgZGlzdGFuY2UgdG8ga2VlcC4gSWYgdW5kZWZpbmVkLCBpdCB3aWxsIGJlIHNldCB0byB0aGUgY3VycmVudCBkaXN0YW5jZSBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5QlxyXG4gKiBAcGFyYW0ge051bWJlcn0gW21heEZvcmNlPTFlNl1cclxuICogQGV4dGVuZHMgQ29uc3RyYWludFxyXG4gKi9cbmNsYXNzIERpc3RhbmNlQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIGRpc3RhbmNlLCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7XG5cbiAgICBpZiAodHlwZW9mIGRpc3RhbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGlzdGFuY2UgPSBib2R5QS5wb3NpdGlvbi5kaXN0YW5jZVRvKGJvZHlCLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb24gPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7XG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7IC8vIE1ha2UgaXQgYmlkaXJlY3Rpb25hbFxuXG4gICAgZXEubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gICAgZXEubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IGVxID0gdGhpcy5kaXN0YW5jZUVxdWF0aW9uO1xuICAgIGNvbnN0IGhhbGZEaXN0ID0gdGhpcy5kaXN0YW5jZSAqIDAuNTtcbiAgICBjb25zdCBub3JtYWwgPSBlcS5uaTtcbiAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCBub3JtYWwpO1xuICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTtcbiAgICBub3JtYWwuc2NhbGUoLWhhbGZEaXN0LCBlcS5yaik7XG4gIH1cblxufVxuXG4vKipcclxuICogTG9jayBjb25zdHJhaW50LiBXaWxsIHJlbW92ZSBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGJvZGllcy5cclxuICogQGNsYXNzIExvY2tDb25zdHJhaW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcclxuICovXG5jbGFzcyBMb2NrQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsgLy8gU2V0IHBpdm90IHBvaW50IGluIGJldHdlZW5cblxuICAgIGNvbnN0IHBpdm90QSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGl2b3RCID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBoYWxmV2F5ID0gbmV3IFZlYzMoKTtcbiAgICBib2R5QS5wb3NpdGlvbi52YWRkKGJvZHlCLnBvc2l0aW9uLCBoYWxmV2F5KTtcbiAgICBoYWxmV2F5LnNjYWxlKDAuNSwgaGFsZldheSk7XG4gICAgYm9keUIucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RCKTtcbiAgICBib2R5QS5wb2ludFRvTG9jYWxGcmFtZShoYWxmV2F5LCBwaXZvdEEpOyAvLyBUaGUgcG9pbnQtdG8tcG9pbnQgY29uc3RyYWludCB3aWxsIGtlZXAgYSBwb2ludCBzaGFyZWQgYmV0d2VlbiB0aGUgYm9kaWVzXG5cbiAgICBzdXBlcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSk7IC8vIFN0b3JlIGluaXRpYWwgcm90YXRpb24gb2YgdGhlIGJvZGllcyBhcyB1bml0IHZlY3RvcnMgaW4gdGhlIGxvY2FsIGJvZHkgc3BhY2VzXG5cbiAgICB0aGlzLnhBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9YKTtcbiAgICB0aGlzLnhCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9YKTtcbiAgICB0aGlzLnlBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9ZKTtcbiAgICB0aGlzLnlCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9ZKTtcbiAgICB0aGlzLnpBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTtcbiAgICB0aGlzLnpCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsgLy8gLi4uYW5kIHRoZSBmb2xsb3dpbmcgcm90YXRpb25hbCBlcXVhdGlvbnMgd2lsbCBrZWVwIGFsbCByb3RhdGlvbmFsIERPRidzIGluIHBsYWNlXG5cbiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCByMyA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMyA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHIxLCByMiwgcjMpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb247XG4gICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjE7XG4gICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI7XG4gICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM7XG4gICAgc3VwZXIudXBkYXRlKCk7IC8vIFRoZXNlIHZlY3RvciBwYWlycyBtdXN0IGJlIG9ydGhvZ29uYWxcblxuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhBLCByMS5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUIsIHIxLmF4aXNCKTtcbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QSwgcjIuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpCLCByMi5heGlzQik7XG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuekEsIHIzLmF4aXNBKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QiwgcjMuYXhpc0IpO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIFJvdGF0aW9uYWwgbW90b3IgY29uc3RyYWludC4gVHJpZXMgdG8ga2VlcCB0aGUgcmVsYXRpdmUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgYm9kaWVzIHRvIGEgZ2l2ZW4gdmFsdWUuXHJcbiAqIEBjbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvblxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIC8vIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy5cbiAgLy8gV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLlxuICAvLyBNb3RvciB2ZWxvY2l0eS5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5heGlzQiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy50YXJnZXRWZWxvY2l0eSA9IDA7XG4gIH1cblxuICBjb21wdXRlQihoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gZyA9IDBcbiAgICAvLyBnZG90ID0gYXhpc0EgKiB3aSAtIGF4aXNCICogd2pcbiAgICAvLyBnZG90ID0gRyAqIFcgPSBHICogW3ZpIHdpIHZqIHdqXVxuICAgIC8vID0+XG4gICAgLy8gRyA9IFswIGF4aXNBIDAgLWF4aXNCXVxuXG4gICAgR0Eucm90YXRpb25hbC5jb3B5KGF4aXNBKTtcbiAgICBheGlzQi5uZWdhdGUoR0Iucm90YXRpb25hbCk7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpIC0gdGhpcy50YXJnZXRWZWxvY2l0eTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIGNvbnN0IEIgPSAtR1cgKiBiIC0gaCAqIEdpTWY7XG4gICAgcmV0dXJuIEI7XG4gIH1cblxufVxuXG4vKipcclxuICogSGluZ2UgY29uc3RyYWludC4gVGhpbmsgb2YgaXQgYXMgYSBkb29yIGhpbmdlLiBJdCB0cmllcyB0byBrZWVwIHRoZSBkb29yIGluIHRoZSBjb3JyZWN0IHBsYWNlIGFuZCB3aXRoIHRoZSBjb3JyZWN0IG9yaWVudGF0aW9uLlxyXG4gKiBAY2xhc3MgSGluZ2VDb25zdHJhaW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXSBBIHBvaW50IGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4gVGhpcyBkZWZpbmVzIHRoZSBvZmZzZXQgb2YgYXhpc0EuXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIEFuIGF4aXMgdGhhdCBib2R5QSBjYW4gcm90YXRlIGFyb3VuZCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90Ql1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl1cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl1cclxuICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludFxyXG4gKi9cbmNsYXNzIEhpbmdlQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQge1xuICAvLyBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuXG4gIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7XG4gICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTtcbiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7XG4gICAgYXhpc0Eubm9ybWFsaXplKCk7XG4gICAgY29uc3QgYXhpc0IgPSB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApO1xuICAgIGF4aXNCLm5vcm1hbGl6ZSgpO1xuICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuICAgIGNvbnN0IHJvdGF0aW9uYWwxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UpO1xuICAgIG1vdG9yLmVuYWJsZWQgPSBmYWxzZTsgLy8gTm90IGVuYWJsZWQgYnkgZGVmYXVsdFxuICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlclxuXG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChyb3RhdGlvbmFsMSwgcm90YXRpb25hbDIsIG1vdG9yKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGVuYWJsZU1vdG9yXHJcbiAgICovXG5cblxuICBlbmFibGVNb3RvcigpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3JcclxuICAgKi9cblxuXG4gIGRpc2FibGVNb3RvcigpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0TW90b3JTcGVlZFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFxyXG4gICAqL1xuXG5cbiAgc2V0TW90b3JTcGVlZChzcGVlZCkge1xuICAgIHRoaXMubW90b3JFcXVhdGlvbi50YXJnZXRWZWxvY2l0eSA9IHNwZWVkO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0TW90b3JNYXhGb3JjZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhGb3JjZVxyXG4gICAqL1xuXG5cbiAgc2V0TW90b3JNYXhGb3JjZShtYXhGb3JjZSkge1xuICAgIHRoaXMubW90b3JFcXVhdGlvbi5tYXhGb3JjZSA9IG1heEZvcmNlO1xuICAgIHRoaXMubW90b3JFcXVhdGlvbi5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uO1xuICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xO1xuICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yO1xuICAgIGNvbnN0IHdvcmxkQXhpc0EgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzE7XG4gICAgY29uc3Qgd29ybGRBeGlzQiA9IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMjtcbiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7XG4gICAgY29uc3QgYXhpc0IgPSB0aGlzLmF4aXNCO1xuICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBHZXQgd29ybGQgYXhlc1xuXG4gICAgYm9keUEucXVhdGVybmlvbi52bXVsdChheGlzQSwgd29ybGRBeGlzQSk7XG4gICAgYm9keUIucXVhdGVybmlvbi52bXVsdChheGlzQiwgd29ybGRBeGlzQik7XG4gICAgd29ybGRBeGlzQS50YW5nZW50cyhyMS5heGlzQSwgcjIuYXhpc0EpO1xuICAgIHIxLmF4aXNCLmNvcHkod29ybGRBeGlzQik7XG4gICAgcjIuYXhpc0IuY29weSh3b3JsZEF4aXNCKTtcblxuICAgIGlmICh0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCkge1xuICAgICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNBLCBtb3Rvci5heGlzQSk7XG4gICAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMuYXhpc0IsIG1vdG9yLmF4aXNCKTtcbiAgICB9XG4gIH1cblxufVxuY29uc3QgSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxID0gbmV3IFZlYzMoKTtcbmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMiA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBDb25zdHJhaW5zIHRoZSBzbGlwcGluZyBpbiBhIGNvbnRhY3QgYWxvbmcgYSB0YW5nZW50XHJcbiAqIEBjbGFzcyBGcmljdGlvbkVxdWF0aW9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge051bWJlcn0gc2xpcEZvcmNlIHNob3VsZCBiZSArLUZfZnJpY3Rpb24gPSArLW11ICogRl9ub3JtYWwgPSArLW11ICogbSAqIGdcclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBGcmljdGlvbkVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBUYW5nZW50LlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIHNsaXBGb3JjZSkge1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLXNsaXBGb3JjZSwgc2xpcEZvcmNlKTtcbiAgICB0aGlzLnJpID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnQgPSBuZXcgVmVjMygpO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHJpID0gdGhpcy5yaTtcbiAgICBjb25zdCByaiA9IHRoaXMucmo7XG4gICAgY29uc3Qgcml4dCA9IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDE7XG4gICAgY29uc3Qgcmp4dCA9IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDI7XG4gICAgY29uc3QgdCA9IHRoaXMudDsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICByaS5jcm9zcyh0LCByaXh0KTtcbiAgICByai5jcm9zcyh0LCByanh0KTsgLy8gRyA9IFstdCAtcml4dCB0IHJqeHRdXG4gICAgLy8gQW5kIHJlbWVtYmVyLCB0aGlzIGlzIGEgcHVyZSB2ZWxvY2l0eSBjb25zdHJhaW50LCBnIGlzIGFsd2F5cyB6ZXJvIVxuXG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgdC5uZWdhdGUoR0Euc3BhdGlhbCk7XG4gICAgcml4dC5uZWdhdGUoR0Eucm90YXRpb25hbCk7XG4gICAgR0Iuc3BhdGlhbC5jb3B5KHQpO1xuICAgIEdCLnJvdGF0aW9uYWwuY29weShyanh0KTtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cbmNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpO1xuY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuXG4gKiBAY2xhc3MgQ29udGFjdE1hdGVyaWFsXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBtMlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM11cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yZXN0aXR1dGlvbj0wLjNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzPTFlN11cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcz0xZTddXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb249M11cbiAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQlxuICovXG5jbGFzcyBDb250YWN0TWF0ZXJpYWwge1xuICAvLyBJZGVudGlmaWVyIG9mIHRoaXMgbWF0ZXJpYWwuXG4gIC8vIFBhcnRpY2lwYXRpbmcgbWF0ZXJpYWxzLlxuICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC5cbiAgLy8gUmVzdGl0dXRpb24gY29lZmZpY2llbnQuXG4gIC8vIFN0aWZmbmVzcyBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuXG4gIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuXG4gIC8vIFN0aWZmbmVzcyBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zLlxuICAvLyBSZWxheGF0aW9uIHRpbWUgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9uc1xuICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgZnJpY3Rpb246IDAuMyxcbiAgICAgIHJlc3RpdHV0aW9uOiAwLjMsXG4gICAgICBjb250YWN0RXF1YXRpb25TdGlmZm5lc3M6IDFlNyxcbiAgICAgIGNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb246IDMsXG4gICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsXG4gICAgICBmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjogM1xuICAgIH0pO1xuICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7XG4gICAgdGhpcy5tYXRlcmlhbHMgPSBbbTEsIG0yXTtcbiAgICB0aGlzLmZyaWN0aW9uID0gb3B0aW9ucy5mcmljdGlvbjtcbiAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjtcbiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzO1xuICAgIHRoaXMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiA9IG9wdGlvbnMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb247XG4gIH1cblxufVxuQ29udGFjdE1hdGVyaWFsLmlkQ291bnRlciA9IDA7XG5cbi8qKlxyXG4gKiBEZWZpbmVzIGEgcGh5c2ljcyBtYXRlcmlhbC5cclxuICogQGNsYXNzIE1hdGVyaWFsXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICovXG5jbGFzcyBNYXRlcmlhbCB7XG4gIC8vIE1hdGVyaWFsIG5hbWUuXG4gIC8vIE1hdGVyaWFsIGlkLlxuICAvLyBGcmljdGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4gSWYgbm9uLW5lZ2F0aXZlLCBpdCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgZnJpY3Rpb24gZ2l2ZW4gYnkgQ29udGFjdE1hdGVyaWFscy4gSWYgdGhlcmUncyBubyBtYXRjaGluZyBDb250YWN0TWF0ZXJpYWwsIHRoZSB2YWx1ZSBmcm9tIC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuXG4gIC8vIFJlc3RpdHV0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSByZXN0aXR1dGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IG5hbWUgPSAnJzsgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZml4XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKztcbiAgICB0aGlzLmZyaWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuZnJpY3Rpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5mcmljdGlvbiA6IC0xO1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5yZXN0aXR1dGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnJlc3RpdHV0aW9uIDogLTE7XG4gIH1cblxufVxuTWF0ZXJpYWwuaWRDb3VudGVyID0gMDtcblxuLyoqXHJcbiAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuXHJcbiAqXHJcbiAqIEBjbGFzcyBTcHJpbmdcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0TGVuZ3RoXSAgIEEgbnVtYmVyID4gMC4gRGVmYXVsdDogMVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RpZmZuZXNzXSAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxMDBcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmddICAgICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMVxyXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckJdXHJcbiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLmxvY2FsQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gbG9jYWwgYm9keSBjb29yZGluYXRlcy5cclxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JCXVxyXG4gKi9cbmNsYXNzIFNwcmluZyB7XG4gIC8vIFJlc3QgbGVuZ3RoIG9mIHRoZSBzcHJpbmcuXG4gIC8vIFN0aWZmbmVzcyBvZiB0aGUgc3ByaW5nLlxuICAvLyBEYW1waW5nIG9mIHRoZSBzcHJpbmcuXG4gIC8vIEZpcnN0IGNvbm5lY3RlZCBib2R5LlxuICAvLyBTZWNvbmQgY29ubmVjdGVkIGJvZHkuXG4gIC8vIEFuY2hvciBmb3IgYm9keUEgaW4gbG9jYWwgYm9keUEgY29vcmRpbmF0ZXMuXG4gIC8vIEFuY2hvciBmb3IgYm9keUIgaW4gbG9jYWwgYm9keUIgY29vcmRpbmF0ZXMuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5yZXN0TGVuZ3RoID0gdHlwZW9mIG9wdGlvbnMucmVzdExlbmd0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnJlc3RMZW5ndGggOiAxO1xuICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3MgfHwgMTAwO1xuICAgIHRoaXMuZGFtcGluZyA9IG9wdGlvbnMuZGFtcGluZyB8fCAxO1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcbiAgICB0aGlzLmJvZHlCID0gYm9keUI7XG4gICAgdGhpcy5sb2NhbEFuY2hvckEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMubG9jYWxBbmNob3JCID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQSkge1xuICAgICAgdGhpcy5sb2NhbEFuY2hvckEuY29weShvcHRpb25zLmxvY2FsQW5jaG9yQSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JCKSB7XG4gICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckEpIHtcbiAgICAgIHRoaXMuc2V0V29ybGRBbmNob3JBKG9wdGlvbnMud29ybGRBbmNob3JBKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckIpIHtcbiAgICAgIHRoaXMuc2V0V29ybGRBbmNob3JCKG9wdGlvbnMud29ybGRBbmNob3JCKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy5cclxuICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQVxyXG4gICAqIEBwYXJhbSB7VmVjM30gd29ybGRBbmNob3JBXHJcbiAgICovXG5cblxuICBzZXRXb3JsZEFuY2hvckEod29ybGRBbmNob3JBKSB7XG4gICAgdGhpcy5ib2R5QS5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckEsIHRoaXMubG9jYWxBbmNob3JBKTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JCXHJcbiAgICogQHBhcmFtIHtWZWMzfSB3b3JsZEFuY2hvckJcclxuICAgKi9cblxuXG4gIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHtcbiAgICB0aGlzLmJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkQW5jaG9yQiwgdGhpcy5sb2NhbEFuY2hvckIpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckFcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uXHJcbiAgICovXG5cblxuICBnZXRXb3JsZEFuY2hvckEocmVzdWx0KSB7XG4gICAgdGhpcy5ib2R5QS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQSwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCXHJcbiAgICogQHBhcmFtIHtWZWMzfSByZXN1bHQgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqL1xuXG5cbiAgZ2V0V29ybGRBbmNob3JCKHJlc3VsdCkge1xuICAgIHRoaXMuYm9keUIucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHJlc3VsdCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy5cclxuICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2VcclxuICAgKi9cblxuXG4gIGFwcGx5Rm9yY2UoKSB7XG4gICAgY29uc3QgayA9IHRoaXMuc3RpZmZuZXNzO1xuICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7XG4gICAgY29uc3QgbCA9IHRoaXMucmVzdExlbmd0aDtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IHIgPSBhcHBseUZvcmNlX3I7XG4gICAgY29uc3Qgcl91bml0ID0gYXBwbHlGb3JjZV9yX3VuaXQ7XG4gICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTtcbiAgICBjb25zdCBmID0gYXBwbHlGb3JjZV9mO1xuICAgIGNvbnN0IHRtcCA9IGFwcGx5Rm9yY2VfdG1wO1xuICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBO1xuICAgIGNvbnN0IHdvcmxkQW5jaG9yQiA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCO1xuICAgIGNvbnN0IHJpID0gYXBwbHlGb3JjZV9yaTtcbiAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7XG4gICAgY29uc3QgcmlfeF9mID0gYXBwbHlGb3JjZV9yaV94X2Y7XG4gICAgY29uc3QgcmpfeF9mID0gYXBwbHlGb3JjZV9yal94X2Y7IC8vIEdldCB3b3JsZCBhbmNob3JzXG5cbiAgICB0aGlzLmdldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpO1xuICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7IC8vIEdldCBvZmZzZXQgcG9pbnRzXG5cbiAgICB3b3JsZEFuY2hvckEudnN1Yihib2R5QS5wb3NpdGlvbiwgcmkpO1xuICAgIHdvcmxkQW5jaG9yQi52c3ViKGJvZHlCLnBvc2l0aW9uLCByaik7IC8vIENvbXB1dGUgZGlzdGFuY2UgdmVjdG9yIGJldHdlZW4gd29ybGQgYW5jaG9yIHBvaW50c1xuXG4gICAgd29ybGRBbmNob3JCLnZzdWIod29ybGRBbmNob3JBLCByKTtcbiAgICBjb25zdCBybGVuID0gci5sZW5ndGgoKTtcbiAgICByX3VuaXQuY29weShyKTtcbiAgICByX3VuaXQubm9ybWFsaXplKCk7IC8vIENvbXB1dGUgcmVsYXRpdmUgdmVsb2NpdHkgb2YgdGhlIGFuY2hvciBwb2ludHMsIHVcblxuICAgIGJvZHlCLnZlbG9jaXR5LnZzdWIoYm9keUEudmVsb2NpdHksIHUpOyAvLyBBZGQgcm90YXRpb25hbCB2ZWxvY2l0eVxuXG4gICAgYm9keUIuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJqLCB0bXApO1xuICAgIHUudmFkZCh0bXAsIHUpO1xuICAgIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaSwgdG1wKTtcbiAgICB1LnZzdWIodG1wLCB1KTsgLy8gRiA9IC0gayAqICggeCAtIEwgKSAtIEQgKiAoIHUgKVxuXG4gICAgcl91bml0LnNjYWxlKC1rICogKHJsZW4gLSBsKSAtIGQgKiB1LmRvdChyX3VuaXQpLCBmKTsgLy8gQWRkIGZvcmNlcyB0byBib2RpZXNcblxuICAgIGJvZHlBLmZvcmNlLnZzdWIoZiwgYm9keUEuZm9yY2UpO1xuICAgIGJvZHlCLmZvcmNlLnZhZGQoZiwgYm9keUIuZm9yY2UpOyAvLyBBbmd1bGFyIGZvcmNlXG5cbiAgICByaS5jcm9zcyhmLCByaV94X2YpO1xuICAgIHJqLmNyb3NzKGYsIHJqX3hfZik7XG4gICAgYm9keUEudG9ycXVlLnZzdWIocmlfeF9mLCBib2R5QS50b3JxdWUpO1xuICAgIGJvZHlCLnRvcnF1ZS52YWRkKHJqX3hfZiwgYm9keUIudG9ycXVlKTtcbiAgfVxuXG59XG5jb25zdCBhcHBseUZvcmNlX3IgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yX3VuaXQgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV91ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfcmogPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yaV94X2YgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yal94X2YgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV90bXAgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQGNsYXNzIFdoZWVsSW5mb1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGRdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uTG9jYWxdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uV29ybGRdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhsZUxvY2FsXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4bGVXb3JsZF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25SZXN0TGVuZ3RoPTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoPTJdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yYWRpdXM9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M9MTAwXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ0NvbXByZXNzaW9uPTEwXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb249MTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvblNsaXA9MTAwMDBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGVlcmluZz0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm90YXRpb249MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRlbHRhUm90YXRpb249MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJvbGxJbmZsdWVuY2U9MC4wMV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25Gb3JjZV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc0Zyb250V2hlZWw9dHJ1ZV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbj0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk9MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25Gb3JjZT0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2tpZEluZm89MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25MZW5ndGg9MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw9MV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPWZhbHNlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD0tMC4xXVxyXG4gKi9cbmNsYXNzIFdoZWVsSW5mbyB7XG4gIC8vIE1heCB0cmF2ZWwgZGlzdGFuY2Ugb2YgdGhlIHN1c3BlbnNpb24sIGluIG1ldGVycy5cbiAgLy8gU3BlZWQgdG8gYXBwbHkgdG8gdGhlIHdoZWVsIHJvdGF0aW9uIHdoZW4gdGhlIHdoZWVsIGlzIHNsaWRpbmcuXG4gIC8vIElmIHRoZSBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkIHNob3VsZCBiZSB1c2VkLlxuICAvLyBDb25uZWN0aW9uIHBvaW50LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGNoYXNzaXMgYm9keSBmcmFtZS5cbiAgLy8gUm90YXRpb24gdmFsdWUsIGluIHJhZGlhbnMuXG4gIC8vIFRoZSByZXN1bHQgZnJvbSByYXljYXN0aW5nLlxuICAvLyBXaGVlbCB3b3JsZCB0cmFuc2Zvcm0uXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWw6IG5ldyBWZWMzKCksXG4gICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBkaXJlY3Rpb25Mb2NhbDogbmV3IFZlYzMoKSxcbiAgICAgIGRpcmVjdGlvbldvcmxkOiBuZXcgVmVjMygpLFxuICAgICAgYXhsZUxvY2FsOiBuZXcgVmVjMygpLFxuICAgICAgYXhsZVdvcmxkOiBuZXcgVmVjMygpLFxuICAgICAgc3VzcGVuc2lvblJlc3RMZW5ndGg6IDEsXG4gICAgICBzdXNwZW5zaW9uTWF4TGVuZ3RoOiAyLFxuICAgICAgcmFkaXVzOiAxLFxuICAgICAgc3VzcGVuc2lvblN0aWZmbmVzczogMTAwLFxuICAgICAgZGFtcGluZ0NvbXByZXNzaW9uOiAxMCxcbiAgICAgIGRhbXBpbmdSZWxheGF0aW9uOiAxMCxcbiAgICAgIGZyaWN0aW9uU2xpcDogMTAwMDAsXG4gICAgICBzdGVlcmluZzogMCxcbiAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgZGVsdGFSb3RhdGlvbjogMCxcbiAgICAgIHJvbGxJbmZsdWVuY2U6IDAuMDEsXG4gICAgICBtYXhTdXNwZW5zaW9uRm9yY2U6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICBpc0Zyb250V2hlZWw6IHRydWUsXG4gICAgICBjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb246IDEsXG4gICAgICBzdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTogMCxcbiAgICAgIHN1c3BlbnNpb25Gb3JjZTogMCxcbiAgICAgIHNsaXBJbmZvOiAwLFxuICAgICAgc2tpZEluZm86IDAsXG4gICAgICBzdXNwZW5zaW9uTGVuZ3RoOiAwLFxuICAgICAgbWF4U3VzcGVuc2lvblRyYXZlbDogMSxcbiAgICAgIHVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ6IGZhbHNlLFxuICAgICAgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDogLTAuMVxuICAgIH0pO1xuICAgIHRoaXMubWF4U3VzcGVuc2lvblRyYXZlbCA9IG9wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbDtcbiAgICB0aGlzLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgPSBvcHRpb25zLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ7XG4gICAgdGhpcy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkID0gb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkO1xuICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsID0gb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwuY2xvbmUoKTtcbiAgICB0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCA9IG9wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLmNsb25lKCk7XG4gICAgdGhpcy5kaXJlY3Rpb25Mb2NhbCA9IG9wdGlvbnMuZGlyZWN0aW9uTG9jYWwuY2xvbmUoKTtcbiAgICB0aGlzLmRpcmVjdGlvbldvcmxkID0gb3B0aW9ucy5kaXJlY3Rpb25Xb3JsZC5jbG9uZSgpO1xuICAgIHRoaXMuYXhsZUxvY2FsID0gb3B0aW9ucy5heGxlTG9jYWwuY2xvbmUoKTtcbiAgICB0aGlzLmF4bGVXb3JsZCA9IG9wdGlvbnMuYXhsZVdvcmxkLmNsb25lKCk7XG4gICAgdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aCA9IG9wdGlvbnMuc3VzcGVuc2lvblJlc3RMZW5ndGg7XG4gICAgdGhpcy5zdXNwZW5zaW9uTWF4TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoO1xuICAgIHRoaXMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXM7XG4gICAgdGhpcy5zdXNwZW5zaW9uU3RpZmZuZXNzID0gb3B0aW9ucy5zdXNwZW5zaW9uU3RpZmZuZXNzO1xuICAgIHRoaXMuZGFtcGluZ0NvbXByZXNzaW9uID0gb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb247XG4gICAgdGhpcy5kYW1waW5nUmVsYXhhdGlvbiA9IG9wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb247XG4gICAgdGhpcy5mcmljdGlvblNsaXAgPSBvcHRpb25zLmZyaWN0aW9uU2xpcDtcbiAgICB0aGlzLnN0ZWVyaW5nID0gMDtcbiAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwO1xuICAgIHRoaXMucm9sbEluZmx1ZW5jZSA9IG9wdGlvbnMucm9sbEluZmx1ZW5jZTtcbiAgICB0aGlzLm1heFN1c3BlbnNpb25Gb3JjZSA9IG9wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlO1xuICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgIHRoaXMuYnJha2UgPSAwO1xuICAgIHRoaXMuaXNGcm9udFdoZWVsID0gb3B0aW9ucy5pc0Zyb250V2hlZWw7XG4gICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxO1xuICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICB0aGlzLnNsaXBJbmZvID0gMDtcbiAgICB0aGlzLnNraWRJbmZvID0gMDtcbiAgICB0aGlzLnN1c3BlbnNpb25MZW5ndGggPSAwO1xuICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwO1xuICAgIHRoaXMuZm9yd2FyZEltcHVsc2UgPSAwO1xuICAgIHRoaXMucmF5Y2FzdFJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLmlzSW5Db250YWN0ID0gZmFsc2U7XG4gIH1cblxuICB1cGRhdGVXaGVlbChjaGFzc2lzKSB7XG4gICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDtcblxuICAgIGlmICh0aGlzLmlzSW5Db250YWN0KSB7XG4gICAgICBjb25zdCBwcm9qZWN0ID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QocmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgICByYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzLnBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY2hhc3Npcy5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyZWxwb3MsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcbiAgICAgIGNvbnN0IHByb2pWZWwgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7XG5cbiAgICAgIGlmIChwcm9qZWN0ID49IC0wLjEpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnYgPSAtMSAvIHByb2plY3Q7XG4gICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52O1xuICAgICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IGludjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90IGluIGNvbnRhY3QgOiBwb3NpdGlvbiB3aGVlbCBpbiBhIG5pY2UgKHJlc3QgbGVuZ3RoKSBwb3NpdGlvblxuICAgICAgcmF5Y2FzdFJlc3VsdC5zdXNwZW5zaW9uTGVuZ3RoID0gdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7XG4gICAgICByYXljYXN0UmVzdWx0LmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTtcbiAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gMS4wO1xuICAgIH1cbiAgfVxuXG59XG5jb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCByZWxwb3MgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogVmVoaWNsZSBoZWxwZXIgY2xhc3MgdGhhdCBjYXN0cyByYXlzIGZyb20gdGhlIHdoZWVsIHBvc2l0aW9ucyB0b3dhcmRzIHRoZSBncm91bmQgYW5kIGFwcGxpZXMgZm9yY2VzLlxyXG4gKiBAY2xhc3MgUmF5Y2FzdFZlaGljbGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5jaGFzc2lzQm9keV0gVGhlIGNhciBjaGFzc2lzIGJvZHkuXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhSaWdodEF4aXNdIEF4aXMgdG8gdXNlIGZvciByaWdodC4geD0wLCB5PTEsIHo9MlxyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4TGVmdEF4aXNdXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhVcEF4aXNdXHJcbiAqL1xuY2xhc3MgUmF5Y2FzdFZlaGljbGUge1xuICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy5cbiAgLy8gSW5kZXggb2YgdGhlIHJpZ2h0IGF4aXMsIDA9eCwgMT15LCAyPXpcbiAgLy8gSW5kZXggb2YgdGhlIGZvcndhcmQgYXhpcywgMD14LCAxPXksIDI9elxuICAvLyBJbmRleCBvZiB0aGUgdXAgYXhpcywgMD14LCAxPXksIDI9elxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jaGFzc2lzQm9keSA9IG9wdGlvbnMuY2hhc3Npc0JvZHk7XG4gICAgdGhpcy53aGVlbEluZm9zID0gW107XG4gICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy5pbmRleFJpZ2h0QXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4UmlnaHRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgOiAxO1xuICAgIHRoaXMuaW5kZXhGb3J3YXJkQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzIDogMDtcbiAgICB0aGlzLmluZGV4VXBBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhVcEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleFVwQXhpcyA6IDI7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IFtdO1xuXG4gICAgdGhpcy5wcmVTdGVwQ2FsbGJhY2sgPSAoKSA9PiB7fTtcblxuICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgd2hlZWwuIEZvciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb3B0aW9ucywgc2VlIFdoZWVsSW5mby5cclxuICAgKiBAbWV0aG9kIGFkZFdoZWVsXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xuXG5cbiAgYWRkV2hlZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgaW5mbyA9IG5ldyBXaGVlbEluZm8ob3B0aW9ucyk7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLndoZWVsSW5mb3MubGVuZ3RoO1xuICAgIHRoaXMud2hlZWxJbmZvcy5wdXNoKGluZm8pO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHN0ZWVyaW5nIHZhbHVlIG9mIGEgd2hlZWwuXHJcbiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07XG4gICAgd2hlZWwuc3RlZXJpbmcgPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHdoZWVsIGZvcmNlIHRvIGFwcGx5IG9uIG9uZSBvZiB0aGUgd2hlZWxzIGVhY2ggdGltZSBzdGVwXHJcbiAgICogQG1ldGhvZCBhcHBseUVuZ2luZUZvcmNlXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGFwcGx5RW5naW5lRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uZW5naW5lRm9yY2UgPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGJyYWtpbmcgZm9yY2Ugb2YgYSB3aGVlbFxyXG4gICAqIEBtZXRob2Qgc2V0QnJha2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYnJha2VcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIHNldEJyYWtlKGJyYWtlLCB3aGVlbEluZGV4KSB7XG4gICAgdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLmJyYWtlID0gYnJha2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkVG9Xb3JsZFxyXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAgICovXG5cblxuICBhZGRUb1dvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIHdvcmxkLmFkZEJvZHkodGhpcy5jaGFzc2lzQm9keSk7XG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIHRoYXQudXBkYXRlVmVoaWNsZSh3b3JsZC5kdCk7XG4gICAgfTtcblxuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBvbmUgb2YgdGhlIHdoZWVsIGF4bGVzLCB3b3JsZC1vcmllbnRlZC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBtZXRob2QgZ2V0VmVoaWNsZUF4aXNXb3JsZFxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGF4aXNJbmRleFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqL1xuXG5cbiAgZ2V0VmVoaWNsZUF4aXNXb3JsZChheGlzSW5kZXgsIHJlc3VsdCkge1xuICAgIHJlc3VsdC5zZXQoYXhpc0luZGV4ID09PSAwID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMSA/IDEgOiAwLCBheGlzSW5kZXggPT09IDIgPyAxIDogMCk7XG4gICAgdGhpcy5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUocmVzdWx0LCByZXN1bHQpO1xuICB9XG5cbiAgdXBkYXRlVmVoaWNsZSh0aW1lU3RlcCkge1xuICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7XG4gICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgPSAzLjYgKiBjaGFzc2lzQm9keS52ZWxvY2l0eS5sZW5ndGgoKTtcbiAgICBjb25zdCBmb3J3YXJkV29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZvcndhcmRXb3JsZCk7XG5cbiAgICBpZiAoZm9yd2FyZFdvcmxkLmRvdChjaGFzc2lzQm9keS52ZWxvY2l0eSkgPCAwKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgKj0gLTE7XG4gICAgfSAvLyBzaW11bGF0ZSBzdXNwZW5zaW9uXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIHRoaXMuY2FzdFJheSh3aGVlbEluZm9zW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVN1c3BlbnNpb24odGltZVN0ZXApO1xuICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICAvL2FwcGx5IHN1c3BlbnNpb24gZm9yY2VcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGxldCBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2U7XG5cbiAgICAgIGlmIChzdXNwZW5zaW9uRm9yY2UgPiB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2UpIHtcbiAgICAgICAgc3VzcGVuc2lvbkZvcmNlID0gd2hlZWwubWF4U3VzcGVuc2lvbkZvcmNlO1xuICAgICAgfVxuXG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwLCBpbXB1bHNlKTtcbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbHBvcyk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVGcmljdGlvbih0aW1lU3RlcCk7XG4gICAgY29uc3QgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaiA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgZndkID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB2ZWwgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOyAvL2NvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7XG4gICAgICAvL3doZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpO1xuXG4gICAgICBjaGFzc2lzQm9keS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQsIHZlbCk7IC8vIEhhY2sgdG8gZ2V0IHRoZSByb3RhdGlvbiBpbiB0aGUgY29ycmVjdCBkaXJlY3Rpb25cblxuICAgICAgbGV0IG0gPSAxO1xuXG4gICAgICBzd2l0Y2ggKHRoaXMuaW5kZXhVcEF4aXMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG0gPSAtMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7XG4gICAgICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZ3ZCk7XG4gICAgICAgIGNvbnN0IHByb2ogPSBmd2QuZG90KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO1xuICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHByb2osIGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2opO1xuICAgICAgICBmd2QudnN1YihoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qLCBmd2QpO1xuICAgICAgICBjb25zdCBwcm9qMiA9IGZ3ZC5kb3QodmVsKTtcbiAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IG0gKiBwcm9qMiAqIHRpbWVTdGVwIC8gd2hlZWwucmFkaXVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoKHdoZWVsLnNsaWRpbmcgfHwgIXdoZWVsLmlzSW5Db250YWN0KSAmJiB3aGVlbC5lbmdpbmVGb3JjZSAhPT0gMCAmJiB3aGVlbC51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkKSB7XG4gICAgICAgIC8vIEFwcGx5IGN1c3RvbSByb3RhdGlvbiB3aGVuIGFjY2VsZXJhdGluZyBhbmQgc2xpZGluZ1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gKHdoZWVsLmVuZ2luZUZvcmNlID4gMCA/IDEgOiAtMSkgKiB3aGVlbC5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkICogdGltZVN0ZXA7XG4gICAgICB9IC8vIExvY2sgd2hlZWxzXG5cblxuICAgICAgaWYgKE1hdGguYWJzKHdoZWVsLmJyYWtlKSA+IE1hdGguYWJzKHdoZWVsLmVuZ2luZUZvcmNlKSkge1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gMDtcbiAgICAgIH1cblxuICAgICAgd2hlZWwucm90YXRpb24gKz0gd2hlZWwuZGVsdGFSb3RhdGlvbjsgLy8gVXNlIHRoZSBvbGQgdmFsdWVcblxuICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiAqPSAwLjk5OyAvLyBkYW1waW5nIG9mIHJvdGF0aW9uIHdoZW4gbm90IGluIGNvbnRhY3RcbiAgICB9XG4gIH1cblxuICB1cGRhdGVTdXNwZW5zaW9uKGRlbHRhVGltZSkge1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBjb25zdCBjaGFzc2lzTWFzcyA9IGNoYXNzaXNCb2R5Lm1hc3M7XG4gICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvcztcbiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDtcblxuICAgIGZvciAobGV0IHdfaXQgPSAwOyB3X2l0IDwgbnVtV2hlZWxzOyB3X2l0KyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1t3X2l0XTtcblxuICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7XG4gICAgICAgIGxldCBmb3JjZTsgLy8gU3ByaW5nXG5cbiAgICAgICAgY29uc3Qgc3VzcF9sZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICAgICAgY29uc3QgY3VycmVudF9sZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoO1xuICAgICAgICBjb25zdCBsZW5ndGhfZGlmZiA9IHN1c3BfbGVuZ3RoIC0gY3VycmVudF9sZW5ndGg7XG4gICAgICAgIGZvcmNlID0gd2hlZWwuc3VzcGVuc2lvblN0aWZmbmVzcyAqIGxlbmd0aF9kaWZmICogd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uOyAvLyBEYW1wZXJcblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRfcmVsX3ZlbCA9IHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5O1xuICAgICAgICBsZXQgc3VzcF9kYW1waW5nO1xuXG4gICAgICAgIGlmIChwcm9qZWN0ZWRfcmVsX3ZlbCA8IDApIHtcbiAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nQ29tcHJlc3Npb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VzcF9kYW1waW5nID0gd2hlZWwuZGFtcGluZ1JlbGF4YXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBmb3JjZSAtPSBzdXNwX2RhbXBpbmcgKiBwcm9qZWN0ZWRfcmVsX3ZlbDtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gZm9yY2UgKiBjaGFzc2lzTWFzcztcblxuICAgICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkZvcmNlIDwgMCkge1xuICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIGZyb20gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIHJlbW92ZUZyb21Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICB3b3JsZC5yZW1vdmVCb2R5KHRoaXMuY2hhc3Npc0JvZHkpO1xuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gIH1cblxuICBjYXN0UmF5KHdoZWVsKSB7XG4gICAgY29uc3QgcmF5dmVjdG9yID0gY2FzdFJheV9yYXl2ZWN0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7XG4gICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgbGV0IGRlcHRoID0gLTE7XG4gICAgY29uc3QgcmF5bGVuID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5yYWRpdXM7XG4gICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUocmF5bGVuLCByYXl2ZWN0b3IpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDtcbiAgICBzb3VyY2UudmFkZChyYXl2ZWN0b3IsIHRhcmdldCk7XG4gICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQ7XG4gICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHlcblxuICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBmYWxzZTsgLy8gQ2FzdCByYXkgYWdhaW5zdCB3b3JsZFxuXG4gICAgdGhpcy53b3JsZC5yYXlUZXN0KHNvdXJjZSwgdGFyZ2V0LCByYXljYXN0UmVzdWx0KTtcbiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IG9sZFN0YXRlO1xuICAgIGNvbnN0IG9iamVjdCA9IHJheWNhc3RSZXN1bHQuYm9keTtcbiAgICB3aGVlbC5yYXljYXN0UmVzdWx0Lmdyb3VuZE9iamVjdCA9IDA7XG5cbiAgICBpZiAob2JqZWN0KSB7XG4gICAgICBkZXB0aCA9IHJheWNhc3RSZXN1bHQuZGlzdGFuY2U7XG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgIHdoZWVsLmlzSW5Db250YWN0ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGhpdERpc3RhbmNlID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTtcbiAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsXG5cbiAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgICBjb25zdCBtYXhTdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsO1xuXG4gICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA8IG1pblN1c3BlbnNpb25MZW5ndGgpIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1pblN1c3BlbnNpb25MZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWF4U3VzcGVuc2lvbkxlbmd0aDtcbiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5yZXNldCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTtcbiAgICAgIGNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTtcbiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcblxuICAgICAgaWYgKGRlbm9taW5hdG9yID49IC0wLjEpIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxIC8gMC4xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW52ID0gLTEgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52O1xuICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vcHV0IHdoZWVsIGluZm8gYXMgaW4gcmVzdCBwb3NpdGlvblxuICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgMCAqIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTtcbiAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwdGg7XG4gIH1cblxuICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7XG4gICAgd2hlZWwuaXNJbkNvbnRhY3QgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpO1xuICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5kaXJlY3Rpb25Mb2NhbCwgd2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5heGxlTG9jYWwsIHdoZWVsLmF4bGVXb3JsZCk7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIG9uZSBvZiB0aGUgd2hlZWwgdHJhbnNmb3JtLlxyXG4gICAqIE5vdGUgd2hlbiByZW5kZXJpbmcgd2hlZWxzOiBkdXJpbmcgZWFjaCBzdGVwLCB3aGVlbCB0cmFuc2Zvcm1zIGFyZSB1cGRhdGVkIEJFRk9SRSB0aGUgY2hhc3NpczsgaWUuIHRoZWlyIHBvc2l0aW9uIGJlY29tZXMgaW52YWxpZCBhZnRlciB0aGUgc3RlcC4gVGh1cyB3aGVuIHlvdSByZW5kZXIgd2hlZWxzLCB5b3UgbXVzdCB1cGRhdGUgd2hlZWwgdHJhbnNmb3JtcyBiZWZvcmUgcmVuZGVyaW5nIHRoZW0uIFNlZSByYXljYXN0VmVoaWNsZSBkZW1vIGZvciBhbiBleGFtcGxlLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlV2hlZWxUcmFuc2Zvcm1cclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXggVGhlIHdoZWVsIGluZGV4IHRvIHVwZGF0ZS5cclxuICAgKi9cblxuXG4gIHVwZGF0ZVdoZWVsVHJhbnNmb3JtKHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCB1cCA9IHRtcFZlYzQ7XG4gICAgY29uc3QgcmlnaHQgPSB0bXBWZWM1O1xuICAgIGNvbnN0IGZ3ZCA9IHRtcFZlYzY7XG4gICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07XG4gICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTtcbiAgICB3aGVlbC5kaXJlY3Rpb25Mb2NhbC5zY2FsZSgtMSwgdXApO1xuICAgIHJpZ2h0LmNvcHkod2hlZWwuYXhsZUxvY2FsKTtcbiAgICB1cC5jcm9zcyhyaWdodCwgZndkKTtcbiAgICBmd2Qubm9ybWFsaXplKCk7XG4gICAgcmlnaHQubm9ybWFsaXplKCk7IC8vIFJvdGF0ZSBhcm91bmQgc3RlZXJpbmcgb3ZlciB0aGUgd2hlZWxBeGxlXG5cbiAgICBjb25zdCBzdGVlcmluZyA9IHdoZWVsLnN0ZWVyaW5nO1xuICAgIGNvbnN0IHN0ZWVyaW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICBzdGVlcmluZ09ybi5zZXRGcm9tQXhpc0FuZ2xlKHVwLCBzdGVlcmluZyk7XG4gICAgY29uc3Qgcm90YXRpbmdPcm4gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHJvdGF0aW5nT3JuLnNldEZyb21BeGlzQW5nbGUocmlnaHQsIHdoZWVsLnJvdGF0aW9uKTsgLy8gV29ybGQgcm90YXRpb24gb2YgdGhlIHdoZWVsXG5cbiAgICBjb25zdCBxID0gd2hlZWwud29ybGRUcmFuc2Zvcm0ucXVhdGVybmlvbjtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnF1YXRlcm5pb24ubXVsdChzdGVlcmluZ09ybiwgcSk7XG4gICAgcS5tdWx0KHJvdGF0aW5nT3JuLCBxKTtcbiAgICBxLm5vcm1hbGl6ZSgpOyAvLyB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgd2hlZWxcblxuICAgIGNvbnN0IHAgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICBwLmNvcHkod2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgIHAuc2NhbGUod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCwgcCk7XG4gICAgcC52YWRkKHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgcCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB3b3JsZCB0cmFuc2Zvcm0gb2Ygb25lIG9mIHRoZSB3aGVlbHNcclxuICAgKiBAbWV0aG9kIGdldFdoZWVsVHJhbnNmb3JtV29ybGRcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICogQHJldHVybiB7VHJhbnNmb3JtfVxyXG4gICAqL1xuXG5cbiAgZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbEluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS53b3JsZFRyYW5zZm9ybTtcbiAgfVxuXG4gIHVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKSB7XG4gICAgY29uc3Qgc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qID0gdXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qOyAvL2NhbGN1bGF0ZSB0aGUgaW1wdWxzZSwgc28gdGhhdCB0aGUgd2hlZWxzIGRvbid0IG1vdmUgc2lkZXdhcmRzXG5cbiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zO1xuICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoO1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBjb25zdCBmb3J3YXJkV1MgPSB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1M7XG4gICAgY29uc3QgYXhsZSA9IHVwZGF0ZUZyaWN0aW9uX2F4bGU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG4gICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7XG5cbiAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gMDtcbiAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gMDtcblxuICAgICAgaWYgKCFmb3J3YXJkV1NbaV0pIHtcbiAgICAgICAgZm9yd2FyZFdTW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFheGxlW2ldKSB7XG4gICAgICAgIGF4bGVbaV0gPSBuZXcgVmVjMygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTtcblxuICAgICAgaWYgKGdyb3VuZE9iamVjdCkge1xuICAgICAgICBjb25zdCBheGxlaSA9IGF4bGVbaV07XG4gICAgICAgIGNvbnN0IHdoZWVsVHJhbnMgPSB0aGlzLmdldFdoZWVsVHJhbnNmb3JtV29ybGQoaSk7IC8vIEdldCB3b3JsZCBheGxlXG5cbiAgICAgICAgd2hlZWxUcmFucy52ZWN0b3JUb1dvcmxkRnJhbWUoZGlyZWN0aW9uc1t0aGlzLmluZGV4UmlnaHRBeGlzXSwgYXhsZWkpO1xuICAgICAgICBjb25zdCBzdXJmTm9ybWFsV1MgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICBjb25zdCBwcm9qID0gYXhsZWkuZG90KHN1cmZOb3JtYWxXUyk7XG4gICAgICAgIHN1cmZOb3JtYWxXUy5zY2FsZShwcm9qLCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2opO1xuICAgICAgICBheGxlaS52c3ViKHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiwgYXhsZWkpO1xuICAgICAgICBheGxlaS5ub3JtYWxpemUoKTtcbiAgICAgICAgc3VyZk5vcm1hbFdTLmNyb3NzKGF4bGVpLCBmb3J3YXJkV1NbaV0pO1xuICAgICAgICBmb3J3YXJkV1NbaV0ubm9ybWFsaXplKCk7XG4gICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChjaGFzc2lzQm9keSwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBncm91bmRPYmplY3QsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgYXhsZWkpO1xuICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNpZGVGYWN0b3IgPSAxO1xuICAgIGNvbnN0IGZ3ZEZhY3RvciA9IDAuNTtcbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTtcbiAgICAgIGxldCByb2xsaW5nRnJpY3Rpb24gPSAwO1xuICAgICAgd2hlZWwuc2xpcEluZm8gPSAxO1xuXG4gICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlID0gMDtcbiAgICAgICAgY29uc3QgbWF4SW1wdWxzZSA9IHdoZWVsLmJyYWtlID8gd2hlZWwuYnJha2UgOiBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZTsgLy8gYnRXaGVlbENvbnRhY3RQb2ludCBjb250YWN0UHQoY2hhc3Npc0JvZHksZ3JvdW5kT2JqZWN0LHdoZWVsSW5mcmF5Y2FzdEluZm8uaGl0UG9pbnRXb3JsZCxmb3J3YXJkV1Nbd2hlZWxdLG1heEltcHVsc2UpO1xuICAgICAgICAvLyByb2xsaW5nRnJpY3Rpb24gPSBjYWxjUm9sbGluZ0ZyaWN0aW9uKGNvbnRhY3RQdCk7XG5cbiAgICAgICAgcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjaGFzc2lzQm9keSwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGZvcndhcmRXU1tpXSwgbWF4SW1wdWxzZSk7XG4gICAgICAgIHJvbGxpbmdGcmljdGlvbiArPSB3aGVlbC5lbmdpbmVGb3JjZSAqIHRpbWVTdGVwOyAvLyByb2xsaW5nRnJpY3Rpb24gPSAwO1xuXG4gICAgICAgIGNvbnN0IGZhY3RvciA9IG1heEltcHVsc2UgLyByb2xsaW5nRnJpY3Rpb247XG4gICAgICAgIHdoZWVsLnNsaXBJbmZvICo9IGZhY3RvcjtcbiAgICAgIH0gLy9zd2l0Y2ggYmV0d2VlbiBhY3RpdmUgcm9sbGluZyAodGhyb3R0bGUpLCBicmFraW5nIGFuZCBub24tYWN0aXZlIHJvbGxpbmcgZnJpY3Rpb24gKG50aHJvdHRsZS9icmVhaylcblxuXG4gICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7XG4gICAgICB3aGVlbC5za2lkSW5mbyA9IDE7XG5cbiAgICAgIGlmIChncm91bmRPYmplY3QpIHtcbiAgICAgICAgd2hlZWwuc2tpZEluZm8gPSAxO1xuICAgICAgICBjb25zdCBtYXhpbXAgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgKiB0aW1lU3RlcCAqIHdoZWVsLmZyaWN0aW9uU2xpcDtcbiAgICAgICAgY29uc3QgbWF4aW1wU2lkZSA9IG1heGltcDtcbiAgICAgICAgY29uc3QgbWF4aW1wU3F1YXJlZCA9IG1heGltcCAqIG1heGltcFNpZGU7XG4gICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gcm9sbGluZ0ZyaWN0aW9uOyAvL3doZWVsSW5mby5lbmdpbmVGb3JjZSogdGltZVN0ZXA7XG5cbiAgICAgICAgY29uc3QgeCA9IHdoZWVsLmZvcndhcmRJbXB1bHNlICogZndkRmFjdG9yO1xuICAgICAgICBjb25zdCB5ID0gd2hlZWwuc2lkZUltcHVsc2UgKiBzaWRlRmFjdG9yO1xuICAgICAgICBjb25zdCBpbXB1bHNlU3F1YXJlZCA9IHggKiB4ICsgeSAqIHk7XG4gICAgICAgIHdoZWVsLnNsaWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoaW1wdWxzZVNxdWFyZWQgPiBtYXhpbXBTcXVhcmVkKSB7XG4gICAgICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICB3aGVlbC5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBtYXhpbXAgLyBNYXRoLnNxcnQoaW1wdWxzZVNxdWFyZWQpO1xuICAgICAgICAgIHdoZWVsLnNraWRJbmZvICo9IGZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuXG4gICAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICAgIGlmICh3aGVlbC5za2lkSW5mbyA8IDEpIHtcbiAgICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlICo9IHdoZWVsLnNraWRJbmZvO1xuICAgICAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gd2hlZWwuc2tpZEluZm87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBhcHBseSB0aGUgaW1wdWxzZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgcmVsX3BvcyA9IG5ldyBWZWMzKCk7XG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVsX3Bvcyk7IC8vIGNhbm5vbnMgYXBwbHlpbXB1bHNlIGlzIHVzaW5nIHdvcmxkIGNvb3JkIGZvciB0aGUgcG9zaXRpb25cbiAgICAgIC8vcmVsX3Bvcy5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7XG5cbiAgICAgIGlmICh3aGVlbC5mb3J3YXJkSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBpbXB1bHNlID0gbmV3IFZlYzMoKTtcbiAgICAgICAgZm9yd2FyZFdTW2ldLnNjYWxlKHdoZWVsLmZvcndhcmRJbXB1bHNlLCBpbXB1bHNlKTtcbiAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbF9wb3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAod2hlZWwuc2lkZUltcHVsc2UgIT09IDApIHtcbiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgICAgICBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG4gICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGdyb3VuZE9iamVjdC5wb3NpdGlvbiwgcmVsX3BvczIpOyAvL3JlbF9wb3MyLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTtcblxuICAgICAgICBjb25zdCBzaWRlSW1wID0gbmV3IFZlYzMoKTtcbiAgICAgICAgYXhsZVtpXS5zY2FsZSh3aGVlbC5zaWRlSW1wdWxzZSwgc2lkZUltcCk7IC8vIFNjYWxlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBpbiB0aGUgdXAgZGlyZWN0aW9uIHdpdGggcm9sbEluZmx1ZW5jZS5cbiAgICAgICAgLy8gSWYgcm9sbEluZmx1ZW5jZSBpcyAxLCB0aGUgaW1wdWxzZSB3aWxsIGJlIGFwcGxpZWQgb24gdGhlIGhpdFBvaW50IChlYXN5IHRvIHJvbGwgb3ZlciksIGlmIGl0IGlzIHplcm8gaXQgd2lsbCBiZSBhcHBsaWVkIGluIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBjZW50ZXIgb2YgbWFzcyAobm90IGVhc3kgdG8gcm9sbCBvdmVyKS5cblxuICAgICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb0xvY2FsRnJhbWUocmVsX3BvcywgcmVsX3Bvcyk7XG4gICAgICAgIHJlbF9wb3NbJ3h5eidbdGhpcy5pbmRleFVwQXhpc11dICo9IHdoZWVsLnJvbGxJbmZsdWVuY2U7XG4gICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZWxfcG9zLCByZWxfcG9zKTtcbiAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MpOyAvL2FwcGx5IGZyaWN0aW9uIGltcHVsc2Ugb24gdGhlIGdyb3VuZFxuXG4gICAgICAgIHNpZGVJbXAuc2NhbGUoLTEsIHNpZGVJbXApO1xuICAgICAgICBncm91bmRPYmplY3QuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuY29uc3QgdG1wVmVjNCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWM1ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzYgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wUmF5ID0gbmV3IFJheSgpO1xuY29uc3QgY2FzdFJheV9yYXl2ZWN0b3IgPSBuZXcgVmVjMygpO1xuY29uc3QgY2FzdFJheV90YXJnZXQgPSBuZXcgVmVjMygpO1xuY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX3N1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiA9IG5ldyBWZWMzKCk7XG5jb25zdCB1cGRhdGVGcmljdGlvbl9heGxlID0gW107XG5jb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTtcbmNvbnN0IHNpZGVGcmljdGlvblN0aWZmbmVzczIgPSAxO1xuY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbCA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGNhbGNSb2xsaW5nRnJpY3Rpb24oYm9keTAsIGJvZHkxLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkLCBtYXhJbXB1bHNlKSB7XG4gIGxldCBqMSA9IDA7XG4gIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTtcbiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpO1xuXG4gIGNvbnN0IHZlbDEgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDE7XG4gIGNvbnN0IHZlbDIgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDI7XG4gIGNvbnN0IHZlbCA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsOyAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MC5wb3NpdGlvbiwgcmVsX3BvczEpO1xuICAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczIpO1xuXG4gIGJvZHkwLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMSk7XG4gIGJvZHkxLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMik7XG4gIHZlbDEudnN1Yih2ZWwyLCB2ZWwpO1xuICBjb25zdCB2cmVsID0gZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZC5kb3QodmVsKTtcbiAgY29uc3QgZGVub20wID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MCwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7XG4gIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpO1xuICBjb25zdCByZWxheGF0aW9uID0gMTtcbiAgY29uc3QgamFjRGlhZ0FCSW52ID0gcmVsYXhhdGlvbiAvIChkZW5vbTAgKyBkZW5vbTEpOyAvLyBjYWxjdWxhdGUgaiB0aGF0IG1vdmVzIHVzIHRvIHplcm8gcmVsYXRpdmUgdmVsb2NpdHlcblxuICBqMSA9IC12cmVsICogamFjRGlhZ0FCSW52O1xuXG4gIGlmIChtYXhJbXB1bHNlIDwgajEpIHtcbiAgICBqMSA9IG1heEltcHVsc2U7XG4gIH1cblxuICBpZiAoajEgPCAtbWF4SW1wdWxzZSkge1xuICAgIGoxID0gLW1heEltcHVsc2U7XG4gIH1cblxuICByZXR1cm4gajE7XG59XG5cbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfcjAgPSBuZXcgVmVjMygpO1xuY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX20gPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHksIHBvcywgbm9ybWFsKSB7XG4gIGNvbnN0IHIwID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9yMDtcbiAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwO1xuICBjb25zdCB2ZWMgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYztcbiAgY29uc3QgbSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfbTtcbiAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApO1xuICByMC5jcm9zcyhub3JtYWwsIGMwKTtcbiAgYm9keS5pbnZJbmVydGlhV29ybGQudm11bHQoYzAsIG0pO1xuICBtLmNyb3NzKHIwLCB2ZWMpO1xuICByZXR1cm4gYm9keS5pbnZNYXNzICsgbm9ybWFsLmRvdCh2ZWMpO1xufVxuXG5jb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDEgPSBuZXcgVmVjMygpO1xuY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsID0gbmV3IFZlYzMoKTsgLy9iaWxhdGVyYWwgY29uc3RyYWludCBiZXR3ZWVuIHR3byBkeW5hbWljIG9iamVjdHNcblxuZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChib2R5MSwgcG9zMSwgYm9keTIsIHBvczIsIG5vcm1hbCkge1xuICBjb25zdCBub3JtYWxMZW5TcXIgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpO1xuXG4gIGlmIChub3JtYWxMZW5TcXIgPiAxLjEpIHtcbiAgICByZXR1cm4gMDsgLy8gbm8gaW1wdWxzZVxuICB9IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTtcbiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpO1xuICAvLyBwb3MxLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MxKTtcbiAgLy8gcG9zMi52c3ViKGJvZHkyLnBvc2l0aW9uLCByZWxfcG9zMik7XG5cblxuICBjb25zdCB2ZWwxID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwxO1xuICBjb25zdCB2ZWwyID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyO1xuICBjb25zdCB2ZWwgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDtcbiAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMSwgdmVsMSk7XG4gIGJvZHkyLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHBvczIsIHZlbDIpO1xuICB2ZWwxLnZzdWIodmVsMiwgdmVsKTtcbiAgY29uc3QgcmVsX3ZlbCA9IG5vcm1hbC5kb3QodmVsKTtcbiAgY29uc3QgY29udGFjdERhbXBpbmcgPSAwLjI7XG4gIGNvbnN0IG1hc3NUZXJtID0gMSAvIChib2R5MS5pbnZNYXNzICsgYm9keTIuaW52TWFzcyk7XG4gIGNvbnN0IGltcHVsc2UgPSAtY29udGFjdERhbXBpbmcgKiByZWxfdmVsICogbWFzc1Rlcm07XG4gIHJldHVybiBpbXB1bHNlO1xufVxuXG4vKipcclxuICogU3BoZXJpY2FsIHNoYXBlXHJcbiAqIEBjbGFzcyBTcGhlcmVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgc3BoZXJlLCBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIFNwaGVyZSBleHRlbmRzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IocmFkaXVzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFXG4gICAgfSk7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXMgIT09IHVuZGVmaW5lZCA/IHJhZGl1cyA6IDEuMDtcblxuICAgIGlmICh0aGlzLnJhZGl1cyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNwaGVyZSByYWRpdXMgY2Fubm90IGJlIG5lZ2F0aXZlLicpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wO1xuICAgIHRhcmdldC54ID0gSTtcbiAgICB0YXJnZXQueSA9IEk7XG4gICAgdGFyZ2V0LnogPSBJO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiBNYXRoLnBvdyh0aGlzLnJhZGl1cywgMykgLyAzLjA7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5yYWRpdXM7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIGNvbnN0IHIgPSB0aGlzLnJhZGl1cztcbiAgICBjb25zdCBheGVzID0gWyd4JywgJ3knLCAneiddO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBheCA9IGF4ZXNbaV07XG4gICAgICBtaW5bYXhdID0gcG9zW2F4XSAtIHI7XG4gICAgICBtYXhbYXhdID0gcG9zW2F4XSArIHI7XG4gICAgfVxuICB9XG5cbn1cblxuLyoqXHJcbiAqIFNpbXBsZSB2ZWhpY2xlIGhlbHBlciBjbGFzcyB3aXRoIHNwaGVyaWNhbCByaWdpZCBib2R5IHdoZWVscy5cclxuICogQGNsYXNzIFJpZ2lkVmVoaWNsZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5jaGFzc2lzQm9keV1cclxuICovXG5jbGFzcyBSaWdpZFZlaGljbGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLndoZWVsQm9kaWVzID0gW107XG4gICAgdGhpcy5jb29yZGluYXRlU3lzdGVtID0gdHlwZW9mIG9wdGlvbnMuY29vcmRpbmF0ZVN5c3RlbSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvb3JkaW5hdGVTeXN0ZW0uY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDIsIDMpO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhc3Npc0JvZHkpIHtcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBvcHRpb25zLmNoYXNzaXNCb2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBjaGFzc2lzIGJvZHkgZ2l2ZW4uIENyZWF0ZSBpdCFcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBuZXcgQm9keSh7XG4gICAgICAgIG1hc3M6IDEsXG4gICAgICAgIHNoYXBlOiBuZXcgQm94KG5ldyBWZWMzKDUsIDIsIDAuNSkpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG4gICAgdGhpcy53aGVlbEF4ZXMgPSBbXTtcbiAgICB0aGlzLndoZWVsRm9yY2VzID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgd2hlZWxcclxuICAgKiBAbWV0aG9kIGFkZFdoZWVsXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzRnJvbnRXaGVlbF1cclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXSBQb3NpdGlvbiBvZiB0aGUgd2hlZWwsIGxvY2FsbHkgaW4gdGhlIGNoYXNzaXMgYm9keS5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbl0gU2xpZGUgZGlyZWN0aW9uIG9mIHRoZSB3aGVlbCBhbG9uZyB0aGUgc3VzcGVuc2lvbi5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNdIEF4aXMgb2Ygcm90YXRpb24gb2YgdGhlIHdoZWVsLCBsb2NhbGx5IGRlZmluZWQgaW4gdGhlIGNoYXNzaXMuXHJcbiAgICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5ib2R5XSBUaGUgd2hlZWwgYm9keS5cclxuICAgKi9cblxuXG4gIGFkZFdoZWVsKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB3aGVlbEJvZHk7XG5cbiAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICB3aGVlbEJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHdoZWVsIGJvZHkgZ2l2ZW4uIENyZWF0ZSBpdCFcbiAgICAgIHdoZWVsQm9keSA9IG5ldyBCb2R5KHtcbiAgICAgICAgbWFzczogMSxcbiAgICAgICAgc2hhcGU6IG5ldyBTcGhlcmUoMS4yKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy53aGVlbEJvZGllcy5wdXNoKHdoZWVsQm9keSk7XG4gICAgdGhpcy53aGVlbEZvcmNlcy5wdXNoKDApOyAvLyBQb3NpdGlvbiBjb25zdHJhaW4gd2hlZWxzXG4gICAgY29uc3QgcG9zaXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnBvc2l0aW9uLmNsb25lKCkgOiBuZXcgVmVjMygpOyAvLyBTZXQgcG9zaXRpb24gbG9jYWxseSB0byB0aGUgY2hhc3Npc1xuXG4gICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jaGFzc2lzQm9keS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgd29ybGRQb3NpdGlvbik7XG4gICAgd2hlZWxCb2R5LnBvc2l0aW9uLnNldCh3b3JsZFBvc2l0aW9uLngsIHdvcmxkUG9zaXRpb24ueSwgd29ybGRQb3NpdGlvbi56KTsgLy8gQ29uc3RyYWluIHdoZWVsXG5cbiAgICBjb25zdCBheGlzID0gdHlwZW9mIG9wdGlvbnMuYXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmF4aXMuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMud2hlZWxBeGVzLnB1c2goYXhpcyk7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludCh0aGlzLmNoYXNzaXNCb2R5LCB3aGVlbEJvZHksIHtcbiAgICAgIHBpdm90QTogcG9zaXRpb24sXG4gICAgICBheGlzQTogYXhpcyxcbiAgICAgIHBpdm90QjogVmVjMy5aRVJPLFxuICAgICAgYXhpc0I6IGF4aXMsXG4gICAgICBjb2xsaWRlQ29ubmVjdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuY29uc3RyYWludHMucHVzaChoaW5nZUNvbnN0cmFpbnQpO1xuICAgIHJldHVybiB0aGlzLndoZWVsQm9kaWVzLmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBzdGVlcmluZyB2YWx1ZSBvZiBhIHdoZWVsLlxyXG4gICAqIEBtZXRob2Qgc2V0U3RlZXJpbmdWYWx1ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqIEB0b2RvIGNoZWNrIGNvb3JkaW5hdGVTeXN0ZW1cclxuICAgKi9cblxuXG4gIHNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICAvLyBTZXQgYW5nbGUgb2YgdGhlIGhpbmdlIGF4aXNcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3QgYyA9IE1hdGguY29zKHZhbHVlKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4odmFsdWUpO1xuICAgIGNvbnN0IHggPSBheGlzLng7XG4gICAgY29uc3QgeSA9IGF4aXMueTtcbiAgICB0aGlzLmNvbnN0cmFpbnRzW3doZWVsSW5kZXhdLmF4aXNBLnNldChjICogeCAtIHMgKiB5LCBzICogeCArIGMgKiB5LCAwKTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHRhcmdldCByb3RhdGlvbmFsIHNwZWVkIG9mIHRoZSBoaW5nZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2Qgc2V0TW90b3JTcGVlZFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgc2V0TW90b3JTcGVlZCh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGhpbmdlQ29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF07XG4gICAgaGluZ2VDb25zdHJhaW50LmVuYWJsZU1vdG9yKCk7XG4gICAgaGluZ2VDb25zdHJhaW50Lm1vdG9yVGFyZ2V0VmVsb2NpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHRhcmdldCByb3RhdGlvbmFsIHNwZWVkIG9mIHRoZSBoaW5nZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2QgZGlzYWJsZU1vdG9yXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBkaXNhYmxlTW90b3Iod2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGhpbmdlQ29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF07XG4gICAgaGluZ2VDb25zdHJhaW50LmRpc2FibGVNb3RvcigpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgd2hlZWwgZm9yY2UgdG8gYXBwbHkgb24gb25lIG9mIHRoZSB3aGVlbHMgZWFjaCB0aW1lIHN0ZXBcclxuICAgKiBAbWV0aG9kIHNldFdoZWVsRm9yY2VcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgc2V0V2hlZWxGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIHRoaXMud2hlZWxGb3JjZXNbd2hlZWxJbmRleF0gPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBBcHBseSBhIHRvcnF1ZSBvbiBvbmUgb2YgdGhlIHdoZWVscy5cclxuICAgKiBAbWV0aG9kIGFwcGx5V2hlZWxGb3JjZVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBhcHBseVdoZWVsRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3Qgd2hlZWxCb2R5ID0gdGhpcy53aGVlbEJvZGllc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCBib2R5VG9ycXVlID0gd2hlZWxCb2R5LnRvcnF1ZTtcbiAgICBheGlzLnNjYWxlKHZhbHVlLCB0b3JxdWUpO1xuICAgIHdoZWVsQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodG9ycXVlLCB0b3JxdWUpO1xuICAgIGJvZHlUb3JxdWUudmFkZCh0b3JxdWUsIGJvZHlUb3JxdWUpO1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIHRvIHRoZSB3b3JsZC5cclxuICAgKiBAbWV0aG9kIGFkZFRvV29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgYWRkVG9Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLndoZWVsQm9kaWVzLmNvbmNhdChbdGhpcy5jaGFzc2lzQm9keV0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLmFkZEJvZHkoYm9kaWVzW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnRzW2ldKTtcbiAgICB9XG5cbiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdGhpcy5fdXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCB3aGVlbEZvcmNlcyA9IHRoaXMud2hlZWxGb3JjZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdoZWVsRm9yY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFwcGx5V2hlZWxGb3JjZSh3aGVlbEZvcmNlc1tpXSwgaSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIGZyb20gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIHJlbW92ZUZyb21Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLndoZWVsQm9kaWVzLmNvbmNhdChbdGhpcy5jaGFzc2lzQm9keV0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLnJlbW92ZUJvZHkoYm9kaWVzW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZC5yZW1vdmVDb25zdHJhaW50KGNvbnN0cmFpbnRzW2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGN1cnJlbnQgcm90YXRpb25hbCB2ZWxvY2l0eSBvZiBhIHdoZWVsXHJcbiAgICogQG1ldGhvZCBnZXRXaGVlbFNwZWVkXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBnZXRXaGVlbFNwZWVkKHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3Qgd2hlZWxCb2R5ID0gdGhpcy53aGVlbEJvZGllc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3ID0gd2hlZWxCb2R5LmFuZ3VsYXJWZWxvY2l0eTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShheGlzLCB3b3JsZEF4aXMpO1xuICAgIHJldHVybiB3LmRvdCh3b3JsZEF4aXMpO1xuICB9XG5cbn1cbmNvbnN0IHRvcnF1ZSA9IG5ldyBWZWMzKCk7XG5jb25zdCB3b3JsZEF4aXMgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogU21vb3RoZWQtcGFydGljbGUgaHlkcm9keW5hbWljcyBzeXN0ZW1cclxuICogQGNsYXNzIFNQSFN5c3RlbVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBTUEhTeXN0ZW0ge1xuICAvLyBEZW5zaXR5IG9mIHRoZSBzeXN0ZW0gKGtnL20zKS5cbiAgLy8gRGlzdGFuY2UgYmVsb3cgd2hpY2ggdHdvIHBhcnRpY2xlcyBhcmUgY29uc2lkZXJlZCB0byBiZSBuZWlnaGJvcnMuIEl0IHNob3VsZCBiZSBhZGp1c3RlZCBzbyB0aGVyZSBhcmUgYWJvdXQgMTUtMjAgbmVpZ2hib3IgcGFydGljbGVzIHdpdGhpbiB0aGlzIHJhZGl1cy5cbiAgLy8gVmlzY29zaXR5IG9mIHRoZSBzeXN0ZW0uXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljbGVzID0gW107XG4gICAgdGhpcy5kZW5zaXR5ID0gMTtcbiAgICB0aGlzLnNtb290aGluZ1JhZGl1cyA9IDE7XG4gICAgdGhpcy5zcGVlZE9mU291bmQgPSAxO1xuICAgIHRoaXMudmlzY29zaXR5ID0gMC4wMTtcbiAgICB0aGlzLmVwcyA9IDAuMDAwMDAxOyAvLyBTdHVmZiBDb21wdXRlZCBwZXIgcGFydGljbGVcblxuICAgIHRoaXMucHJlc3N1cmVzID0gW107XG4gICAgdGhpcy5kZW5zaXRpZXMgPSBbXTtcbiAgICB0aGlzLm5laWdoYm9ycyA9IFtdO1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBhIHBhcnRpY2xlIHRvIHRoZSBzeXN0ZW0uXHJcbiAgICogQG1ldGhvZCBhZGRcclxuICAgKiBAcGFyYW0ge0JvZHl9IHBhcnRpY2xlXHJcbiAgICovXG5cblxuICBhZGQocGFydGljbGUpIHtcbiAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlKTtcblxuICAgIGlmICh0aGlzLm5laWdoYm9ycy5sZW5ndGggPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubmVpZ2hib3JzLnB1c2goW10pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYSBwYXJ0aWNsZSBmcm9tIHRoZSBzeXN0ZW0uXHJcbiAgICogQG1ldGhvZCByZW1vdmVcclxuICAgKiBAcGFyYW0ge0JvZHl9IHBhcnRpY2xlXHJcbiAgICovXG5cblxuICByZW1vdmUocGFydGljbGUpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnBhcnRpY2xlcy5pbmRleE9mKHBhcnRpY2xlKTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgaWYgKHRoaXMubmVpZ2hib3JzLmxlbmd0aCA+IHRoaXMucGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm5laWdoYm9ycy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXROZWlnaGJvcnMocGFydGljbGUsIG5laWdoYm9ycykge1xuICAgIGNvbnN0IE4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgY29uc3QgaWQgPSBwYXJ0aWNsZS5pZDtcbiAgICBjb25zdCBSMiA9IHRoaXMuc21vb3RoaW5nUmFkaXVzICogdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgY29uc3QgZGlzdCA9IFNQSFN5c3RlbV9nZXROZWlnaGJvcnNfZGlzdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcnRpY2xlc1tpXTtcbiAgICAgIHAucG9zaXRpb24udnN1YihwYXJ0aWNsZS5wb3NpdGlvbiwgZGlzdCk7XG5cbiAgICAgIGlmIChpZCAhPT0gcC5pZCAmJiBkaXN0Lmxlbmd0aFNxdWFyZWQoKSA8IFIyKSB7XG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBOID0gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoO1xuICAgIGNvbnN0IGRpc3QgPSBTUEhTeXN0ZW1fdXBkYXRlX2Rpc3Q7XG4gICAgY29uc3QgY3MgPSB0aGlzLnNwZWVkT2ZTb3VuZDtcbiAgICBjb25zdCBlcHMgPSB0aGlzLmVwcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcnRpY2xlc1tpXTsgLy8gQ3VycmVudCBwYXJ0aWNsZVxuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLm5laWdoYm9yc1tpXTsgLy8gR2V0IG5laWdoYm9yc1xuXG4gICAgICBuZWlnaGJvcnMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZ2V0TmVpZ2hib3JzKHAsIG5laWdoYm9ycyk7XG4gICAgICBuZWlnaGJvcnMucHVzaCh0aGlzLnBhcnRpY2xlc1tpXSk7IC8vIEFkZCBjdXJyZW50IHRvb1xuXG4gICAgICBjb25zdCBudW1OZWlnaGJvcnMgPSBuZWlnaGJvcnMubGVuZ3RoOyAvLyBBY2N1bXVsYXRlIGRlbnNpdHkgZm9yIHRoZSBwYXJ0aWNsZVxuXG4gICAgICBsZXQgc3VtID0gMC4wO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtTmVpZ2hib3JzOyBqKyspIHtcbiAgICAgICAgLy9wcmludGYoXCJDdXJyZW50IHBhcnRpY2xlIGhhcyBwb3NpdGlvbiAlZiAlZiAlZlxcblwiLG9iamVjdHNbaWRdLnBvcy54KCksb2JqZWN0c1tpZF0ucG9zLnkoKSxvYmplY3RzW2lkXS5wb3MueigpKTtcbiAgICAgICAgcC5wb3NpdGlvbi52c3ViKG5laWdoYm9yc1tqXS5wb3NpdGlvbiwgZGlzdCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGRpc3QubGVuZ3RoKCk7XG4gICAgICAgIGNvbnN0IHdlaWdodCA9IHRoaXMudyhsZW4pO1xuICAgICAgICBzdW0gKz0gbmVpZ2hib3JzW2pdLm1hc3MgKiB3ZWlnaHQ7XG4gICAgICB9IC8vIFNhdmVcblxuXG4gICAgICB0aGlzLmRlbnNpdGllc1tpXSA9IHN1bTtcbiAgICAgIHRoaXMucHJlc3N1cmVzW2ldID0gY3MgKiBjcyAqICh0aGlzLmRlbnNpdGllc1tpXSAtIHRoaXMuZGVuc2l0eSk7XG4gICAgfSAvLyBBZGQgZm9yY2VzXG4gICAgLy8gU3VtIHRvIHRoZXNlIGFjY2VsZXJhdGlvbnNcblxuXG4gICAgY29uc3QgYV9wcmVzc3VyZSA9IFNQSFN5c3RlbV91cGRhdGVfYV9wcmVzc3VyZTtcbiAgICBjb25zdCBhX3Zpc2MgPSBTUEhTeXN0ZW1fdXBkYXRlX2FfdmlzYztcbiAgICBjb25zdCBncmFkVyA9IFNQSFN5c3RlbV91cGRhdGVfZ3JhZFc7XG4gICAgY29uc3Qgcl92ZWMgPSBTUEhTeXN0ZW1fdXBkYXRlX3JfdmVjO1xuICAgIGNvbnN0IHUgPSBTUEhTeXN0ZW1fdXBkYXRlX3U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgYV9wcmVzc3VyZS5zZXQoMCwgMCwgMCk7XG4gICAgICBhX3Zpc2Muc2V0KDAsIDAsIDApOyAvLyBJbml0IHZhcnNcblxuICAgICAgbGV0IFBpajtcbiAgICAgIGxldCBuYWJsYTtcblxuICAgICAgY29uc3QgbmVpZ2hib3JzID0gdGhpcy5uZWlnaGJvcnNbaV07XG4gICAgICBjb25zdCBudW1OZWlnaGJvcnMgPSBuZWlnaGJvcnMubGVuZ3RoOyAvL3ByaW50ZihcIk5laWdoYm9yczogXCIpO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtTmVpZ2hib3JzOyBqKyspIHtcbiAgICAgICAgY29uc3QgbmVpZ2hib3IgPSBuZWlnaGJvcnNbal07IC8vcHJpbnRmKFwiJWQgXCIsbmopO1xuICAgICAgICAvLyBHZXQgciBvbmNlIGZvciBhbGwuLlxuXG4gICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnZzdWIobmVpZ2hib3IucG9zaXRpb24sIHJfdmVjKTtcbiAgICAgICAgY29uc3QgciA9IHJfdmVjLmxlbmd0aCgpOyAvLyBQcmVzc3VyZSBjb250cmlidXRpb25cblxuICAgICAgICBQaWogPSAtbmVpZ2hib3IubWFzcyAqICh0aGlzLnByZXNzdXJlc1tpXSAvICh0aGlzLmRlbnNpdGllc1tpXSAqIHRoaXMuZGVuc2l0aWVzW2ldICsgZXBzKSArIHRoaXMucHJlc3N1cmVzW2pdIC8gKHRoaXMuZGVuc2l0aWVzW2pdICogdGhpcy5kZW5zaXRpZXNbal0gKyBlcHMpKTtcbiAgICAgICAgdGhpcy5ncmFkdyhyX3ZlYywgZ3JhZFcpOyAvLyBBZGQgdG8gcHJlc3N1cmUgYWNjZWxlcmF0aW9uXG5cbiAgICAgICAgZ3JhZFcuc2NhbGUoUGlqLCBncmFkVyk7XG4gICAgICAgIGFfcHJlc3N1cmUudmFkZChncmFkVywgYV9wcmVzc3VyZSk7IC8vIFZpc2Nvc2l0eSBjb250cmlidXRpb25cblxuICAgICAgICBuZWlnaGJvci52ZWxvY2l0eS52c3ViKHBhcnRpY2xlLnZlbG9jaXR5LCB1KTtcbiAgICAgICAgdS5zY2FsZSgxLjAgLyAoMC4wMDAxICsgdGhpcy5kZW5zaXRpZXNbaV0gKiB0aGlzLmRlbnNpdGllc1tqXSkgKiB0aGlzLnZpc2Nvc2l0eSAqIG5laWdoYm9yLm1hc3MsIHUpO1xuICAgICAgICBuYWJsYSA9IHRoaXMubmFibGF3KHIpO1xuICAgICAgICB1LnNjYWxlKG5hYmxhLCB1KTsgLy8gQWRkIHRvIHZpc2Nvc2l0eSBhY2NlbGVyYXRpb25cblxuICAgICAgICBhX3Zpc2MudmFkZCh1LCBhX3Zpc2MpO1xuICAgICAgfSAvLyBDYWxjdWxhdGUgZm9yY2VcblxuXG4gICAgICBhX3Zpc2Muc2NhbGUocGFydGljbGUubWFzcywgYV92aXNjKTtcbiAgICAgIGFfcHJlc3N1cmUuc2NhbGUocGFydGljbGUubWFzcywgYV9wcmVzc3VyZSk7IC8vIEFkZCBmb3JjZSB0byBwYXJ0aWNsZXNcblxuICAgICAgcGFydGljbGUuZm9yY2UudmFkZChhX3Zpc2MsIHBhcnRpY2xlLmZvcmNlKTtcbiAgICAgIHBhcnRpY2xlLmZvcmNlLnZhZGQoYV9wcmVzc3VyZSwgcGFydGljbGUuZm9yY2UpO1xuICAgIH1cbiAgfSAvLyBDYWxjdWxhdGUgdGhlIHdlaWdodCB1c2luZyB0aGUgVyhyKSB3ZWlnaHRmdW5jdGlvblxuXG5cbiAgdyhyKSB7XG4gICAgLy8gMzE1XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIHJldHVybiAzMTUuMCAvICg2NC4wICogTWF0aC5QSSAqIGggKiogOSkgKiAoaCAqIGggLSByICogcikgKiogMztcbiAgfSAvLyBjYWxjdWxhdGUgZ3JhZGllbnQgb2YgdGhlIHdlaWdodCBmdW5jdGlvblxuXG5cbiAgZ3JhZHcoclZlYywgcmVzdWx0VmVjKSB7XG4gICAgY29uc3QgciA9IHJWZWMubGVuZ3RoKCk7XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIHJWZWMuc2NhbGUoOTQ1LjAgLyAoMzIuMCAqIE1hdGguUEkgKiBoICoqIDkpICogKGggKiBoIC0gciAqIHIpICoqIDIsIHJlc3VsdFZlYyk7XG4gIH0gLy8gQ2FsY3VsYXRlIG5hYmxhKFcpXG5cblxuICBuYWJsYXcocikge1xuICAgIGNvbnN0IGggPSB0aGlzLnNtb290aGluZ1JhZGl1cztcbiAgICBjb25zdCBuYWJsYSA9IDk0NS4wIC8gKDMyLjAgKiBNYXRoLlBJICogaCAqKiA5KSAqIChoICogaCAtIHIgKiByKSAqICg3ICogciAqIHIgLSAzICogaCAqIGgpO1xuICAgIHJldHVybiBuYWJsYTtcbiAgfVxuXG59XG4vKipcclxuICogR2V0IG5laWdoYm9ycyB3aXRoaW4gc21vb3RoaW5nIHZvbHVtZSwgc2F2ZSBpbiB0aGUgYXJyYXkgbmVpZ2hib3JzXHJcbiAqIEBtZXRob2QgZ2V0TmVpZ2hib3JzXHJcbiAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcclxuICogQHBhcmFtIHtBcnJheX0gbmVpZ2hib3JzXHJcbiAqL1xuXG5jb25zdCBTUEhTeXN0ZW1fZ2V0TmVpZ2hib3JzX2Rpc3QgPSBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnMgZm9yIGNhbGN1bGF0aW9uXG5cbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfZGlzdCA9IG5ldyBWZWMzKCk7IC8vIFJlbGF0aXZlIHZlbG9jaXR5XG5cbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfYV9wcmVzc3VyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX2FfdmlzYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX2dyYWRXID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfcl92ZWMgPSBuZXcgVmVjMygpO1xuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV91ID0gbmV3IFZlYzMoKTtcblxuLyoqXG4gKiBAY2xhc3MgQ3lsaW5kZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQ29udmV4UG9seWhlZHJvblxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1RvcFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JvdHRvbVxuICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICogQHBhcmFtIHtOdW1iZXJ9IG51bVNlZ21lbnRzIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgdG8gYnVpbGQgdGhlIGN5bGluZGVyIG91dCBvZlxuICovXG5cbmNsYXNzIEN5bGluZGVyIGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbiB7XG4gIGNvbnN0cnVjdG9yKHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzKSB7XG4gICAgY29uc3QgTiA9IG51bVNlZ21lbnRzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gW107XG4gICAgY29uc3QgYXhlcyA9IFtdO1xuICAgIGNvbnN0IGZhY2VzID0gW107XG4gICAgY29uc3QgYm90dG9tZmFjZSA9IFtdO1xuICAgIGNvbnN0IHRvcGZhY2UgPSBbXTtcbiAgICBjb25zdCBjb3MgPSBNYXRoLmNvcztcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjsgLy8gRmlyc3QgYm90dG9tIHBvaW50XG5cbiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKHJhZGl1c0JvdHRvbSAqIGNvcygwKSwgLWhlaWdodCAqIDAuNSwgLXJhZGl1c0JvdHRvbSAqIHNpbigwKSkpO1xuICAgIGJvdHRvbWZhY2UucHVzaCgwKTsgLy8gRmlyc3QgdG9wIHBvaW50XG5cbiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKHJhZGl1c1RvcCAqIGNvcygwKSwgaGVpZ2h0ICogMC41LCAtcmFkaXVzVG9wICogc2luKDApKSk7XG4gICAgdG9wZmFjZS5wdXNoKDEpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHRoZXRhID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAxKTtcbiAgICAgIGNvbnN0IHRoZXRhTiA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMC41KTtcblxuICAgICAgaWYgKGkgPCBOIC0gMSkge1xuICAgICAgICAvLyBCb3R0b21cbiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMyhyYWRpdXNCb3R0b20gKiBjb3ModGhldGEpLCAtaGVpZ2h0ICogMC41LCAtcmFkaXVzQm90dG9tICogc2luKHRoZXRhKSkpO1xuICAgICAgICBib3R0b21mYWNlLnB1c2goMiAqIGkgKyAyKTsgLy8gVG9wXG5cbiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMyhyYWRpdXNUb3AgKiBjb3ModGhldGEpLCBoZWlnaHQgKiAwLjUsIC1yYWRpdXNUb3AgKiBzaW4odGhldGEpKSk7XG4gICAgICAgIHRvcGZhY2UucHVzaCgyICogaSArIDMpOyAvLyBGYWNlXG5cbiAgICAgICAgZmFjZXMucHVzaChbMiAqIGkgKyAyLCAyICogaSArIDMsIDIgKiBpICsgMSwgMiAqIGldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2VzLnB1c2goWzAsIDEsIDIgKiBpICsgMSwgMiAqIGldKTsgLy8gQ29ubmVjdFxuICAgICAgfSAvLyBBeGlzOiB3ZSBjYW4gY3V0IG9mZiBoYWxmIG9mIHRoZW0gaWYgd2UgaGF2ZSBldmVuIG51bWJlciBvZiBzZWdtZW50c1xuXG5cbiAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHtcbiAgICAgICAgYXhlcy5wdXNoKG5ldyBWZWMzKGNvcyh0aGV0YU4pLCAwLCAtc2luKHRoZXRhTikpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmYWNlcy5wdXNoKHRvcGZhY2UpO1xuICAgIGF4ZXMucHVzaChuZXcgVmVjMygwLCAxLCAwKSk7IC8vIFJlb3JkZXIgYm90dG9tIGZhY2VcblxuICAgIGNvbnN0IHRlbXAgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90dG9tZmFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGVtcC5wdXNoKGJvdHRvbWZhY2VbYm90dG9tZmFjZS5sZW5ndGggLSBpIC0gMV0pO1xuICAgIH1cblxuICAgIGZhY2VzLnB1c2godGVtcCk7XG4gICAgc3VwZXIoe1xuICAgICAgdmVydGljZXMsXG4gICAgICBmYWNlcyxcbiAgICAgIGF4ZXNcbiAgICB9KTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBQYXJ0aWNsZSBzaGFwZS5cclxuICogQGNsYXNzIFBhcnRpY2xlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqL1xuY2xhc3MgUGFydGljbGUgZXh0ZW5kcyBTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFXG4gICAgfSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLy8gR2V0IGVhY2ggYXhpcyBtYXhcbiAgICBtaW4uY29weShwb3MpO1xuICAgIG1heC5jb3B5KHBvcyk7XG4gIH1cblxufVxuXG4vKipcclxuICogQSBwbGFuZSwgZmFjaW5nIGluIHRoZSBaIGRpcmVjdGlvbi4gVGhlIHBsYW5lIGhhcyBpdHMgc3VyZmFjZSBhdCB6PTAgYW5kIGV2ZXJ5dGhpbmcgYmVsb3cgej0wIGlzIGFzc3VtZWQgdG8gYmUgc29saWQgcGxhbmUuIFRvIG1ha2UgdGhlIHBsYW5lIGZhY2UgaW4gc29tZSBvdGhlciBkaXJlY3Rpb24gdGhhbiB6LCB5b3UgbXVzdCBwdXQgaXQgaW5zaWRlIGEgQm9keSBhbmQgcm90YXRlIHRoYXQgYm9keS4gU2VlIHRoZSBkZW1vcy5cclxuICogQGNsYXNzIFBsYW5lXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqL1xuY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBMQU5FXG4gICAgfSk7IC8vIFdvcmxkIG9yaWVudGVkIG5vcm1hbFxuXG4gICAgdGhpcy53b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgfVxuXG4gIGNvbXB1dGVXb3JsZE5vcm1hbChxdWF0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMud29ybGROb3JtYWw7XG4gICAgbi5zZXQoMCwgMCwgMSk7XG4gICAgcXVhdC52bXVsdChuLCBuKTtcbiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLlxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRoZSBwbGFuZSBBQUJCIGlzIGluZmluaXRlLCBleGNlcHQgaWYgdGhlIG5vcm1hbCBpcyBwb2ludGluZyBhbG9uZyBhbnkgYXhpc1xuICAgIHRlbXBOb3JtYWwuc2V0KDAsIDAsIDEpOyAvLyBEZWZhdWx0IHBsYW5lIG5vcm1hbCBpcyB6XG5cbiAgICBxdWF0LnZtdWx0KHRlbXBOb3JtYWwsIHRlbXBOb3JtYWwpO1xuICAgIGNvbnN0IG1heFZhbCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgbWluLnNldCgtbWF4VmFsLCAtbWF4VmFsLCAtbWF4VmFsKTtcbiAgICBtYXguc2V0KG1heFZhbCwgbWF4VmFsLCBtYXhWYWwpO1xuXG4gICAgaWYgKHRlbXBOb3JtYWwueCA9PT0gMSkge1xuICAgICAgbWF4LnggPSBwb3MueDtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueCA9PT0gLTEpIHtcbiAgICAgIG1pbi54ID0gcG9zLng7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBOb3JtYWwueSA9PT0gMSkge1xuICAgICAgbWF4LnkgPSBwb3MueTtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueSA9PT0gLTEpIHtcbiAgICAgIG1pbi55ID0gcG9zLnk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBOb3JtYWwueiA9PT0gMSkge1xuICAgICAgbWF4LnogPSBwb3MuejtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueiA9PT0gLTEpIHtcbiAgICAgIG1pbi56ID0gcG9zLno7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7XG4gIH1cblxufVxuY29uc3QgdGVtcE5vcm1hbCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogSGVpZ2h0ZmllbGQgc2hhcGUgY2xhc3MuIEhlaWdodCBkYXRhIGlzIGdpdmVuIGFzIGFuIGFycmF5LiBUaGVzZSBkYXRhIHBvaW50cyBhcmUgc3ByZWFkIG91dCBldmVubHkgd2l0aCBhIGdpdmVuIGRpc3RhbmNlLlxuICogQGNsYXNzIEhlaWdodGZpZWxkXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWluVmFsdWVdIE1pbmltdW0gdmFsdWUgb2YgdGhlIGRhdGEgcG9pbnRzIGluIHRoZSBkYXRhIGFycmF5LiBXaWxsIGJlIGNvbXB1dGVkIGF1dG9tYXRpY2FsbHkgaWYgbm90IGdpdmVuLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmVsZW1lbnRTaXplPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi5cbiAqIEB0b2RvIFNob3VsZCBiZSBwb3NzaWJsZSB0byB1c2UgYWxvbmcgYWxsIGF4ZXMsIG5vdCBqdXN0IHlcbiAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlc1xuICogQHRvZG8gUmVmYWN0b3IgZWxlbWVudFNpemUgdG8gZWxlbWVudFNpemVYIGFuZCBlbGVtZW50U2l6ZVlcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS5cbiAqICAgICBjb25zdCBkYXRhID0gW107XG4gKiAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKyl7XG4gKiAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiBNYXRoLmNvcygwLjIgKiBpKTtcbiAqICAgICAgICAgZGF0YS5wdXNoKHkpO1xuICogICAgIH1cbiAqXG4gKiAgICAgLy8gQ3JlYXRlIHRoZSBoZWlnaHRmaWVsZCBzaGFwZVxuICogICAgIGNvbnN0IGhlaWdodGZpZWxkU2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoZGF0YSwge1xuICogICAgICAgICBlbGVtZW50U2l6ZTogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGFuZCBZIGRpcmVjdGlvbnNcbiAqICAgICB9KTtcbiAqICAgICBjb25zdCBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpO1xuICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGhlaWdodGZpZWxkQm9keSk7XG4gKi9cbmNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuXG4gIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS5cbiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLlxuICAvLyBUaGUgd2lkdGggb2YgZWFjaCBlbGVtZW50LiBUbyBkbzogZWxlbWVudFNpemVYIGFuZCBZXG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgZWxlbWVudFNpemU6IDFcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRFxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7XG4gICAgdGhpcy5taW5WYWx1ZSA9IG9wdGlvbnMubWluVmFsdWU7XG4gICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7XG5cbiAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1heFZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMucGlsbGFyQ29udmV4ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyBcImlfal9pc1VwcGVyXCIgPT4geyBjb252ZXg6IC4uLiwgb2Zmc2V0OiAuLi4gfVxuICAgIC8vIGZvciBleGFtcGxlOlxuICAgIC8vIF9jYWNoZWRQaWxsYXJzW1wiMF8yXzFcIl1cblxuICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTtcbiAgfVxuICAvKipcbiAgICogQ2FsbCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBkYXRhIGFycmF5LlxuICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgKi9cblxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgLm1pblZhbHVlIHByb3BlcnR5XG4gICAqIEBtZXRob2QgdXBkYXRlTWluVmFsdWVcbiAgICovXG5cblxuICB1cGRhdGVNaW5WYWx1ZSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgIG1pblZhbHVlID0gdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSAubWF4VmFsdWUgcHJvcGVydHlcbiAgICogQG1ldGhvZCB1cGRhdGVNYXhWYWx1ZVxuICAgKi9cblxuXG4gIHVwZGF0ZU1heFZhbHVlKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IG1heFZhbHVlID0gZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTtcblxuICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgbWF4VmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGhlaWdodCB2YWx1ZSBhdCBhbiBpbmRleC4gRG9uJ3QgZm9yZ2V0IHRvIHVwZGF0ZSBtYXhWYWx1ZSBhbmQgbWluVmFsdWUgYWZ0ZXIgeW91J3JlIGRvbmUuXG4gICAqIEBtZXRob2Qgc2V0SGVpZ2h0VmFsdWVBdEluZGV4XG4gICAqIEBwYXJhbSB7aW50ZWdlcn0geGlcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB5aVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICovXG5cblxuICBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgoeGksIHlpLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgZGF0YVt4aV1beWldID0gdmFsdWU7IC8vIEludmFsaWRhdGUgY2FjaGVcblxuICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGZhbHNlKTtcblxuICAgIGlmICh4aSA+IDApIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCB0cnVlKTtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHlpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIHRydWUpO1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoeWkgPiAwICYmIHhpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWkgLSAxLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YVxuICAgKiBAbWV0aG9kIGdldFJlY3RNaW5NYXhcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblhcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pbllcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFhcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFlcbiAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLlxuICAgKiBAcmV0dXJuIHthcnJheX0gVGhlIHJlc3VsdCBhcnJheSwgaWYgaXQgd2FzIHBhc3NlZCBpbi4gTWluaW11bSB3aWxsIGJlIGF0IHBvc2l0aW9uIDAgYW5kIG1heCBhdCAxLlxuICAgKi9cblxuXG4gIGdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIHJlc3VsdCA9IFtdKSB7XG4gICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlXG5cbiAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPD0gaU1heFk7IGorKykge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHtcbiAgICAgICAgICBtYXggPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlO1xuICAgIHJlc3VsdFsxXSA9IG1heDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBpbmRleCBvZiBhIGxvY2FsIHBvc2l0aW9uIG9uIHRoZSBoZWlnaHRmaWVsZC4gVGhlIGluZGV4ZXMgaW5kaWNhdGUgdGhlIHJlY3RhbmdsZXMsIHNvIGlmIHlvdXIgdGVycmFpbiBpcyBtYWRlIG9mIE4geCBOIGhlaWdodCBkYXRhIHBvaW50cywgeW91IHdpbGwgaGF2ZSByZWN0YW5nbGUgaW5kZXhlcyByYW5naW5nIGZyb20gMCB0byBOLTEuXG4gICAqIEBtZXRob2QgZ2V0SW5kZXhPZlBvc2l0aW9uXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBUd28tZWxlbWVudCBhcnJheVxuICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIHJlc3VsdCwgY2xhbXApIHtcbiAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcbiAgICBjb25zdCB3ID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCB4aSA9IE1hdGguZmxvb3IoeCAvIHcpO1xuICAgIGxldCB5aSA9IE1hdGguZmxvb3IoeSAvIHcpO1xuICAgIHJlc3VsdFswXSA9IHhpO1xuICAgIHJlc3VsdFsxXSA9IHlpO1xuXG4gICAgaWYgKGNsYW1wKSB7XG4gICAgICAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuICAgICAgaWYgKHhpIDwgMCkge1xuICAgICAgICB4aSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh5aSA8IDApIHtcbiAgICAgICAgeWkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoeGkgPj0gZGF0YS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHhpID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHlpID0gZGF0YVswXS5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH0gLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG5cbiAgICBpZiAoeGkgPCAwIHx8IHlpIDwgMCB8fCB4aSA+PSBkYXRhLmxlbmd0aCAtIDEgfHwgeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBnZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYykge1xuICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDtcbiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7XG4gICAgbGV0IHhpID0gaWR4WzBdO1xuICAgIGxldCB5aSA9IGlkeFsxXTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgaWYgKGVkZ2VDbGFtcCkge1xuICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7XG4gICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgY29uc3QgbG93ZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSB4aSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSB5aSkgKiogMjtcbiAgICBjb25zdCB1cHBlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtICh4aSArIDEpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtICh5aSArIDEpKSAqKiAyO1xuICAgIGNvbnN0IHVwcGVyID0gbG93ZXJEaXN0MiA+IHVwcGVyRGlzdDI7XG4gICAgdGhpcy5nZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKTtcbiAgICByZXR1cm4gdXBwZXI7XG4gIH1cblxuICBnZXROb3JtYWxBdCh4LCB5LCBlZGdlQ2xhbXAsIHJlc3VsdCkge1xuICAgIGNvbnN0IGEgPSBnZXROb3JtYWxBdF9hO1xuICAgIGNvbnN0IGIgPSBnZXROb3JtYWxBdF9iO1xuICAgIGNvbnN0IGMgPSBnZXROb3JtYWxBdF9jO1xuICAgIGNvbnN0IGUwID0gZ2V0Tm9ybWFsQXRfZTA7XG4gICAgY29uc3QgZTEgPSBnZXROb3JtYWxBdF9lMTtcbiAgICB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTtcbiAgICBiLnZzdWIoYSwgZTApO1xuICAgIGMudnN1YihhLCBlMSk7XG4gICAgZTAuY3Jvc3MoZTEsIHJlc3VsdCk7XG4gICAgcmVzdWx0Lm5vcm1hbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGRcbiAgICogQHBhcmFtICB7bnVtYmVyfSB4aVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlpXG4gICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdFxuICAgKi9cblxuXG4gIGdldEFhYmJBdEluZGV4KHhpLCB5aSwge1xuICAgIGxvd2VyQm91bmQsXG4gICAgdXBwZXJCb3VuZFxuICB9KSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTtcbiAgICB1cHBlckJvdW5kLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgaGVpZ2h0IGluIHRoZSBoZWlnaHRmaWVsZCBhdCBhIGdpdmVuIHBvc2l0aW9uXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gZWRnZUNsYW1wXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG5cblxuICBnZXRIZWlnaHRBdCh4LCB5LCBlZGdlQ2xhbXApIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGEgPSBnZXRIZWlnaHRBdF9hO1xuICAgIGNvbnN0IGIgPSBnZXRIZWlnaHRBdF9iO1xuICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jO1xuICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDtcbiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7XG4gICAgbGV0IHhpID0gaWR4WzBdO1xuICAgIGxldCB5aSA9IGlkeFsxXTtcblxuICAgIGlmIChlZGdlQ2xhbXApIHtcbiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpO1xuICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBwZXIgPSB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTtcbiAgICBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgZ2V0SGVpZ2h0QXRfd2VpZ2h0cyk7XG4gICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7XG5cbiAgICBpZiAodXBwZXIpIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgcmV0dXJuIGRhdGFbeGkgKyAxXVt5aSArIDFdICogdy54ICsgZGF0YVt4aV1beWkgKyAxXSAqIHcueSArIGRhdGFbeGkgKyAxXVt5aV0gKiB3Lno7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgcmV0dXJuIGRhdGFbeGldW3lpXSAqIHcueCArIGRhdGFbeGkgKyAxXVt5aV0gKiB3LnkgKyBkYXRhW3hpXVt5aSArIDFdICogdy56O1xuICAgIH1cbiAgfVxuXG4gIGdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgcmV0dXJuIHhpICsgXCJfXCIgKyB5aSArIFwiX1wiICsgKGdldFVwcGVyVHJpYW5nbGUgPyAxIDogMCk7XG4gIH1cblxuICBnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07XG4gIH1cblxuICBzZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIGNvbnZleCwgb2Zmc2V0KSB7XG4gICAgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV0gPSB7XG4gICAgICBjb252ZXgsXG4gICAgICBvZmZzZXRcbiAgICB9O1xuICB9XG5cbiAgY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHRyaWFuZ2xlIGZyb20gdGhlIGhlaWdodGZpZWxkXG4gICAqIEBwYXJhbSAge251bWJlcn0geGlcbiAgICogQHBhcmFtICB7bnVtYmVyfSB5aVxuICAgKiBAcGFyYW0gIHtib29sZWFufSB1cHBlclxuICAgKiBAcGFyYW0gIHtWZWMzfSBhXG4gICAqIEBwYXJhbSAge1ZlYzN9IGJcbiAgICogQHBhcmFtICB7VmVjM30gY1xuICAgKi9cblxuXG4gIGdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcblxuICAgIGlmICh1cHBlcikge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBhLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTtcbiAgICAgIGMuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHNcbiAgICAgIGEuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7XG4gICAgICBiLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTtcbiAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IGEgdHJpYW5nbGUgaW4gdGhlIHRlcnJhaW4gaW4gdGhlIGZvcm0gb2YgYSB0cmlhbmd1bGFyIGNvbnZleCBzaGFwZS5cbiAgICogQG1ldGhvZCBnZXRDb252ZXhUcmlhbmdsZVBpbGxhclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGpcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gZ2V0VXBwZXJUcmlhbmdsZVxuICAgKi9cblxuXG4gIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDtcbiAgICBsZXQgb2Zmc2V0UmVzdWx0ID0gdGhpcy5waWxsYXJPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5jYWNoZUVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSk7XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7XG4gICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gZGF0YS5vZmZzZXQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICAgIG9mZnNldFJlc3VsdCA9IG5ldyBWZWMzKCk7XG4gICAgICB0aGlzLnBpbGxhckNvbnZleCA9IHJlc3VsdDtcbiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZVxuXG4gICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgaWYgKCFyZXN1bHQudmVydGljZXNbaV0pIHtcbiAgICAgICAgcmVzdWx0LnZlcnRpY2VzW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFJldXNlIGZhY2VzIGlmIHBvc3NpYmxlXG5cblxuICAgIGZhY2VzLmxlbmd0aCA9IDU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgaWYgKCFmYWNlc1tpXSkge1xuICAgICAgICBmYWNlc1tpXSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0LnZlcnRpY2VzO1xuICAgIGNvbnN0IGggPSAoTWF0aC5taW4oZGF0YVt4aV1beWldLCBkYXRhW3hpICsgMV1beWldLCBkYXRhW3hpXVt5aSArIDFdLCBkYXRhW3hpICsgMV1beWkgKyAxXSkgLSB0aGlzLm1pblZhbHVlKSAvIDIgKyB0aGlzLm1pblZhbHVlO1xuXG4gICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmVcbiAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZVxuICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXJcbiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1sxXS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1syXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1szXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzRdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7XG4gICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyB0b3AgdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMF1bMF0gPSAwO1xuICAgICAgZmFjZXNbMF1bMV0gPSAxO1xuICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMV1bMF0gPSA1O1xuICAgICAgZmFjZXNbMV1bMV0gPSA0O1xuICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAteCBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1syXVswXSA9IDA7XG4gICAgICBmYWNlc1syXVsxXSA9IDI7XG4gICAgICBmYWNlc1syXVsyXSA9IDU7XG4gICAgICBmYWNlc1syXVszXSA9IDM7IC8vIC15IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzNdWzBdID0gMTtcbiAgICAgIGZhY2VzWzNdWzFdID0gMDtcbiAgICAgIGZhY2VzWzNdWzJdID0gMztcbiAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzRdWzBdID0gNDtcbiAgICAgIGZhY2VzWzRdWzFdID0gNTtcbiAgICAgIGZhY2VzWzRdWzJdID0gMjtcbiAgICAgIGZhY2VzWzRdWzNdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lXG4gICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuNzUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGVcbiAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyXG4gICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbMF0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMV0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpO1xuICAgICAgdmVydHNbNF0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzVdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7IC8vIFRvcCB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1swXVswXSA9IDA7XG4gICAgICBmYWNlc1swXVsxXSA9IDE7XG4gICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1sxXVswXSA9IDU7XG4gICAgICBmYWNlc1sxXVsxXSA9IDQ7XG4gICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzJdWzBdID0gMjtcbiAgICAgIGZhY2VzWzJdWzFdID0gNTtcbiAgICAgIGZhY2VzWzJdWzJdID0gMztcbiAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbM11bMF0gPSAzO1xuICAgICAgZmFjZXNbM11bMV0gPSA0O1xuICAgICAgZmFjZXNbM11bMl0gPSAxO1xuICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbNF1bMF0gPSAxO1xuICAgICAgZmFjZXNbNF1bMV0gPSA0O1xuICAgICAgZmFjZXNbNF1bMl0gPSA1O1xuICAgICAgZmFjZXNbNF1bM10gPSAyO1xuICAgIH1cblxuICAgIHJlc3VsdC5jb21wdXRlTm9ybWFscygpO1xuICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTtcbiAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICB0aGlzLnNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgcmVzdWx0LCBvZmZzZXRSZXN1bHQpO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZVxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRPRE86IGRvIGl0IHByb3Blcmx5XG4gICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gVXNlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG1pbi9tYXggdmFsdWVzXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBzID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gbmV3IFZlYzMoZGF0YS5sZW5ndGggKiBzLCBkYXRhWzBdLmxlbmd0aCAqIHMsIE1hdGgubWF4KE1hdGguYWJzKHRoaXMubWF4VmFsdWUpLCBNYXRoLmFicyh0aGlzLm1pblZhbHVlKSkpLmxlbmd0aCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBoZWlnaHQgdmFsdWVzIGZyb20gYW4gaW1hZ2UuIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyLlxuICAgKiBAbWV0aG9kIHNldEhlaWdodHNGcm9tSW1hZ2VcbiAgICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcbiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZVxuICAgKi9cblxuXG4gIHNldEhlaWdodHNGcm9tSW1hZ2UoaW1hZ2UsIHNjYWxlKSB7XG4gICAgY29uc3Qge1xuICAgICAgeCxcbiAgICAgIHosXG4gICAgICB5XG4gICAgfSA9IHNjYWxlO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGE7XG4gICAgbWF0cml4Lmxlbmd0aCA9IDA7XG4gICAgdGhpcy5lbGVtZW50U2l6ZSA9IE1hdGguYWJzKHgpIC8gaW1hZ2VEYXRhLndpZHRoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuaGVpZ2h0OyBpKyspIHtcbiAgICAgIGNvbnN0IHJvdyA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGltYWdlRGF0YS53aWR0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDRdO1xuICAgICAgICBjb25zdCBiID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMV07XG4gICAgICAgIGNvbnN0IGMgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAyXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGEgKyBiICsgYykgLyA0IC8gMjU1ICogejtcblxuICAgICAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgICByb3cucHVzaChoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy51bnNoaWZ0KGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgIG1hdHJpeC51bnNoaWZ0KHJvdyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRyaXgucHVzaChyb3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTWF4VmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZU1pblZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG59XG5jb25zdCBnZXRIZWlnaHRBdF9pZHggPSBbXTtcbmNvbnN0IGdldEhlaWdodEF0X3dlaWdodHMgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0SGVpZ2h0QXRfYSA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXRIZWlnaHRBdF9iID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldEhlaWdodEF0X2MgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfYSA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9iID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2MgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfZTAgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfZTEgPSBuZXcgVmVjMygpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50cmljX2Nvb3JkaW5hdGVfc3lzdGVtXG5cbmZ1bmN0aW9uIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5LCByZXN1bHQpIHtcbiAgcmVzdWx0LnggPSAoKGJ5IC0gY3kpICogKHggLSBjeCkgKyAoY3ggLSBieCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTtcbiAgcmVzdWx0LnkgPSAoKGN5IC0gYXkpICogKHggLSBjeCkgKyAoYXggLSBjeCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTtcbiAgcmVzdWx0LnogPSAxIC0gcmVzdWx0LnggLSByZXN1bHQueTtcbn1cblxuLyoqXHJcbiAqIEBjbGFzcyBPY3RyZWVOb2RlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7T2N0cmVlfSBbb3B0aW9ucy5yb290XVxyXG4gKiBAcGFyYW0ge0FBQkJ9IFtvcHRpb25zLmFhYmJdXHJcbiAqL1xuY2xhc3MgT2N0cmVlTm9kZSB7XG4gIC8vIFRoZSByb290IG5vZGVcbiAgLy8gQm91bmRhcnkgb2YgdGhpcyBub2RlXG4gIC8vIENvbnRhaW5lZCBkYXRhIGF0IHRoZSBjdXJyZW50IG5vZGUgbGV2ZWxcbiAgLy8gQ2hpbGRyZW4gdG8gdGhpcyBub2RlXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBudWxsO1xuICAgIHRoaXMuYWFiYiA9IG9wdGlvbnMuYWFiYiA/IG9wdGlvbnMuYWFiYi5jbG9uZSgpIDogbmV3IEFBQkIoKTtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIEluc2VydCBkYXRhIGludG8gdGhpcyBub2RlXHJcbiAgICogQG1ldGhvZCBpbnNlcnRcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50RGF0YVxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIGZhbHNlXHJcbiAgICovXG5cblxuICBpbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsID0gMCkge1xuICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBJZ25vcmUgb2JqZWN0cyB0aGF0IGRvIG5vdCBiZWxvbmcgaW4gdGhpcyBub2RlXG5cbiAgICBpZiAoIXRoaXMuYWFiYi5jb250YWlucyhhYWJiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvYmplY3QgY2Fubm90IGJlIGFkZGVkXG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIGNvbnN0IG1heERlcHRoID0gdGhpcy5tYXhEZXB0aCB8fCB0aGlzLnJvb3QubWF4RGVwdGg7XG5cbiAgICBpZiAobGV2ZWwgPCBtYXhEZXB0aCkge1xuICAgICAgLy8gU3ViZGl2aWRlIGlmIHRoZXJlIGFyZSBubyBjaGlsZHJlbiB5ZXRcbiAgICAgIGxldCBzdWJkaXZpZGVkID0gZmFsc2U7XG5cbiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc3ViZGl2aWRlKCk7XG4gICAgICAgIHN1YmRpdmlkZWQgPSB0cnVlO1xuICAgICAgfSAvLyBhZGQgdG8gd2hpY2hldmVyIG5vZGUgd2lsbCBhY2NlcHQgaXRcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbltpXS5pbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsICsgMSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3ViZGl2aWRlZCkge1xuICAgICAgICAvLyBObyBjaGlsZHJlbiBhY2NlcHRlZCEgTWlnaHQgYXMgd2VsbCBqdXN0IHJlbW92ZSBlbSBzaW5jZSB0aGV5IGNvbnRhaW4gbm9uZVxuICAgICAgICBjaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH0gLy8gVG9vIGRlZXAsIG9yIGNoaWxkcmVuIGRpZG50IHdhbnQgaXQuIGFkZCBpdCBpbiBjdXJyZW50IG5vZGVcblxuXG4gICAgbm9kZURhdGEucHVzaChlbGVtZW50RGF0YSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ3JlYXRlIDggZXF1YWxseSBzaXplZCBjaGlsZHJlbiBub2RlcyBhbmQgcHV0IHRoZW0gaW4gdGhlIC5jaGlsZHJlbiBhcnJheS5cclxuICAgKiBAbWV0aG9kIHN1YmRpdmlkZVxyXG4gICAqL1xuXG5cbiAgc3ViZGl2aWRlKCkge1xuICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7XG4gICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gYWFiYi51cHBlckJvdW5kO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbi5wdXNoKG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMClcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMClcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMClcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMClcbiAgICAgIH0pXG4gICAgfSkpO1xuICAgIHUudnN1YihsLCBoYWxmRGlhZ29uYWwpO1xuICAgIGhhbGZEaWFnb25hbC5zY2FsZSgwLjUsIGhhbGZEaWFnb25hbCk7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdCB8fCB0aGlzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTsgLy8gU2V0IGN1cnJlbnQgbm9kZSBhcyByb290XG5cbiAgICAgIGNoaWxkLnJvb3QgPSByb290OyAvLyBDb21wdXRlIGJvdW5kc1xuXG4gICAgICBjb25zdCBsb3dlckJvdW5kID0gY2hpbGQuYWFiYi5sb3dlckJvdW5kO1xuICAgICAgbG93ZXJCb3VuZC54ICo9IGhhbGZEaWFnb25hbC54O1xuICAgICAgbG93ZXJCb3VuZC55ICo9IGhhbGZEaWFnb25hbC55O1xuICAgICAgbG93ZXJCb3VuZC56ICo9IGhhbGZEaWFnb25hbC56O1xuICAgICAgbG93ZXJCb3VuZC52YWRkKGwsIGxvd2VyQm91bmQpOyAvLyBVcHBlciBib3VuZCBpcyBhbHdheXMgbG93ZXIgYm91bmQgKyBoYWxmRGlhZ29uYWxcblxuICAgICAgbG93ZXJCb3VuZC52YWRkKGhhbGZEaWFnb25hbCwgY2hpbGQuYWFiYi51cHBlckJvdW5kKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFsbCBkYXRhLCBwb3RlbnRpYWxseSB3aXRoaW4gYW4gQUFCQlxyXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHthcnJheX0gVGhlIFwicmVzdWx0XCIgb2JqZWN0XHJcbiAgICovXG5cblxuICBhYWJiUXVlcnkoYWFiYiwgcmVzdWx0KSB7XG4gICAgY29uc3Qgbm9kZURhdGEgPSB0aGlzLmRhdGE7IC8vIGFib3J0IGlmIHRoZSByYW5nZSBkb2VzIG5vdCBpbnRlcnNlY3QgdGhpcyBub2RlXG4gICAgLy8gaWYgKCF0aGlzLmFhYmIub3ZlcmxhcHMoYWFiYikpe1xuICAgIC8vICAgICByZXR1cm4gcmVzdWx0O1xuICAgIC8vIH1cbiAgICAvLyBBZGQgb2JqZWN0cyBhdCB0aGlzIGxldmVsXG4gICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlRGF0YSk7XG4gICAgLy8gQWRkIGNoaWxkIGRhdGFcbiAgICAvLyBAdG9kbyB1bndyYXAgcmVjdXJzaW9uIGludG8gYSBxdWV1ZSAvIGxvb3AsIHRoYXQncyBmYXN0ZXIgaW4gSlNcblxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsgLy8gZm9yIChsZXQgaSA9IDAsIE4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgLy8gICAgIGNoaWxkcmVuW2ldLmFhYmJRdWVyeShhYWJiLCByZXN1bHQpO1xuICAgIC8vIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gW3RoaXNdO1xuXG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnBvcCgpO1xuXG4gICAgICBpZiAobm9kZS5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZS5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocXVldWUsIG5vZGUuY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFsbCBkYXRhLCBwb3RlbnRpYWxseSBpbnRlcnNlY3RlZCBieSBhIHJheS5cclxuICAgKiBAbWV0aG9kIHJheVF1ZXJ5XHJcbiAgICogQHBhcmFtICB7UmF5fSByYXlcclxuICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IHRyZWVUcmFuc2Zvcm1cclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0XHJcbiAgICogQHJldHVybiB7YXJyYXl9IFRoZSBcInJlc3VsdFwiIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgcmF5UXVlcnkocmF5LCB0cmVlVHJhbnNmb3JtLCByZXN1bHQpIHtcbiAgICAvLyBVc2UgYWFiYiBxdWVyeSBmb3Igbm93LlxuICAgIC8vIEB0b2RvIGltcGxlbWVudCByZWFsIHJheSBxdWVyeSB3aGljaCBuZWVkcyBsZXNzIGxvb2t1cHNcbiAgICByYXkuZ2V0QUFCQih0bXBBQUJCJDEpO1xuICAgIHRtcEFBQkIkMS50b0xvY2FsRnJhbWUodHJlZVRyYW5zZm9ybSwgdG1wQUFCQiQxKTtcbiAgICB0aGlzLmFhYmJRdWVyeSh0bXBBQUJCJDEsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHJlbW92ZUVtcHR5Tm9kZXNcclxuICAgKi9cblxuXG4gIHJlbW92ZUVtcHR5Tm9kZXMoKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVtb3ZlRW1wdHlOb2RlcygpO1xuXG4gICAgICBpZiAoIXRoaXMuY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoICYmICF0aGlzLmNoaWxkcmVuW2ldLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG4vKipcclxuICogQGNsYXNzIE9jdHJlZVxyXG4gKiBAcGFyYW0ge0FBQkJ9IGFhYmIgVGhlIHRvdGFsIEFBQkIgb2YgdGhlIHRyZWVcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RGVwdGg9OF0gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aFxyXG4gKiBAZXh0ZW5kcyBPY3RyZWVOb2RlXHJcbiAqL1xuXG5cbmNsYXNzIE9jdHJlZSBleHRlbmRzIE9jdHJlZU5vZGUge1xuICAvLyBNYXhpbXVtIHN1YmRpdmlzaW9uIGRlcHRoXG4gIGNvbnN0cnVjdG9yKGFhYmIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKHtcbiAgICAgIHJvb3Q6IG51bGwsXG4gICAgICBhYWJiXG4gICAgfSk7XG4gICAgdGhpcy5tYXhEZXB0aCA9IHR5cGVvZiBvcHRpb25zLm1heERlcHRoICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4RGVwdGggOiA4O1xuICB9XG5cbn1cbmNvbnN0IGhhbGZEaWFnb25hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBBQUJCJDEgPSBuZXcgQUFCQigpO1xuXG4vKipcbiAqIEBjbGFzcyBUcmltZXNoXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7YXJyYXl9IHZlcnRpY2VzXG4gKiBAcGFyYW0ge2FycmF5fSBpbmRpY2VzXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQGV4YW1wbGVcbiAqICAgICAvLyBIb3cgdG8gbWFrZSBhIG1lc2ggd2l0aCBhIHNpbmdsZSB0cmlhbmdsZVxuICogICAgIGNvbnN0IHZlcnRpY2VzID0gW1xuICogICAgICAgICAwLCAwLCAwLCAvLyB2ZXJ0ZXggMFxuICogICAgICAgICAxLCAwLCAwLCAvLyB2ZXJ0ZXggMVxuICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMlxuICogICAgIF07XG4gKiAgICAgY29uc3QgaW5kaWNlcyA9IFtcbiAqICAgICAgICAgMCwgMSwgMiAgLy8gdHJpYW5nbGUgMFxuICogICAgIF07XG4gKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpO1xuICovXG5jbGFzcyBUcmltZXNoIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBcnJheSBvZiBpbnRlZ2VycywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIHRyaWFuZ2xlIGNvbnNpc3RzIG9mLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgaXMgdGh1cyAzIHRpbWVzIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzLlxuICAvLyBUaGUgbm9ybWFscyBkYXRhLlxuICAvLyBUaGUgbG9jYWwgQUFCQiBvZiB0aGUgbWVzaC5cbiAgLy8gUmVmZXJlbmNlcyB0byB2ZXJ0ZXggcGFpcnMsIG1ha2luZyB1cCBhbGwgdW5pcXVlIGVkZ2VzIGluIHRoZSB0cmltZXNoLlxuICAvLyBMb2NhbCBzY2FsaW5nIG9mIHRoZSBtZXNoLiBVc2UgLnNldFNjYWxlKCkgdG8gc2V0IGl0LlxuICAvLyBUaGUgaW5kZXhlZCB0cmlhbmdsZXMuIFVzZSAudXBkYXRlVHJlZSgpIHRvIHVwZGF0ZSBpdC5cbiAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5UUklNRVNIXG4gICAgfSk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpO1xuICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBJbnQxNkFycmF5KGluZGljZXMpO1xuICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoaW5kaWNlcy5sZW5ndGgpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5lZGdlcyA9IG51bGw7XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpO1xuICAgIHRoaXMudHJlZSA9IG5ldyBPY3RyZWUoKTtcbiAgICB0aGlzLnVwZGF0ZUVkZ2VzKCk7XG4gICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7XG4gICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICAgIHRoaXMudXBkYXRlVHJlZSgpO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIHVwZGF0ZVRyZWVcbiAgICovXG5cblxuICB1cGRhdGVUcmVlKCkge1xuICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWU7XG4gICAgdHJlZS5yZXNldCgpO1xuICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOyAvLyBUaGUgbG9jYWwgbWVzaCBBQUJCIGlzIHNjYWxlZCwgYnV0IHRoZSBvY3RyZWUgQUFCQiBzaG91bGQgYmUgdW5zY2FsZWRcblxuICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56O1xuICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlc1xuXG4gICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTtcbiAgICBjb25zdCBhID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBiID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBjID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwb2ludHMgPSBbYSwgYiwgY107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIC8vdGhpcy5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpO1xuICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBjb25zdCBpMyA9IGkgKiAzO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcblxuICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7XG5cbiAgICAgIHRyaWFuZ2xlQUFCQi5zZXRGcm9tUG9pbnRzKHBvaW50cyk7XG4gICAgICB0cmVlLmluc2VydCh0cmlhbmdsZUFBQkIsIGkpO1xuICAgIH1cblxuICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLlxuICAgKiBAbWV0aG9kIGdldFRyaWFuZ2xlc0luQUFCQlxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSBxdWVyaWVkIHRyaWFuZ2xlcy5cbiAgICovXG5cblxuICBnZXRUcmlhbmdsZXNJbkFBQkIoYWFiYiwgcmVzdWx0KSB7XG4gICAgdW5zY2FsZWRBQUJCLmNvcHkoYWFiYik7IC8vIFNjYWxlIGl0IHRvIGxvY2FsXG5cbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgY29uc3QgaXN4ID0gc2NhbGUueDtcbiAgICBjb25zdCBpc3kgPSBzY2FsZS55O1xuICAgIGNvbnN0IGlzeiA9IHNjYWxlLno7XG4gICAgY29uc3QgbCA9IHVuc2NhbGVkQUFCQi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSB1bnNjYWxlZEFBQkIudXBwZXJCb3VuZDtcbiAgICBsLnggLz0gaXN4O1xuICAgIGwueSAvPSBpc3k7XG4gICAgbC56IC89IGlzejtcbiAgICB1LnggLz0gaXN4O1xuICAgIHUueSAvPSBpc3k7XG4gICAgdS56IC89IGlzejtcbiAgICByZXR1cm4gdGhpcy50cmVlLmFhYmJRdWVyeSh1bnNjYWxlZEFBQkIsIHJlc3VsdCk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2Qgc2V0U2NhbGVcbiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZVxuICAgKi9cblxuXG4gIHNldFNjYWxlKHNjYWxlKSB7XG4gICAgY29uc3Qgd2FzVW5pZm9ybSA9IHRoaXMuc2NhbGUueCA9PT0gdGhpcy5zY2FsZS55ICYmIHRoaXMuc2NhbGUueSA9PT0gdGhpcy5zY2FsZS56O1xuICAgIGNvbnN0IGlzVW5pZm9ybSA9IHNjYWxlLnggPT09IHNjYWxlLnkgJiYgc2NhbGUueSA9PT0gc2NhbGUuejtcblxuICAgIGlmICghKHdhc1VuaWZvcm0gJiYgaXNVbmlmb3JtKSkge1xuICAgICAgLy8gTm9uLXVuaWZvcm0gc2NhbGluZy4gTmVlZCB0byB1cGRhdGUgbm9ybWFscy5cbiAgICAgIHRoaXMudXBkYXRlTm9ybWFscygpO1xuICAgIH1cblxuICAgIHRoaXMuc2NhbGUuY29weShzY2FsZSk7XG4gICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS5cbiAgICogQG1ldGhvZCB1cGRhdGVOb3JtYWxzXG4gICAqL1xuXG5cbiAgdXBkYXRlTm9ybWFscygpIHtcbiAgICBjb25zdCBuID0gY29tcHV0ZU5vcm1hbHNfbjsgLy8gR2VuZXJhdGUgbm9ybWFsc1xuXG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMubm9ybWFscztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgY29uc3QgaTMgPSBpICogMztcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdO1xuICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdO1xuICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdO1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoYSwgdmEpO1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoYiwgdmIpO1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoYywgdmMpO1xuICAgICAgVHJpbWVzaC5jb21wdXRlTm9ybWFsKHZiLCB2YSwgdmMsIG4pO1xuICAgICAgbm9ybWFsc1tpM10gPSBuLng7XG4gICAgICBub3JtYWxzW2kzICsgMV0gPSBuLnk7XG4gICAgICBub3JtYWxzW2kzICsgMl0gPSBuLno7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIC5lZGdlcyBwcm9wZXJ0eVxuICAgKiBAbWV0aG9kIHVwZGF0ZUVkZ2VzXG4gICAqL1xuXG5cbiAgdXBkYXRlRWRnZXMoKSB7XG4gICAgY29uc3QgZWRnZXMgPSB7fTtcblxuICAgIGNvbnN0IGFkZCA9IChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBhIDwgYiA/IGEgKyBcIl9cIiArIGIgOiBiICsgXCJfXCIgKyBhO1xuICAgICAgZWRnZXNba2V5XSA9IHRydWU7XG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgY29uc3QgaTMgPSBpICogMztcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdO1xuICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdO1xuICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdO1xuICAgICAgYWRkKGEsIGIpO1xuICAgICAgYWRkKGIsIGMpO1xuICAgICAgYWRkKGMsIGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhlZGdlcyk7XG4gICAgdGhpcy5lZGdlcyA9IG5ldyBJbnQxNkFycmF5KGtleXMubGVuZ3RoICogMik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGluZGljZXMgPSBrZXlzW2ldLnNwbGl0KCdfJyk7XG4gICAgICB0aGlzLmVkZ2VzWzIgKiBpXSA9IHBhcnNlSW50KGluZGljZXNbMF0sIDEwKTtcbiAgICAgIHRoaXMuZWRnZXNbMiAqIGkgKyAxXSA9IHBhcnNlSW50KGluZGljZXNbMV0sIDEwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBlZGdlIHZlcnRleFxuICAgKiBAbWV0aG9kIGdldEVkZ2VWZXJ0ZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBmaXJzdE9yU2Vjb25kIDAgb3IgMSwgZGVwZW5kaW5nIG9uIHdoaWNoIG9uZSBvZiB0aGUgdmVydGljZXMgeW91IG5lZWQuXG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlcnRleFN0b3JlIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICovXG5cblxuICBnZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgZmlyc3RPclNlY29uZCwgdmVydGV4U3RvcmUpIHtcbiAgICBjb25zdCB2ZXJ0ZXhJbmRleCA9IHRoaXMuZWRnZXNbZWRnZUluZGV4ICogMiArIChmaXJzdE9yU2Vjb25kID8gMSA6IDApXTtcbiAgICB0aGlzLmdldFZlcnRleCh2ZXJ0ZXhJbmRleCwgdmVydGV4U3RvcmUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS5cbiAgICogQG1ldGhvZCBnZXRFZGdlVmVjdG9yXG4gICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4XG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlY3RvclN0b3JlXG4gICAqL1xuXG5cbiAgZ2V0RWRnZVZlY3RvcihlZGdlSW5kZXgsIHZlY3RvclN0b3JlKSB7XG4gICAgY29uc3QgdmEgPSBnZXRFZGdlVmVjdG9yX3ZhO1xuICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjtcbiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAwLCB2YSk7XG4gICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMSwgdmIpO1xuICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHZlcnRleCBpLlxuICAgKiBAbWV0aG9kIGdldFZlcnRleFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlcbiAgICogQHBhcmFtICB7VmVjM30gb3V0XG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcbiAgICovXG5cblxuICBnZXRWZXJ0ZXgoaSwgb3V0KSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlO1xuXG4gICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KTtcblxuICAgIG91dC54ICo9IHNjYWxlLng7XG4gICAgb3V0LnkgKj0gc2NhbGUueTtcbiAgICBvdXQueiAqPSBzY2FsZS56O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCByYXcgdmVydGV4IGlcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ2V0VW5zY2FsZWRWZXJ0ZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBpXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJvdXRcIiB2ZWN0b3Igb2JqZWN0XG4gICAqL1xuXG5cbiAgX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCkge1xuICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIHJldHVybiBvdXQuc2V0KHZlcnRpY2VzW2kzXSwgdmVydGljZXNbaTMgKyAxXSwgdmVydGljZXNbaTMgKyAyXSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi5cbiAgICogQG1ldGhvZCBnZXRXb3JsZFZlcnRleFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlcbiAgICogQHBhcmFtICB7VmVjM30gcG9zXG4gICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXRcbiAgICogQHBhcmFtICB7VmVjM30gb3V0XG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcIm91dFwiIHZlY3RvciBvYmplY3RcbiAgICovXG5cblxuICBnZXRXb3JsZFZlcnRleChpLCBwb3MsIHF1YXQsIG91dCkge1xuICAgIHRoaXMuZ2V0VmVydGV4KGksIG91dCk7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvcywgcXVhdCwgb3V0LCBvdXQpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgdGhyZWUgdmVydGljZXMgZm9yIHRyaWFuZ2xlIGkuXG4gICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVWZXJ0aWNlc1xuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlcbiAgICogQHBhcmFtICB7VmVjM30gYVxuICAgKiBAcGFyYW0gIHtWZWMzfSBiXG4gICAqIEBwYXJhbSAge1ZlYzN9IGNcbiAgICovXG5cblxuICBnZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpIHtcbiAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpM10sIGEpO1xuICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTtcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiB0cmlhbmdsZSBpLlxuICAgKiBAbWV0aG9kIGdldE5vcm1hbFxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcInRhcmdldFwiIHZlY3RvciBvYmplY3RcbiAgICovXG5cblxuICBnZXROb3JtYWwoaSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgaTMgPSBpICogMztcbiAgICByZXR1cm4gdGFyZ2V0LnNldCh0aGlzLm5vcm1hbHNbaTNdLCB0aGlzLm5vcm1hbHNbaTMgKyAxXSwgdGhpcy5ub3JtYWxzW2kzICsgMl0pO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcInRhcmdldFwiIHZlY3RvciBvYmplY3RcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7XG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYVxuICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdFxuICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihjbGlfYWFiYik7XG4gICAgY29uc3QgeCA9IGNsaV9hYWJiLnVwcGVyQm91bmQueCAtIGNsaV9hYWJiLmxvd2VyQm91bmQueDtcbiAgICBjb25zdCB5ID0gY2xpX2FhYmIudXBwZXJCb3VuZC55IC0gY2xpX2FhYmIubG93ZXJCb3VuZC55O1xuICAgIGNvbnN0IHogPSBjbGlfYWFiYi51cHBlckJvdW5kLnogLSBjbGlfYWFiYi5sb3dlckJvdW5kLno7XG4gICAgcmV0dXJuIHRhcmdldC5zZXQoMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeCAqIDIgKiB4ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGxvY2FsIEFBQkIgZm9yIHRoZSB0cmltZXNoXG4gICAqIEBtZXRob2QgY29tcHV0ZUxvY2FsQUFCQlxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gICAqL1xuXG5cbiAgY29tcHV0ZUxvY2FsQUFCQihhYWJiKSB7XG4gICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gYWFiYi51cHBlckJvdW5kO1xuICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3QgdiA9IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0O1xuICAgIHRoaXMuZ2V0VmVydGV4KDAsIHYpO1xuICAgIGwuY29weSh2KTtcbiAgICB1LmNvcHkodik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7XG4gICAgICB0aGlzLmdldFZlcnRleChpLCB2KTtcblxuICAgICAgaWYgKHYueCA8IGwueCkge1xuICAgICAgICBsLnggPSB2Lng7XG4gICAgICB9IGVsc2UgaWYgKHYueCA+IHUueCkge1xuICAgICAgICB1LnggPSB2Lng7XG4gICAgICB9XG5cbiAgICAgIGlmICh2LnkgPCBsLnkpIHtcbiAgICAgICAgbC55ID0gdi55O1xuICAgICAgfSBlbHNlIGlmICh2LnkgPiB1LnkpIHtcbiAgICAgICAgdS55ID0gdi55O1xuICAgICAgfVxuXG4gICAgICBpZiAodi56IDwgbC56KSB7XG4gICAgICAgIGwueiA9IHYuejtcbiAgICAgIH0gZWxzZSBpZiAodi56ID4gdS56KSB7XG4gICAgICAgIHUueiA9IHYuejtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgLmFhYmIgcHJvcGVydHlcbiAgICogQG1ldGhvZCB1cGRhdGVBQUJCXG4gICAqL1xuXG5cbiAgdXBkYXRlQUFCQigpIHtcbiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIodGhpcy5hYWJiKTtcbiAgfVxuICAvKipcbiAgICogV2lsbCB1cGRhdGUgdGhlIC5ib3VuZGluZ1NwaGVyZVJhZGl1cyBwcm9wZXJ0eVxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzXG4gICAqL1xuXG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlclxuICAgIGxldCBtYXgyID0gMDtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3QgdiA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHZlcnRpY2VzLmxlbmd0aCAvIDM7IGkgIT09IE47IGkrKykge1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7XG4gICAgICBjb25zdCBub3JtMiA9IHYubGVuZ3RoU3F1YXJlZCgpO1xuXG4gICAgICBpZiAobm9ybTIgPiBtYXgyKSB7XG4gICAgICAgIG1heDIgPSBub3JtMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQlxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3NcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdFxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW5cbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4XG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICAvKlxuICAgICAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLyAzLFxuICAgICAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICBjb25zdCBtaW54LG1pbnksbWlueixtYXh4LG1heHksbWF4ejtcbiAgICAgICAgIGNvbnN0IHYgPSB0ZW1wV29ybGRWZXJ0ZXg7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPG47IGkrKyl7XG4gICAgICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTtcbiAgICAgICAgICAgIHF1YXQudm11bHQodiwgdik7XG4gICAgICAgICAgICBwb3MudmFkZCh2LCB2KTtcbiAgICAgICAgICAgIGlmICh2LnggPCBtaW54IHx8IG1pbng9PT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIG1pbnggPSB2Lng7XG4gICAgICAgICAgICB9IGVsc2UgaWYodi54ID4gbWF4eCB8fCBtYXh4PT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBtYXh4ID0gdi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGlmICh2LnkgPCBtaW55IHx8IG1pbnk9PT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIG1pbnkgPSB2Lnk7XG4gICAgICAgICAgICB9IGVsc2UgaWYodi55ID4gbWF4eSB8fCBtYXh5PT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBtYXh5ID0gdi55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGlmICh2LnogPCBtaW56IHx8IG1pbno9PT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIG1pbnogPSB2Lno7XG4gICAgICAgICAgICB9IGVsc2UgaWYodi56ID4gbWF4eiB8fCBtYXh6PT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBtYXh6ID0gdi56O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1pbi5zZXQobWlueCxtaW55LG1pbnopO1xuICAgICAgICBtYXguc2V0KG1heHgsbWF4eSxtYXh6KTtcbiAgICAgICAgKi9cbiAgICAvLyBGYXN0ZXIgYXBwcm94aW1hdGlvbiB1c2luZyBsb2NhbCBBQUJCXG4gICAgY29uc3QgZnJhbWUgPSBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWU7XG4gICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlV29ybGRBQUJCX2FhYmI7XG4gICAgZnJhbWUucG9zaXRpb24gPSBwb3M7XG4gICAgZnJhbWUucXVhdGVybmlvbiA9IHF1YXQ7XG4gICAgdGhpcy5hYWJiLnRvV29ybGRGcmFtZShmcmFtZSwgcmVzdWx0KTtcbiAgICBtaW4uY29weShyZXN1bHQubG93ZXJCb3VuZCk7XG4gICAgbWF4LmNvcHkocmVzdWx0LnVwcGVyQm91bmQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYXBwcm94aW1hdGUgdm9sdW1lXG4gICAqIEBtZXRob2Qgdm9sdW1lXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wO1xuICB9XG5cbn1cbmNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgdW5zY2FsZWRBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IGdldEVkZ2VWZWN0b3JfdmEgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7XG4vKipcbiAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxcbiAqIEBwYXJhbSB7VmVjM30gdmFcbiAqIEBwYXJhbSB7VmVjM30gdmJcbiAqIEBwYXJhbSB7VmVjM30gdmNcbiAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XG4gKi9cblxuY29uc3QgY2IgPSBuZXcgVmVjMygpO1xuY29uc3QgYWIgPSBuZXcgVmVjMygpO1xuXG5UcmltZXNoLmNvbXB1dGVOb3JtYWwgPSAodmEsIHZiLCB2YywgdGFyZ2V0KSA9PiB7XG4gIHZiLnZzdWIodmEsIGFiKTtcbiAgdmMudnN1Yih2YiwgY2IpO1xuICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTtcblxuICBpZiAoIXRhcmdldC5pc1plcm8oKSkge1xuICAgIHRhcmdldC5ub3JtYWxpemUoKTtcbiAgfVxufTtcblxuY29uc3QgdmEgPSBuZXcgVmVjMygpO1xuY29uc3QgdmIgPSBuZXcgVmVjMygpO1xuY29uc3QgdmMgPSBuZXcgVmVjMygpO1xuY29uc3QgY2xpX2FhYmIgPSBuZXcgQUFCQigpO1xuY29uc3QgY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQgPSBuZXcgVmVjMygpO1xuY29uc3QgY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lID0gbmV3IFRyYW5zZm9ybSgpO1xuY29uc3QgY2FsY3VsYXRlV29ybGRBQUJCX2FhYmIgPSBuZXcgQUFCQigpO1xuLyoqXG4gKiBDcmVhdGUgYSBUcmltZXNoIGluc3RhbmNlLCBzaGFwZWQgYXMgYSB0b3J1cy5cbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgY3JlYXRlVG9ydXNcbiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGl1cz0xXVxuICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpYWxTZWdtZW50cz04XVxuICogQHBhcmFtICB7bnVtYmVyfSBbdHVidWxhclNlZ21lbnRzPTZdXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdXG4gKiBAcmV0dXJuIHtUcmltZXNofSBBIHRvcnVzXG4gKi9cblxuVHJpbWVzaC5jcmVhdGVUb3J1cyA9IChyYWRpdXMgPSAxLCB0dWJlID0gMC41LCByYWRpYWxTZWdtZW50cyA9IDgsIHR1YnVsYXJTZWdtZW50cyA9IDYsIGFyYyA9IE1hdGguUEkgKiAyKSA9PiB7XG4gIGNvbnN0IHZlcnRpY2VzID0gW107XG4gIGNvbnN0IGluZGljZXMgPSBbXTtcblxuICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IHUgPSBpIC8gdHVidWxhclNlZ21lbnRzICogYXJjO1xuICAgICAgY29uc3QgdiA9IGogLyByYWRpYWxTZWdtZW50cyAqIE1hdGguUEkgKiAyO1xuICAgICAgY29uc3QgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5jb3ModSk7XG4gICAgICBjb25zdCB5ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2KSkgKiBNYXRoLnNpbih1KTtcbiAgICAgIGNvbnN0IHogPSB0dWJlICogTWF0aC5zaW4odik7XG4gICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykge1xuICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTtcbiAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7XG4gICAgICBjb25zdCBjID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGk7XG4gICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7XG4gICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7XG4gICAgICBpbmRpY2VzLnB1c2goYiwgYywgZCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTtcbn07XG5cbi8qKlxyXG4gKiBDb25zdHJhaW50IGVxdWF0aW9uIHNvbHZlciBiYXNlIGNsYXNzLlxyXG4gKiBAY2xhc3MgU29sdmVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqL1xuY2xhc3MgU29sdmVyIHtcbiAgLy8gQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWRcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcbiAgfVxuICAvKipcclxuICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyFcclxuICAgKiBAbWV0aG9kIHNvbHZlXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBkdFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkXHJcbiAgICovXG5cblxuICBzb2x2ZShkdCwgd29ybGQpIHtcbiAgICByZXR1cm4gKC8vIFNob3VsZCByZXR1cm4gdGhlIG51bWJlciBvZiBpdGVyYXRpb25zIGRvbmUhXG4gICAgICAwXG4gICAgKTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYW4gZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcclxuICAgKi9cblxuXG4gIGFkZEVxdWF0aW9uKGVxKSB7XG4gICAgaWYgKGVxLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYW4gZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcclxuICAgKi9cblxuXG4gIHJlbW92ZUVxdWF0aW9uKGVxKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG4gICAgY29uc3QgaSA9IGVxcy5pbmRleE9mKGVxKTtcblxuICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgZXFzLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGFsbCBlcXVhdGlvbnNcclxuICAgKiBAbWV0aG9kIHJlbW92ZUFsbEVxdWF0aW9uc1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQWxsRXF1YXRpb25zKCkge1xuICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gIH1cblxufVxuXG4vKipcclxuICogQ29uc3RyYWludCBlcXVhdGlvbiBHYXVzcy1TZWlkZWwgc29sdmVyLlxyXG4gKiBAY2xhc3MgR1NTb2x2ZXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEB0b2RvIFRoZSBzcG9vayBwYXJhbWV0ZXJzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIGVhY2ggY29uc3RyYWludCwgbm90IGdsb2JhbGx5LlxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGZcclxuICogQGV4dGVuZHMgU29sdmVyXHJcbiAqL1xuY2xhc3MgR1NTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgfVxuICAvKipcclxuICAgKiBTb2x2ZVxyXG4gICAqIEBtZXRob2Qgc29sdmVcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWRcclxuICAgKi9cblxuXG4gIHNvbHZlKGR0LCB3b3JsZCkge1xuICAgIGxldCBpdGVyID0gMDtcbiAgICBjb25zdCBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IHRvbFNxdWFyZWQgPSB0aGlzLnRvbGVyYW5jZSAqIHRoaXMudG9sZXJhbmNlO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGggPSBkdDtcbiAgICBsZXQgQjtcbiAgICBsZXQgaW52QztcbiAgICBsZXQgZGVsdGFsYW1iZGE7XG4gICAgbGV0IGRlbHRhbGFtYmRhVG90O1xuICAgIGxldCBHV2xhbWJkYTtcbiAgICBsZXQgbGFtYmRhajsgLy8gVXBkYXRlIHNvbHZlIG1hc3NcblxuICAgIGlmIChOZXEgIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHtcbiAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlXG5cblxuICAgIGNvbnN0IGludkNzID0gR1NTb2x2ZXJfc29sdmVfaW52Q3M7XG4gICAgY29uc3QgQnMgPSBHU1NvbHZlcl9zb2x2ZV9CcztcbiAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7XG4gICAgaW52Q3MubGVuZ3RoID0gTmVxO1xuICAgIEJzLmxlbmd0aCA9IE5lcTtcbiAgICBsYW1iZGEubGVuZ3RoID0gTmVxO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gZXF1YXRpb25zW2ldO1xuICAgICAgbGFtYmRhW2ldID0gMC4wO1xuICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpO1xuICAgICAgaW52Q3NbaV0gPSAxLjAgLyBjLmNvbXB1dGVDKCk7XG4gICAgfVxuXG4gICAgaWYgKE5lcSAhPT0gMCkge1xuICAgICAgLy8gUmVzZXQgdmxhbWJkYVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhO1xuICAgICAgICBjb25zdCB3bGFtYmRhID0gYi53bGFtYmRhO1xuICAgICAgICB2bGFtYmRhLnNldCgwLCAwLCAwKTtcbiAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7XG4gICAgICB9IC8vIEl0ZXJhdGUgb3ZlciBlcXVhdGlvbnNcblxuXG4gICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHtcbiAgICAgICAgLy8gQWNjdW11bGF0ZSB0aGUgdG90YWwgZXJyb3IgZm9yIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTmVxOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvblxuXG4gICAgICAgICAgQiA9IEJzW2pdO1xuICAgICAgICAgIGludkMgPSBpbnZDc1tqXTtcbiAgICAgICAgICBsYW1iZGFqID0gbGFtYmRhW2pdO1xuICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTtcbiAgICAgICAgICBkZWx0YWxhbWJkYSA9IGludkMgKiAoQiAtIEdXbGFtYmRhIC0gYy5lcHMgKiBsYW1iZGFqKTsgLy8gQ2xhbXAgaWYgd2UgYXJlIG5vdCB3aXRoaW4gdGhlIG1pbi9tYXggaW50ZXJ2YWxcblxuICAgICAgICAgIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPCBjLm1pbkZvcmNlKSB7XG4gICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkge1xuICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1heEZvcmNlIC0gbGFtYmRhajtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7XG4gICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKVxuXG4gICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpO1xuICAgICAgICB9IC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGVcblxuXG4gICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHlcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICAgIGNvbnN0IHYgPSBiLnZlbG9jaXR5O1xuICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7XG4gICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpO1xuICAgICAgICB2LnZhZGQoYi52bGFtYmRhLCB2KTtcbiAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpO1xuICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTtcbiAgICAgIH0gLy8gU2V0IHRoZSAubXVsdGlwbGllciBwcm9wZXJ0eSBvZiBlYWNoIGVxdWF0aW9uXG5cblxuICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoO1xuICAgICAgY29uc3QgaW52RHQgPSAxIC8gaDtcblxuICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbn1cbmNvbnN0IEdTU29sdmVyX3NvbHZlX2xhbWJkYSA9IFtdOyAvLyBKdXN0IHRlbXBvcmFyeSBudW1iZXIgaG9sZGVycyB0aGF0IHdlIHdhbnQgdG8gcmV1c2UgZWFjaCBzb2x2ZS5cblxuY29uc3QgR1NTb2x2ZXJfc29sdmVfaW52Q3MgPSBbXTtcbmNvbnN0IEdTU29sdmVyX3NvbHZlX0JzID0gW107XG5cbi8qKlxyXG4gKiBTcGxpdHMgdGhlIGVxdWF0aW9ucyBpbnRvIGlzbGFuZHMgYW5kIHNvbHZlcyB0aGVtIGluZGVwZW5kZW50bHkuIENhbiBpbXByb3ZlIHBlcmZvcm1hbmNlLlxyXG4gKiBAY2xhc3MgU3BsaXRTb2x2ZXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNvbHZlclxyXG4gKiBAcGFyYW0ge1NvbHZlcn0gc3Vic29sdmVyXHJcbiAqL1xuY2xhc3MgU3BsaXRTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcihzdWJzb2x2ZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgICB0aGlzLnN1YnNvbHZlciA9IHN1YnNvbHZlcjtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5ub2RlUG9vbCA9IFtdOyAvLyBDcmVhdGUgbmVlZGVkIG5vZGVzLCByZXVzZSBpZiBwb3NzaWJsZVxuXG4gICAgd2hpbGUgKHRoaXMubm9kZVBvb2wubGVuZ3RoIDwgMTI4KSB7XG4gICAgICB0aGlzLm5vZGVQb29sLnB1c2godGhpcy5jcmVhdGVOb2RlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZU5vZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvZHk6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBlcXM6IFtdLFxuICAgICAgdmlzaXRlZDogZmFsc2VcbiAgICB9O1xuICB9XG4gIC8qKlxyXG4gICAqIFNvbHZlIHRoZSBzdWJzeXN0ZW1zXHJcbiAgICogQG1ldGhvZCBzb2x2ZVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZHRcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZFxyXG4gICAqL1xuXG5cbiAgc29sdmUoZHQsIHdvcmxkKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9ub2RlcztcbiAgICBjb25zdCBub2RlUG9vbCA9IHRoaXMubm9kZVBvb2w7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgTmJvZGllcyA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc3Vic29sdmVyID0gdGhpcy5zdWJzb2x2ZXI7IC8vIENyZWF0ZSBuZWVkZWQgbm9kZXMsIHJldXNlIGlmIHBvc3NpYmxlXG5cbiAgICB3aGlsZSAobm9kZVBvb2wubGVuZ3RoIDwgTmJvZGllcykge1xuICAgICAgbm9kZVBvb2wucHVzaCh0aGlzLmNyZWF0ZU5vZGUoKSk7XG4gICAgfVxuXG4gICAgbm9kZXMubGVuZ3RoID0gTmJvZGllcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTmJvZGllczsgaSsrKSB7XG4gICAgICBub2Rlc1tpXSA9IG5vZGVQb29sW2ldO1xuICAgIH0gLy8gUmVzZXQgbm9kZSB2YWx1ZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgbm9kZS5lcXMubGVuZ3RoID0gMDtcbiAgICAgIG5vZGUudmlzaXRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOZXE7IGsrKykge1xuICAgICAgY29uc3QgZXEgPSBlcXVhdGlvbnNba107XG4gICAgICBjb25zdCBpID0gYm9kaWVzLmluZGV4T2YoZXEuYmkpO1xuICAgICAgY29uc3QgaiA9IGJvZGllcy5pbmRleE9mKGVxLmJqKTtcbiAgICAgIGNvbnN0IG5pID0gbm9kZXNbaV07XG4gICAgICBjb25zdCBuaiA9IG5vZGVzW2pdO1xuICAgICAgbmkuY2hpbGRyZW4ucHVzaChuaik7XG4gICAgICBuaS5lcXMucHVzaChlcSk7XG4gICAgICBuai5jaGlsZHJlbi5wdXNoKG5pKTtcbiAgICAgIG5qLmVxcy5wdXNoKGVxKTtcbiAgICB9XG5cbiAgICBsZXQgY2hpbGQ7XG4gICAgbGV0IG4gPSAwO1xuICAgIGxldCBlcXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9lcXM7XG4gICAgc3Vic29sdmVyLnRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgIHN1YnNvbHZlci5pdGVyYXRpb25zID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IGR1bW15V29ybGQgPSBTcGxpdFNvbHZlcl9zb2x2ZV9kdW1teVdvcmxkO1xuXG4gICAgd2hpbGUgKGNoaWxkID0gZ2V0VW52aXNpdGVkTm9kZShub2RlcykpIHtcbiAgICAgIGVxcy5sZW5ndGggPSAwO1xuICAgICAgZHVtbXlXb3JsZC5ib2RpZXMubGVuZ3RoID0gMDtcbiAgICAgIGJmcyhjaGlsZCwgdmlzaXRGdW5jLCBkdW1teVdvcmxkLmJvZGllcywgZXFzKTtcbiAgICAgIGNvbnN0IE5lcXMgPSBlcXMubGVuZ3RoO1xuICAgICAgZXFzID0gZXFzLnNvcnQoc29ydEJ5SWQpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxczsgaSsrKSB7XG4gICAgICAgIHN1YnNvbHZlci5hZGRFcXVhdGlvbihlcXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGVyID0gc3Vic29sdmVyLnNvbHZlKGR0LCBkdW1teVdvcmxkKTtcbiAgICAgIHN1YnNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcbiAgICAgIG4rKztcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbiAgfVxuXG59IC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBzdWJzeXN0ZW1zXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX25vZGVzID0gW107IC8vIEFsbCBhbGxvY2F0ZWQgbm9kZSBvYmplY3RzXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2VxcyA9IFtdOyAvLyBUZW1wIGFycmF5XG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2R1bW15V29ybGQgPSB7XG4gIGJvZGllczogW11cbn07IC8vIFRlbXAgb2JqZWN0XG5cbmNvbnN0IFNUQVRJQyA9IEJvZHkuU1RBVElDO1xuXG5mdW5jdGlvbiBnZXRVbnZpc2l0ZWROb2RlKG5vZGVzKSB7XG4gIGNvbnN0IE5ub2RlcyA9IG5vZGVzLmxlbmd0aDtcblxuICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTm5vZGVzOyBpKyspIHtcbiAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG5cbiAgICBpZiAoIW5vZGUudmlzaXRlZCAmJiAhKG5vZGUuYm9keS50eXBlICYgU1RBVElDKSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiBiZnMocm9vdCwgdmlzaXRGdW5jLCBiZHMsIGVxcykge1xuICBxdWV1ZS5wdXNoKHJvb3QpO1xuICByb290LnZpc2l0ZWQgPSB0cnVlO1xuICB2aXNpdEZ1bmMocm9vdCwgYmRzLCBlcXMpO1xuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7IC8vIExvb3Agb3ZlciB1bnZpc2l0ZWQgY2hpbGQgbm9kZXNcblxuICAgIGxldCBjaGlsZDtcblxuICAgIHdoaWxlIChjaGlsZCA9IGdldFVudmlzaXRlZE5vZGUobm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGNoaWxkLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgdmlzaXRGdW5jKGNoaWxkLCBiZHMsIGVxcyk7XG4gICAgICBxdWV1ZS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlzaXRGdW5jKG5vZGUsIGJkcywgZXFzKSB7XG4gIGJkcy5wdXNoKG5vZGUuYm9keSk7XG4gIGNvbnN0IE5lcXMgPSBub2RlLmVxcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcXM7IGkrKykge1xuICAgIGNvbnN0IGVxID0gbm9kZS5lcXNbaV07XG5cbiAgICBpZiAoIWVxcy5pbmNsdWRlcyhlcSkpIHtcbiAgICAgIGVxcy5wdXNoKGVxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5SWQoYSwgYikge1xuICByZXR1cm4gYi5pZCAtIGEuaWQ7XG59XG5cbi8qKlxyXG4gKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC5cclxuICogQGNsYXNzIFBvb2xcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgUG9vbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub2JqZWN0cyA9IFtdO1xuICAgIHRoaXMudHlwZSA9IE9iamVjdDtcbiAgfVxuICAvKipcclxuICAgKiBSZWxlYXNlIGFuIG9iamVjdCBhZnRlciB1c2VcclxuICAgKiBAbWV0aG9kIHJlbGVhc2VcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAgICovXG5cblxuICByZWxlYXNlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBOYXJncyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5hcmdzOyBpKyspIHtcbiAgICAgIHRoaXMub2JqZWN0cy5wdXNoKGFyZ3NbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBvYmplY3RcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEByZXR1cm4ge21peGVkfVxyXG4gICAqL1xuXG5cbiAgZ2V0KCkge1xuICAgIGlmICh0aGlzLm9iamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RPYmplY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cy5wb3AoKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29uc3RydWN0IGFuIG9iamVjdC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGVhY2ggc3ViY2xhc3MuXHJcbiAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3RcclxuICAgKiBAcmV0dXJuIHttaXhlZH1cclxuICAgKi9cblxuXG4gIGNvbnN0cnVjdE9iamVjdCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgcmVzaXplXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcclxuICAgKiBAcmV0dXJuIHtQb29sfSBTZWxmLCBmb3IgY2hhaW5pbmdcclxuICAgKi9cblxuXG4gIHJlc2l6ZShzaXplKSB7XG4gICAgY29uc3Qgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblxuICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA+IHNpemUpIHtcbiAgICAgIG9iamVjdHMucG9wKCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoIDwgc2l6ZSkge1xuICAgICAgb2JqZWN0cy5wdXNoKHRoaXMuY29uc3RydWN0T2JqZWN0KCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEBjbGFzcyBWZWMzUG9vbFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgUG9vbFxyXG4gKi9cblxuY2xhc3MgVmVjM1Bvb2wgZXh0ZW5kcyBQb29sIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSBWZWMzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIHZlY3RvclxyXG4gICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGNvbnN0cnVjdE9iamVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFZlYzMoKTtcbiAgfVxuXG59XG5cbmNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHtcbiAgc3BoZXJlU3BoZXJlOiBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHNwaGVyZVBsYW5lOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5QTEFORSxcbiAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsXG4gIHNwaGVyZUJveDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQk9YLFxuICBwbGFuZUJveDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5CT1gsXG4gIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlQ29udmV4OiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBwbGFuZUNvbnZleDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sXG4gIHNwaGVyZUhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCxcbiAgYm94SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBzcGhlcmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUEFSVElDTEUgfCBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHBsYW5lUGFydGljbGU6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsXG4gIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSxcbiAgY29udmV4UGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlVHJpbWVzaDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuVFJJTUVTSCxcbiAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0hcbn07XG5cbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHRoZSBXb3JsZC4gR2VuZXJhdGVzIENvbnRhY3RFcXVhdGlvbnMuXHJcbiAqIEBjbGFzcyBOYXJyb3dwaGFzZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHRvZG8gU3BoZXJlLUNvbnZleFBvbHloZWRyb24gY29udGFjdHNcclxuICogQHRvZG8gQ29udGFjdCByZWR1Y3Rpb25cclxuICogQHRvZG8gc2hvdWxkIG1vdmUgbWV0aG9kcyB0byBwcm90b3R5cGVcclxuICovXG5jbGFzcyBOYXJyb3dwaGFzZSB7XG4gIC8vIEludGVybmFsIHN0b3JhZ2Ugb2YgcG9vbGVkIGNvbnRhY3QgcG9pbnRzLlxuICAvLyBQb29sZWQgdmVjdG9ycy5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107XG4gICAgdGhpcy5yZXN1bHQgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gW107XG4gICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogTWFrZSBhIGNvbnRhY3Qgb2JqZWN0LCBieSB1c2luZyB0aGUgaW50ZXJuYWwgcG9vbCBvciBjcmVhdGluZyBhIG5ldyBvbmUuXHJcbiAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb25cclxuICAgKiBAcGFyYW0ge0JvZHl9IGJpXHJcbiAgICogQHBhcmFtIHtCb2R5fSBialxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNpXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gc2pcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBvdmVycmlkZVNoYXBlQVxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCXHJcbiAgICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHtcbiAgICBsZXQgYztcblxuICAgIGlmICh0aGlzLmNvbnRhY3RQb2ludFBvb2wubGVuZ3RoKSB7XG4gICAgICBjID0gdGhpcy5jb250YWN0UG9pbnRQb29sLnBvcCgpO1xuICAgICAgYy5iaSA9IGJpO1xuICAgICAgYy5iaiA9IGJqO1xuICAgIH0gZWxzZSB7XG4gICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopO1xuICAgIH1cblxuICAgIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsO1xuICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjtcbiAgICBjLnNldFNwb29rUGFyYW1zKGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwgdGhpcy53b3JsZC5kdCk7XG4gICAgY29uc3QgbWF0QSA9IHNpLm1hdGVyaWFsIHx8IGJpLm1hdGVyaWFsO1xuICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDtcblxuICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkge1xuICAgICAgYy5yZXN0aXR1dGlvbiA9IG1hdEEucmVzdGl0dXRpb24gKiBtYXRCLnJlc3RpdHV0aW9uO1xuICAgIH1cblxuICAgIGMuc2kgPSBvdmVycmlkZVNoYXBlQSB8fCBzaTtcbiAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBjcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGNvbnRhY3RFcXVhdGlvbiwgb3V0QXJyYXkpIHtcbiAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTtcbiAgICBjb25zdCBib2R5QiA9IGNvbnRhY3RFcXVhdGlvbi5iajtcbiAgICBjb25zdCBzaGFwZUEgPSBjb250YWN0RXF1YXRpb24uc2k7XG4gICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqO1xuICAgIGNvbnN0IHdvcmxkID0gdGhpcy53b3JsZDtcbiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDsgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbVxuXG4gICAgbGV0IGZyaWN0aW9uID0gY20uZnJpY3Rpb247XG4gICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDtcbiAgICBjb25zdCBtYXRCID0gc2hhcGVCLm1hdGVyaWFsIHx8IGJvZHlCLm1hdGVyaWFsO1xuXG4gICAgaWYgKG1hdEEgJiYgbWF0QiAmJiBtYXRBLmZyaWN0aW9uID49IDAgJiYgbWF0Qi5mcmljdGlvbiA+PSAwKSB7XG4gICAgICBmcmljdGlvbiA9IG1hdEEuZnJpY3Rpb24gKiBtYXRCLmZyaWN0aW9uO1xuICAgIH1cblxuICAgIGlmIChmcmljdGlvbiA+IDApIHtcbiAgICAgIC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zXG4gICAgICBjb25zdCBtdWcgPSBmcmljdGlvbiAqIHdvcmxkLmdyYXZpdHkubGVuZ3RoKCk7XG4gICAgICBsZXQgcmVkdWNlZE1hc3MgPSBib2R5QS5pbnZNYXNzICsgYm9keUIuaW52TWFzcztcblxuICAgICAgaWYgKHJlZHVjZWRNYXNzID4gMCkge1xuICAgICAgICByZWR1Y2VkTWFzcyA9IDEgLyByZWR1Y2VkTWFzcztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcG9vbCA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w7XG4gICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpO1xuICAgICAgY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTtcbiAgICAgIGMxLmJpID0gYzIuYmkgPSBib2R5QTtcbiAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjtcbiAgICAgIGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnICogcmVkdWNlZE1hc3M7XG4gICAgICBjMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnICogcmVkdWNlZE1hc3M7IC8vIENvcHkgb3ZlciB0aGUgcmVsYXRpdmUgdmVjdG9yc1xuXG4gICAgICBjMS5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7XG4gICAgICBjMS5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7XG4gICAgICBjMi5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7XG4gICAgICBjMi5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7IC8vIENvbnN0cnVjdCB0YW5nZW50c1xuXG4gICAgICBjb250YWN0RXF1YXRpb24ubmkudGFuZ2VudHMoYzEudCwgYzIudCk7IC8vIFNldCBzcG9vayBwYXJhbXNcblxuICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIHdvcmxkLmR0KTtcbiAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7XG4gICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGNvbnRhY3RFcXVhdGlvbi5lbmFibGVkO1xuICAgICAgb3V0QXJyYXkucHVzaChjMSwgYzIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFRha2UgdGhlIGF2ZXJhZ2UgTiBsYXRlc3QgY29udGFjdCBwb2ludCBvbiB0aGUgcGxhbmUuXG5cblxuICBjcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKSB7XG4gICAgLy8gVGhlIGxhc3QgY29udGFjdEVxdWF0aW9uXG4gICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byBcImF2ZXJhZ2VcIiBmcmljdGlvbiBlcXVhdGlvbnNcblxuICAgIGlmICghdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpIHx8IG51bUNvbnRhY3RzID09PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZjEgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMl07XG4gICAgY29uc3QgZjIgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgYXZlcmFnZU5vcm1hbC5zZXRaZXJvKCk7XG4gICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2V0WmVybygpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNldFplcm8oKTtcbiAgICBjb25zdCBib2R5QSA9IGMuYmk7XG4gICAgY29uc3QgYm9keUIgPSBjLmJqO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG51bUNvbnRhY3RzOyBpKyspIHtcbiAgICAgIGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxIC0gaV07XG5cbiAgICAgIGlmIChjLmJpICE9PSBib2R5QSkge1xuICAgICAgICBhdmVyYWdlTm9ybWFsLnZhZGQoYy5uaSwgYXZlcmFnZU5vcm1hbCk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEEpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF2ZXJhZ2VOb3JtYWwudnN1YihjLm5pLCBhdmVyYWdlTm9ybWFsKTtcbiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGludk51bUNvbnRhY3RzID0gMSAvIG51bUNvbnRhY3RzO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaSk7XG4gICAgYXZlcmFnZUNvbnRhY3RQb2ludEIuc2NhbGUoaW52TnVtQ29udGFjdHMsIGYxLnJqKTtcbiAgICBmMi5yaS5jb3B5KGYxLnJpKTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lXG5cbiAgICBmMi5yai5jb3B5KGYxLnJqKTtcbiAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgIGF2ZXJhZ2VOb3JtYWwudGFuZ2VudHMoZjEudCwgZjIudCk7IC8vIHJldHVybiBlcTtcbiAgfVxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhbGwgY29udGFjdHMgYmV0d2VlbiBhIGxpc3Qgb2YgYm9keSBwYWlyc1xyXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBwMiBBcnJheSBvZiBib2R5IGluZGljZXNcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHNcclxuICAgKiBAcGFyYW0ge2FycmF5fSBvbGRjb250YWN0cyBPcHRpb25hbC4gQXJyYXkgb2YgcmV1c2FibGUgY29udGFjdCBvYmplY3RzXHJcbiAgICovXG5cblxuICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7XG4gICAgLy8gU2F2ZSBvbGQgY29udGFjdCBvYmplY3RzXG4gICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDtcbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7XG4gICAgY29uc3QgcWkgPSB0bXBRdWF0MTtcbiAgICBjb25zdCBxaiA9IHRtcFF1YXQyO1xuICAgIGNvbnN0IHhpID0gdG1wVmVjMSQyO1xuICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyO1xuXG4gICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGJvZGllc1xuICAgICAgY29uc3QgYmkgPSBwMVtrXTtcbiAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsXG5cbiAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7XG4gICAgICAgIGJvZHlDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBqdXN0VGVzdCA9IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5TVEFUSUMgfHwgYmkudHlwZSAmIEJvZHkuU1RBVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQyB8fCBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpLnNoYXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgICAgYmkucXVhdGVybmlvbi52bXVsdChiaS5zaGFwZU9mZnNldHNbaV0sIHhpKTtcbiAgICAgICAgeGkudmFkZChiaS5wb3NpdGlvbiwgeGkpO1xuICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIC8vIENvbXB1dGUgd29ybGQgdHJhbnNmb3JtIG9mIHNoYXBlc1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24ubXVsdChiai5zaGFwZU9yaWVudGF0aW9uc1tqXSwgcWopO1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7XG4gICAgICAgICAgeGoudmFkZChiai5wb3NpdGlvbiwgeGopO1xuICAgICAgICAgIGNvbnN0IHNqID0gYmouc2hhcGVzW2pdO1xuXG4gICAgICAgICAgaWYgKCEoc2kuY29sbGlzaW9uRmlsdGVyTWFzayAmIHNqLmNvbGxpc2lvbkZpbHRlckdyb3VwICYmIHNqLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzaS5jb2xsaXNpb25GaWx0ZXJHcm91cCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbFxuXG5cbiAgICAgICAgICBsZXQgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKHNpLm1hdGVyaWFsICYmIHNqLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gc2hhcGVDb250YWN0TWF0ZXJpYWwgfHwgYm9keUNvbnRhY3RNYXRlcmlhbCB8fCB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOyAvLyBHZXQgY29udGFjdHNcblxuICAgICAgICAgIGNvbnN0IHJlc29sdmVySW5kZXggPSBzaS50eXBlIHwgc2oudHlwZTtcbiAgICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXNbcmVzb2x2ZXJJbmRleF07XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGVcbiAgICAgICAgICAgIC8vIHJlc29sdmVycyBleHBlY3Qgc2kgYW5kIHNqIHNoYXBlcyB0byBiZSBpbiByZXZlcnNlIG9yZGVyXG4gICAgICAgICAgICAvLyAoaS5lLiBsYXJnZXIgaW50ZWdlciB2YWx1ZSB0eXBlIGZpcnN0IGluc3RlYWQgb2Ygc21hbGxlciBmaXJzdClcblxuICAgICAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkge1xuICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdmVybGFwXG4gICAgICAgICAgICAgIHdvcmxkLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTtcbiAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICByZXR1cm4geGkuZGlzdGFuY2VTcXVhcmVkKHhqKSA8IChzaS5yYWRpdXMgKyBzai5yYWRpdXMpICoqIDI7XG4gICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2VcblxuXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICB4ai52c3ViKHhpLCByLm5pKTtcbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9uc1xuXG4gICAgci5yaS5jb3B5KHIubmkpO1xuICAgIHIucmouY29weShyLm5pKTtcbiAgICByLnJpLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7XG4gICAgci5yai5zY2FsZSgtc2oucmFkaXVzLCByLnJqKTtcbiAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICB9XG5cbiAgc3BoZXJlUGxhbmUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBXZSB3aWxsIGhhdmUgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICByLm5pLnNldCgwLCAwLCAxKTtcbiAgICBxai52bXVsdChyLm5pLCByLm5pKTtcbiAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gYm9keSBpIGlzIHRoZSBzcGhlcmUsIGZsaXAgbm9ybWFsXG5cbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBOZWVkZWQ/XG4gICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50XG5cbiAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmVcblxuICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7XG4gICAgci5uaS5zY2FsZShyLm5pLmRvdChwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpLCBwbGFuZV90b19zcGhlcmVfb3J0aG8pO1xuICAgIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS52c3ViKHBsYW5lX3RvX3NwaGVyZV9vcnRobywgci5yaik7IC8vIFRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHBsYW5lXG5cbiAgICBpZiAoLXBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS5kb3Qoci5uaSkgPD0gc2kucmFkaXVzKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuXG4gICAgICBjb25zdCByaSA9IHIucmk7XG4gICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICByaS52YWRkKHhpLCByaSk7XG4gICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gICAgICByai52YWRkKHhqLCByaik7XG4gICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIGJveEJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBzcGhlcmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsgLy8gd2UgcmVmZXIgdG8gdGhlIGJveCBhcyBib2R5IGpcblxuICAgIGNvbnN0IHNpZGVzID0gc3BoZXJlQm94X3NpZGVzO1xuICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpO1xuICAgIHNqLmdldFNpZGVOb3JtYWxzKHNpZGVzLCBxaik7XG4gICAgY29uc3QgUiA9IHNpLnJhZGl1cztcblxuICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBTdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgcGVuZXRyYXRpb24gaW5mb1xuXG4gICAgY29uc3Qgc2lkZV9ucyA9IHNwaGVyZUJveF9zaWRlX25zO1xuICAgIGNvbnN0IHNpZGVfbnMxID0gc3BoZXJlQm94X3NpZGVfbnMxO1xuICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyO1xuICAgIGxldCBzaWRlX2ggPSBudWxsO1xuICAgIGxldCBzaWRlX3BlbmV0cmF0aW9ucyA9IDA7XG4gICAgbGV0IHNpZGVfZG90MSA9IDA7XG4gICAgbGV0IHNpZGVfZG90MiA9IDA7XG4gICAgbGV0IHNpZGVfZGlzdGFuY2UgPSBudWxsO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucylcbiAgICAgIGNvbnN0IG5zID0gc3BoZXJlQm94X25zO1xuICAgICAgbnMuY29weShzaWRlc1tpZHhdKTtcbiAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTtcbiAgICAgIG5zLm5vcm1hbGl6ZSgpOyAvLyBUaGUgbm9ybWFsL2Rpc3RhbmNlIGRvdCBwcm9kdWN0IHRlbGxzIHdoaWNoIHNpZGUgb2YgdGhlIHBsYW5lIHdlIGFyZVxuXG4gICAgICBjb25zdCBkb3QgPSBib3hfdG9fc3BoZXJlLmRvdChucyk7XG5cbiAgICAgIGlmIChkb3QgPCBoICsgUiAmJiBkb3QgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayB0aGUgb3RoZXIgdHdvIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTtcbiAgICAgICAgY29uc3QgbnMyID0gc3BoZXJlQm94X25zMjtcbiAgICAgICAgbnMxLmNvcHkoc2lkZXNbKGlkeCArIDEpICUgM10pO1xuICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7XG4gICAgICAgIGNvbnN0IGgxID0gbnMxLmxlbmd0aCgpO1xuICAgICAgICBjb25zdCBoMiA9IG5zMi5sZW5ndGgoKTtcbiAgICAgICAgbnMxLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuczIubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IGRvdDEgPSBib3hfdG9fc3BoZXJlLmRvdChuczEpO1xuICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTtcblxuICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5hYnMoZG90IC0gaCAtIFIpO1xuXG4gICAgICAgICAgaWYgKHNpZGVfZGlzdGFuY2UgPT09IG51bGwgfHwgZGlzdCA8IHNpZGVfZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHNpZGVfZGlzdGFuY2UgPSBkaXN0O1xuICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTtcbiAgICAgICAgICAgIHNpZGVfZG90MiA9IGRvdDI7XG4gICAgICAgICAgICBzaWRlX2ggPSBoO1xuICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTtcbiAgICAgICAgICAgIHNpZGVfbnMxLmNvcHkobnMxKTtcbiAgICAgICAgICAgIHNpZGVfbnMyLmNvcHkobnMyKTtcbiAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7XG5cbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByXG5cbiAgICAgIHIubmkuY29weShzaWRlX25zKTtcbiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgc2hvdWxkIGJlIG91dCBvZiBzcGhlcmVcblxuICAgICAgc2lkZV9ucy5zY2FsZShzaWRlX2gsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczEuc2NhbGUoc2lkZV9kb3QxLCBzaWRlX25zMSk7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczIuc2NhbGUoc2lkZV9kb3QyLCBzaWRlX25zMik7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczIsIHIucmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9IC8vIENoZWNrIGNvcm5lcnNcblxuXG4gICAgbGV0IHJqID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lcjtcblxuICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykge1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCAhPT0gMiAmJiAhZm91bmQ7IGwrKykge1xuICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTtcblxuICAgICAgICAgIGlmIChqKSB7XG4gICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMF0sIHJqKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaykge1xuICAgICAgICAgICAgcmoudmFkZChzaWRlc1sxXSwgcmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmoudnN1YihzaWRlc1syXSwgcmopO1xuICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyXG5cblxuICAgICAgICAgIHhqLnZhZGQocmosIHNwaGVyZV90b19jb3JuZXIpO1xuICAgICAgICAgIHNwaGVyZV90b19jb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7XG5cbiAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTtcbiAgICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7XG4gICAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpO1xuICAgICAgICAgICAgci5yai5jb3B5KHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdjNwb29sLnJlbGVhc2UocmopO1xuICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXNcblxuICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IGVkZ2VDZW50ZXIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgciA9IHYzcG9vbC5nZXQoKTsgLy8gciA9IGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXJcblxuICAgIGNvbnN0IG9ydGhvZ29uYWwgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTtcbiAgICBjb25zdCBOc2lkZXMgPSBzaWRlcy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTnNpZGVzICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7XG4gICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHtcbiAgICAgICAgICAvLyBHZXQgZWRnZSB0YW5nZW50XG4gICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTtcbiAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBzaWRlc1tqXS52YWRkKHNpZGVzW2tdLCBlZGdlQ2VudGVyKTtcbiAgICAgICAgICByLmNvcHkoeGkpO1xuICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTtcbiAgICAgICAgICByLnZzdWIoeGosIHIpO1xuICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvblxuXG4gICAgICAgICAgZWRnZVRhbmdlbnQuc2NhbGUob3J0aG9ub3JtLCBvcnRob2dvbmFsKTsgLy8gVmVjdG9yIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmVcblxuICAgICAgICAgIGxldCBsID0gMDtcblxuICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykge1xuICAgICAgICAgICAgbCsrO1xuICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50XG5cblxuICAgICAgICAgIGRpc3QuY29weSh4aSk7XG4gICAgICAgICAgZGlzdC52c3ViKG9ydGhvZ29uYWwsIGRpc3QpO1xuICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTtcbiAgICAgICAgICBkaXN0LnZzdWIoeGosIGRpc3QpOyAvLyBEaXN0YW5jZXMgaW4gdGFuZ2VudCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIGluIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIGl0XG5cbiAgICAgICAgICBjb25zdCB0ZGlzdCA9IE1hdGguYWJzKG9ydGhvbm9ybSk7XG4gICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpO1xuXG4gICAgICAgICAgaWYgKHRkaXN0IDwgc2lkZXNbbF0ubGVuZ3RoKCkgJiYgbmRpc3QgPCBSKSB7XG4gICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgICBlZGdlQ2VudGVyLnZhZGQob3J0aG9nb25hbCwgcmVzLnJqKTsgLy8gYm94IHJqXG5cbiAgICAgICAgICAgIHJlcy5yai5jb3B5KHJlcy5yaik7XG4gICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpO1xuICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcmVzLnJpLmNvcHkocmVzLnJqKTtcbiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpO1xuICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTtcbiAgICAgICAgICAgIHJlcy5yai52YWRkKHhqLCByZXMucmopO1xuICAgICAgICAgICAgcmVzLnJqLnZzdWIoYmoucG9zaXRpb24sIHJlcy5yaik7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QocmVzLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2M3Bvb2wucmVsZWFzZShlZGdlVGFuZ2VudCwgZWRnZUNlbnRlciwgciwgb3J0aG9nb25hbCwgZGlzdCk7XG4gIH1cblxuICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkO1xuICAgIHJldHVybiB0aGlzLnBsYW5lQ29udmV4KHNpLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0LCBmYWNlTGlzdEEsIGZhY2VMaXN0Qikge1xuICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpcztcblxuICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7XG4gICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTtcbiAgICAgIGxldCBudW1Db250YWN0cyA9IDA7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgY29uc3QgcmkgPSByLnJpO1xuICAgICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpO1xuICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTtcbiAgICAgICAgcS5zY2FsZShyZXNbal0uZGVwdGgsIHEpO1xuICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZVxuXG4gICAgICAgIHJpLnZzdWIoeGksIHJpKTtcbiAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgbnVtQ29udGFjdHMrKztcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzcGhlcmVDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDtcbiAgICB4aS52c3ViKHhqLCBjb252ZXhfdG9fc3BoZXJlKTtcbiAgICBjb25zdCBub3JtYWxzID0gc2ouZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgZmFjZXMgPSBzai5mYWNlcztcbiAgICBjb25zdCB2ZXJ0cyA9IHNqLnZlcnRpY2VzO1xuICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7XG4gICAgLy8gICAgIHJldHVybjtcbiAgICAvLyB9XG5cbiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gQ2hlY2sgY29ybmVyc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lclxuXG4gICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjtcbiAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTtcbiAgICAgIHhqLnZhZGQod29ybGRDb3JuZXIsIHdvcmxkQ29ybmVyKTtcbiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7XG4gICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTtcblxuICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7XG4gICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgIHIubmkuY29weShyLnJpKTtcbiAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTtcbiAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBDaGVjayBzaWRlIChwbGFuZSkgaW50ZXJzZWN0aW9uc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbCA9IG5vcm1hbHNbaV07XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBzcGhlcmVDb252ZXhfd29ybGROb3JtYWw7XG4gICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50O1xuICAgICAgcWoudm11bHQodmVydHNbZmFjZVswXV0sIHdvcmxkUG9pbnQpO1xuICAgICAgd29ybGRQb2ludC52YWRkKHhqLCB3b3JsZFBvaW50KTsgLy8gR2V0IGEgcG9pbnQgb24gdGhlIHNwaGVyZSwgY2xvc2VzdCB0byB0aGUgZmFjZSBub3JtYWxcblxuICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTtcbiAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpO1xuICAgICAgeGkudmFkZCh3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7IC8vIFZlY3RvciBmcm9tIGEgZmFjZSBwb2ludCB0byB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3BoZXJlXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjO1xuICAgICAgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLnZzdWIod29ybGRQb2ludCwgcGVuZXRyYXRpb25WZWMpOyAvLyBUaGUgcGVuZXRyYXRpb24uIE5lZ2F0aXZlIHZhbHVlIG1lYW5zIG92ZXJsYXAuXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb25WZWMuZG90KHdvcmxkTm9ybWFsKTtcbiAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7XG4gICAgICB4aS52c3ViKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnRUb1NwaGVyZSk7XG5cbiAgICAgIGlmIChwZW5ldHJhdGlvbiA8IDAgJiYgd29ybGRQb2ludFRvU3BoZXJlLmRvdCh3b3JsZE5vcm1hbCkgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uXG4gICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHNcblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7XG4gICAgICAgICAgY29uc3Qgd29ybGRWZXJ0ZXggPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVtqXV0sIHdvcmxkVmVydGV4KTtcbiAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7XG4gICAgICAgICAgZmFjZVZlcnRzLnB1c2god29ybGRWZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50SW5Qb2x5Z29uKGZhY2VWZXJ0cywgd29ybGROb3JtYWwsIHhpKSkge1xuICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3RcblxuICAgICAgICAgIHdvcmxkTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHBvaW50aW5nIG91dCBvZiBzcGhlcmVcblxuICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjMiA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7XG4gICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25TcGhlcmVQb2ludCA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgcGVuZXRyYXRpb25TcGhlcmVQb2ludCk7IC8veGkudnN1Yih4aikudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50KS52YWRkKHBlbmV0cmF0aW9uVmVjMiAsIHIucmopO1xuXG4gICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7XG4gICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopO1xuICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblZlYzIsIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblZlYzIpO1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpO1xuICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cbiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEVkZ2U/XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIEdldCB0d28gd29ybGQgdHJhbnNmb3JtZWQgdmVydGljZXNcbiAgICAgICAgICAgIGNvbnN0IHYxID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMSkgJSBmYWNlLmxlbmd0aF1dLCB2MSk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMikgJSBmYWNlLmxlbmd0aF1dLCB2Mik7XG4gICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7XG4gICAgICAgICAgICB4ai52YWRkKHYyLCB2Mik7IC8vIENvbnN0cnVjdCBlZGdlIHZlY3RvclxuXG4gICAgICAgICAgICBjb25zdCBlZGdlID0gc3BoZXJlQ29udmV4X2VkZ2U7XG4gICAgICAgICAgICB2Mi52c3ViKHYxLCBlZGdlKTsgLy8gQ29uc3RydWN0IHRoZSBzYW1lIHZlY3RvciwgYnV0IG5vcm1hbGl6ZWRcblxuICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7XG4gICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlXG5cbiAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCB2MV90b194aSA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICAgIHhpLnZzdWIodjEsIHYxX3RvX3hpKTtcbiAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7XG4gICAgICAgICAgICBlZGdlVW5pdC5zY2FsZShkb3QsIHApO1xuICAgICAgICAgICAgcC52YWRkKHYxLCBwKTsgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHAgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlXG5cbiAgICAgICAgICAgIGNvbnN0IHhpX3RvX3AgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzXG4gICAgICAgICAgICAvLyBBTkQgaWYgcCBpcyBpbiBiZXR3ZWVuIHYxIGFuZCB2MlxuXG4gICAgICAgICAgICBpZiAoZG90ID4gMCAmJiBkb3QgKiBkb3QgPCBlZGdlLmxlbmd0aFNxdWFyZWQoKSAmJiB4aV90b19wLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7XG4gICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXNcbiAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IVxuICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICAgICAgICBwLnZzdWIoeGosIHIucmopO1xuICAgICAgICAgICAgICBwLnZzdWIoeGksIHIubmkpO1xuICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICByLm5pLnNjYWxlKFIsIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlc1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7XG4gICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpO1xuICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7XG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApO1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuXG4gICAgY29uc3Qgd29ybGRWZXJ0ZXggPSBwbGFuZUNvbnZleF92O1xuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsO1xuICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBsZXQgbnVtQ29udGFjdHMgPSAwO1xuICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lQ29udmV4X3JlbHBvcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXhcbiAgICAgIHdvcmxkVmVydGV4LmNvcHkoY29udmV4U2hhcGUudmVydGljZXNbaV0pO1xuICAgICAgY29udmV4UXVhdC52bXVsdCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgd29ybGRWZXJ0ZXgudnN1YihwbGFuZVBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY29uc3QgZG90ID0gd29ybGROb3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgY29udmV4Qm9keSwgcGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHNpLCBzaik7IC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVDb252ZXhfcHJvamVjdGVkO1xuICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTtcbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7XG4gICAgICAgIHByb2plY3RlZC52c3ViKHBsYW5lUG9zaXRpb24sIHIucmkpOyAvLyBGcm9tIHBsYW5lIHRvIHZlcnRleCBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lXG4gICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4XG5cbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJqLnZhZGQoY29udmV4UG9zaXRpb24sIHIucmopO1xuICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIG51bUNvbnRhY3RzKys7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7XG4gICAgfVxuICB9XG5cbiAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgc3BoZXJlSGVpZ2h0ZmllbGQoc3BoZXJlU2hhcGUsIGhmU2hhcGUsIHNwaGVyZVBvcywgaGZQb3MsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhO1xuICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1cztcbiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UgY2FuJ3QgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3hcblxuICAgIGlmIChsb2NhbFNwaGVyZVBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsU3BoZXJlUG9zLnogKyByYWRpdXMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHMgPSByZXN1bHQubGVuZ3RoIC0gbnVtQ29udGFjdHNCZWZvcmU7XG5cbiAgICAgICAgaWYgKG51bUNvbnRhY3RzID4gMikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKlxyXG4gICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDFcclxuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbnVtQ29udGFjdHMgLSAxOyBrKyspIHtcclxuICAgICAgICAgICAgICByZXN1bHQucG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKi9cblxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGJveEhlaWdodGZpZWxkKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBjb252ZXhIZWlnaHRmaWVsZChjb252ZXhTaGFwZSwgaGZTaGFwZSwgY29udmV4UG9zLCBoZlBvcywgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7XG4gICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7XG4gICAgY29uc3QgcmFkaXVzID0gY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7XG4gICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyO1xuICAgIGNvbnN0IGZhY2VMaXN0ID0gY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3Q7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbENvbnZleFBvcyA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIGNvbnZleFBvcywgbG9jYWxDb252ZXhQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UncmUgY2FudCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveFxuXG4gICAgaWYgKGxvY2FsQ29udmV4UG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxDb252ZXhQb3MueiArIHJhZGl1cyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZVxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNwaGVyZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gVGhlIG5vcm1hbCBpcyB0aGUgdW5pdCB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHBhcnRpY2xlIGNlbnRlclxuICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlU3BoZXJlX25vcm1hbDtcbiAgICBub3JtYWwuc2V0KDAsIDAsIDEpO1xuICAgIHhpLnZzdWIoeGosIG5vcm1hbCk7XG4gICAgY29uc3QgbGVuZ3RoU3F1YXJlZCA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICBpZiAobGVuZ3RoU3F1YXJlZCA8PSBzai5yYWRpdXMgKiBzai5yYWRpdXMpIHtcbiAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICByLnJqLmNvcHkobm9ybWFsKTtcbiAgICAgIHIucmouc2NhbGUoc2oucmFkaXVzLCByLnJqKTtcbiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbFxuXG4gICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGVcblxuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBwbGFuZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVQbGFuZV9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBjb25zdCByZWxwb3MgPSBwYXJ0aWNsZVBsYW5lX3JlbHBvcztcbiAgICB4aS52c3ViKGJqLnBvc2l0aW9uLCByZWxwb3MpO1xuICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTtcblxuICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWxcblxuICAgICAgci5uaS5uZWdhdGUoci5uaSk7XG4gICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlXG4gICAgICAvLyBHZXQgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBhcnRpY2xlUGxhbmVfcHJvamVjdGVkO1xuICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpO1xuICAgICAgeGkudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vcHJvamVjdGVkLnZhZGQoYmoucG9zaXRpb24scHJvamVjdGVkKTtcbiAgICAgIC8vIHJqIGlzIG5vdyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uXG5cbiAgICAgIHIucmouY29weShwcm9qZWN0ZWQpO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBib3hQYXJ0aWNsZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4UGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBsZXQgcGVuZXRyYXRlZEZhY2VJbmRleCA9IC0xO1xuICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7XG4gICAgY29uc3Qgd29ybGRQZW5ldHJhdGlvblZlYyA9IGNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWM7XG4gICAgbGV0IG1pblBlbmV0cmF0aW9uID0gbnVsbDtcblxuICAgIGNvbnN0IGxvY2FsID0gY29udmV4UGFydGljbGVfbG9jYWw7XG4gICAgbG9jYWwuY29weSh4aSk7XG4gICAgbG9jYWwudnN1Yih4aiwgbG9jYWwpOyAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRoZSBjb252ZXggb3JpZ2luXG5cbiAgICBxai5jb25qdWdhdGUoY3FqKTtcbiAgICBjcWoudm11bHQobG9jYWwsIGxvY2FsKTtcblxuICAgIGlmIChzai5wb2ludElzSW5zaWRlKGxvY2FsKSkge1xuICAgICAgaWYgKHNqLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSkge1xuICAgICAgICBzai5jb21wdXRlV29ybGRWZXJ0aWNlcyh4aiwgcWopO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2oud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlKSB7XG4gICAgICAgIHNqLmNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHFqKTtcbiAgICAgIH0gLy8gRm9yIGVhY2ggd29ybGQgcG9seWdvbiBpbiB0aGUgcG9seWhlZHJhXG5cblxuICAgICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IHNqLmZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzOyBpKyspIHtcbiAgICAgICAgLy8gQ29uc3RydWN0IHdvcmxkIGZhY2UgdmVydGljZXNcbiAgICAgICAgY29uc3QgdmVydHMgPSBbc2oud29ybGRWZXJ0aWNlc1tzai5mYWNlc1tpXVswXV1dO1xuICAgICAgICBjb25zdCBub3JtYWwgPSBzai53b3JsZEZhY2VOb3JtYWxzW2ldOyAvLyBDaGVjayBob3cgbXVjaCB0aGUgcGFydGljbGUgcGVuZXRyYXRlcyB0aGUgcG9seWdvbiBwbGFuZS5cblxuICAgICAgICB4aS52c3ViKHZlcnRzWzBdLCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTtcbiAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSAtbm9ybWFsLmRvdChjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTtcblxuICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtaW5QZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uO1xuICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlSW5kZXggPSBpO1xuICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLmNvcHkobm9ybWFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGVuZXRyYXRlZEZhY2VJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gU2V0dXAgY29udGFjdFxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuc2NhbGUobWluUGVuZXRyYXRpb24sIHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvLyByaiBpcyB0aGUgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBmYWNlXG5cbiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52YWRkKHhpLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52c3ViKHhqLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7XG4gICAgICAgIC8vcHJvamVjdGVkVG9GYWNlLmNvcHkoci5yaik7XG4gICAgICAgIC8vcWoudm11bHQoci5yaixyLnJqKTtcblxuICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZVxuXG4gICAgICAgIGNvbnN0IHJpID0gci5yaTtcbiAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdQb2ludCBmb3VuZCBpbnNpZGUgY29udmV4LCBidXQgZGlkIG5vdCBmaW5kIHBlbmV0cmF0aW5nIGZhY2UhJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlVHJpbWVzaChzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBzcGhlcmVQb3MsIHRyaW1lc2hQb3MsIHNwaGVyZVF1YXQsIHRyaW1lc2hRdWF0LCBzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgZWRnZVZlcnRleEEgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBO1xuICAgIGNvbnN0IGVkZ2VWZXJ0ZXhCID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QjtcbiAgICBjb25zdCBlZGdlVmVjdG9yID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yO1xuICAgIGNvbnN0IGVkZ2VWZWN0b3JVbml0ID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdDtcbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3M7XG4gICAgY29uc3QgdG1wID0gc3BoZXJlVHJpbWVzaF90bXA7XG4gICAgY29uc3QgbG9jYWxTcGhlcmVBQUJCID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkI7XG4gICAgY29uc3QgdjIgPSBzcGhlcmVUcmltZXNoX3YyO1xuICAgIGNvbnN0IHJlbHBvcyA9IHNwaGVyZVRyaW1lc2hfcmVscG9zO1xuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzOyAvLyBDb252ZXJ0IHNwaGVyZSBwb3NpdGlvbiB0byBsb2NhbCBpbiB0aGUgdHJpbWVzaFxuXG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBhYWJiIG9mIHRoZSBzcGhlcmUgbG9jYWxseSBpbiB0aGUgdHJpbWVzaFxuXG4gICAgY29uc3Qgc3BoZXJlUmFkaXVzID0gc3BoZXJlU2hhcGUucmFkaXVzO1xuICAgIGxvY2FsU3BoZXJlQUFCQi5sb3dlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56IC0gc3BoZXJlUmFkaXVzKTtcbiAgICBsb2NhbFNwaGVyZUFBQkIudXBwZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiArIHNwaGVyZVJhZGl1cyk7XG4gICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlc0luQUFCQihsb2NhbFNwaGVyZUFBQkIsIHRyaWFuZ2xlcyk7IC8vZm9yIChsZXQgaSA9IDA7IGkgPCB0cmltZXNoU2hhcGUuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHRyaWFuZ2xlcy5wdXNoKGkpOyAvLyBBbGxcbiAgICAvLyBWZXJ0aWNlc1xuXG4gICAgY29uc3QgdiA9IHNwaGVyZVRyaW1lc2hfdjtcbiAgICBjb25zdCByYWRpdXNTcXVhcmVkID0gc3BoZXJlU2hhcGUucmFkaXVzICogc3BoZXJlU2hhcGUucmFkaXVzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlXG5cbiAgICAgICAgdi52c3ViKGxvY2FsU3BoZXJlUG9zLCByZWxwb3MpO1xuXG4gICAgICAgIGlmIChyZWxwb3MubGVuZ3RoU3F1YXJlZCgpIDw9IHJhZGl1c1NxdWFyZWQpIHtcbiAgICAgICAgICAvLyBTYWZlIHVwXG4gICAgICAgICAgdjIuY29weSh2KTtcbiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTtcbiAgICAgICAgICB2LnZzdWIoc3BoZXJlUG9zLCByZWxwb3MpO1xuXG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgICAgci5uaS5jb3B5KHJlbHBvcyk7XG4gICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsgLy8gcmkgaXMgdGhlIHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gdGhlIHNwaGVyZSBzdXJmYWNlXG5cbiAgICAgICAgICByLnJpLmNvcHkoci5uaSk7XG4gICAgICAgICAgci5yaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpO1xuICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICByLnJqLmNvcHkodik7XG4gICAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0XG5cbiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2hlY2sgYWxsIGVkZ2VzXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgZWRnZVZlcnRleEEpO1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyAoaiArIDEpICUgM10sIGVkZ2VWZXJ0ZXhCKTtcbiAgICAgICAgZWRnZVZlcnRleEIudnN1YihlZGdlVmVydGV4QSwgZWRnZVZlY3Rvcik7IC8vIFByb2plY3Qgc3BoZXJlIHBvc2l0aW9uIHRvIHRoZSBlZGdlXG5cbiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QiwgdG1wKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTtcbiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QSwgdG1wKTtcbiAgICAgICAgbGV0IHBvc2l0aW9uQWxvbmdFZGdlQSA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uQWxvbmdFZGdlQSA+IDAgJiYgcG9zaXRpb25BbG9uZ0VkZ2VCIDwgMCkge1xuICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3J0aG9nb25hbCBkaXN0YW5jZSBmcm9tIGVkZ2UgdG8gc3BoZXJlIGNlbnRlclxuICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQuY29weShlZGdlVmVjdG9yKTtcbiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3JVbml0KTtcbiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5zY2FsZShwb3NpdGlvbkFsb25nRWRnZUEsIHRtcCk7XG4gICAgICAgICAgdG1wLnZhZGQoZWRnZVZlcnRleEEsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBjZW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBlZGdlLCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2ggZnJhbWVcblxuICAgICAgICAgIGNvbnN0IGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7XG5cbiAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTtcbiAgICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7XG4gICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApO1xuICAgICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7XG4gICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUcmlhbmdsZSBmYWNlc1xuXG5cbiAgICBjb25zdCB2YSA9IHNwaGVyZVRyaW1lc2hfdmE7XG4gICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiO1xuICAgIGNvbnN0IHZjID0gc3BoZXJlVHJpbWVzaF92YztcbiAgICBjb25zdCBub3JtYWwgPSBzcGhlcmVUcmltZXNoX25vcm1hbDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVWZXJ0aWNlcyh0cmlhbmdsZXNbaV0sIHZhLCB2YiwgdmMpO1xuICAgICAgdHJpbWVzaFNoYXBlLmdldE5vcm1hbCh0cmlhbmdsZXNbaV0sIG5vcm1hbCk7XG4gICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHZhLCB0bXApO1xuICAgICAgbGV0IGRpc3QgPSB0bXAuZG90KG5vcm1hbCk7XG4gICAgICBub3JtYWwuc2NhbGUoZGlzdCwgdG1wKTtcbiAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodG1wLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSB0cmlhbmdsZSBwbGFuZVxuXG4gICAgICBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpO1xuXG4gICAgICBpZiAoUmF5LnBvaW50SW5UcmlhbmdsZSh0bXAsIHZhLCB2YiwgdmMpICYmIGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTtcbiAgICAgICAgci5uaS5ub3JtYWxpemUoKTtcbiAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTtcbiAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTtcbiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIHBsYW5lVHJpbWVzaChwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHBsYW5lUG9zLCB0cmltZXNoUG9zLCBwbGFuZVF1YXQsIHRyaW1lc2hRdWF0LCBwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBNYWtlIGNvbnRhY3RzIVxuICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IG5vcm1hbCA9IHBsYW5lVHJpbWVzaF9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLnZlcnRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIHZlcnRleCBmcm9tIHRyaW1lc2hcbiAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgoaSwgdik7IC8vIFNhZmUgdXBcblxuICAgICAgY29uc3QgdjIgPSBuZXcgVmVjMygpO1xuICAgICAgdjIuY29weSh2KTtcbiAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOyAvLyBDaGVjayBwbGFuZSBzaWRlXG5cbiAgICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lVHJpbWVzaF9yZWxwb3M7XG4gICAgICB2LnZzdWIocGxhbmVQb3MsIHJlbHBvcyk7XG4gICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbFxuICAgICAgICAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZVxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQ7XG4gICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7XG4gICAgICAgIHYudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vIHJpIGlzIHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb25cblxuICAgICAgICByLnJpLmNvcHkocHJvamVjdGVkKTtcbiAgICAgICAgci5yaS52c3ViKHBsYW5lQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmouY29weSh2KTtcbiAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0XG5cbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBjb252ZXhUcmltZXNoKFxuICAvLyAgIHNpOiBDb252ZXhQb2x5aGVkcm9uLCBzajogVHJpbWVzaCwgeGk6IFZlYzMsIHhqOiBWZWMzLCBxaTogUXVhdGVybmlvbiwgcWo6IFF1YXRlcm5pb24sXG4gIC8vICAgYmk6IEJvZHksIGJqOiBCb2R5LCByc2k/OiBTaGFwZSB8IG51bGwsIHJzaj86IFNoYXBlIHwgbnVsbCxcbiAgLy8gICBmYWNlTGlzdEE/OiBudW1iZXJbXSB8IG51bGwsIGZhY2VMaXN0Qj86IG51bWJlcltdIHwgbnVsbCxcbiAgLy8gKSB7XG4gIC8vICAgY29uc3Qgc2VwQXhpcyA9IGNvbnZleENvbnZleF9zZXBBeGlzO1xuICAvLyAgIGlmKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cyl7XG4gIC8vICAgICAgIHJldHVybjtcbiAgLy8gICB9XG4gIC8vICAgLy8gQ29uc3RydWN0IGEgdGVtcCBodWxsIGZvciBlYWNoIHRyaWFuZ2xlXG4gIC8vICAgY29uc3QgaHVsbEIgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpO1xuICAvLyAgIGh1bGxCLmZhY2VzID0gW1swLDEsMl1dO1xuICAvLyAgIGNvbnN0IHZhID0gbmV3IFZlYzMoKTtcbiAgLy8gICBjb25zdCB2YiA9IG5ldyBWZWMzKCk7XG4gIC8vICAgY29uc3QgdmMgPSBuZXcgVmVjMygpO1xuICAvLyAgIGh1bGxCLnZlcnRpY2VzID0gW1xuICAvLyAgICAgICB2YSxcbiAgLy8gICAgICAgdmIsXG4gIC8vICAgICAgIHZjXG4gIC8vICAgXTtcbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHNqLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7XG4gIC8vICAgICAgIGNvbnN0IHRyaWFuZ2xlTm9ybWFsID0gbmV3IFZlYzMoKTtcbiAgLy8gICAgICAgc2ouZ2V0Tm9ybWFsKGksIHRyaWFuZ2xlTm9ybWFsKTtcbiAgLy8gICAgICAgaHVsbEIuZmFjZU5vcm1hbHMgPSBbdHJpYW5nbGVOb3JtYWxdO1xuICAvLyAgICAgICBzai5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIHZhLCB2YiwgdmMpO1xuICAvLyAgICAgICBsZXQgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopO1xuICAvLyAgICAgICBpZighZCl7XG4gIC8vICAgICAgICAgICB0cmlhbmdsZU5vcm1hbC5zY2FsZSgtMSwgdHJpYW5nbGVOb3JtYWwpO1xuICAvLyAgICAgICAgICAgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopO1xuICAvLyAgICAgICAgICAgaWYoIWQpe1xuICAvLyAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAvLyAgICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICAgIGNvbnN0IHJlczogQ29udmV4UG9seWhlZHJvbkNvbnRhY3RQb2ludFtdID0gW107XG4gIC8vICAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgLy8gICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLHFpLGh1bGxCLHhqLHFqLHRyaWFuZ2xlTm9ybWFsLC0xMDAsMTAwLHJlcyk7XG4gIC8vICAgICAgIGZvcihsZXQgaiA9IDA7IGogIT09IHJlcy5sZW5ndGg7IGorKyl7XG4gIC8vICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksYmosc2ksc2oscnNpLHJzaiksXG4gIC8vICAgICAgICAgICAgICAgcmkgPSByLnJpLFxuICAvLyAgICAgICAgICAgICAgIHJqID0gci5yajtcbiAgLy8gICAgICAgICAgIHIubmkuY29weSh0cmlhbmdsZU5vcm1hbCk7XG4gIC8vICAgICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgLy8gICAgICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpO1xuICAvLyAgICAgICAgICAgcS5tdWx0KHJlc1tqXS5kZXB0aCwgcSk7XG4gIC8vICAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gIC8vICAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7XG4gIC8vICAgICAgICAgICAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlXG4gIC8vICAgICAgICAgICByaS52c3ViKHhpLHJpKTtcbiAgLy8gICAgICAgICAgIHJqLnZzdWIoeGoscmopO1xuICAvLyAgICAgICAgICAgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcbiAgLy8gICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgLy8gICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTtcbiAgLy8gICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTtcbiAgLy8gICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgLy8gICAgICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAvLyAgICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG5cblxufVxuY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMiQyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFF1YXQxID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTtcblxuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEJveDtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hQYXJ0aWNsZTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlU3BoZXJlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVTcGhlcmU7XG5jb25zdCBwbGFuZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVUcmltZXNoX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVUcmltZXNoO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdjIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF90bXAgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92YSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3ZiID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdmMgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF90cmlhbmdsZXMgPSBbXTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlVHJpbWVzaDtcbmNvbnN0IHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQbGFuZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGxhbmU7IC8vIFNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5jb20vQnVsbGV0L0J1bGxldEZ1bGwvU3BoZXJlVHJpYW5nbGVEZXRlY3Rvcl84Y3BwX3NvdXJjZS5odG1sXG5cbmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2UgPSBuZXcgVmVjMygpO1xuY29uc3QgcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7XG4gIGxldCBwb3NpdGl2ZVJlc3VsdCA9IG51bGw7XG4gIGNvbnN0IE4gPSB2ZXJ0cy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4XG5cbiAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTtcbiAgICB2ZXJ0c1soaSArIDEpICUgTl0udnN1Yih2LCBlZGdlKTsgLy8gR2V0IGNyb3NzIHByb2R1Y3QgYmV0d2VlbiBwb2x5Z29uIG5vcm1hbCBhbmQgdGhlIGVkZ2VcblxuICAgIGNvbnN0IGVkZ2VfeF9ub3JtYWwgPSBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsOyAvL2NvbnN0IGVkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuXG4gICAgZWRnZS5jcm9zcyhub3JtYWwsIGVkZ2VfeF9ub3JtYWwpOyAvLyBHZXQgdmVjdG9yIGJldHdlZW4gcG9pbnQgYW5kIGN1cnJlbnQgdmVydGV4XG5cbiAgICBjb25zdCB2ZXJ0ZXhfdG9fcCA9IHBvaW50SW5Qb2x5Z29uX3Z0cDtcbiAgICBwLnZzdWIodiwgdmVydGV4X3RvX3ApOyAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXNcblxuICAgIGNvbnN0IHIgPSBlZGdlX3hfbm9ybWFsLmRvdCh2ZXJ0ZXhfdG9fcCk7IC8vIElmIGFsbCBzdWNoIGRvdCBwcm9kdWN0cyBoYXZlIHNhbWUgc2lnbiwgd2UgYXJlIGluc2lkZSB0aGUgcG9seWdvbi5cblxuICAgIGlmIChwb3NpdGl2ZVJlc3VsdCA9PT0gbnVsbCB8fCByID4gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gdHJ1ZSB8fCByIDw9IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgcG9zaXRpdmVSZXN1bHQgPSByID4gMDtcbiAgICAgIH1cblxuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LlxuICAgIH1cbiAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uXG5cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfbnMgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlcyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcbmNvbnN0IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9zaWRlX25zMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9uczIgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDtcbmNvbnN0IGNvbnZleF90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2UgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUNvbnZleDtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94O1xuY29uc3QgcGxhbmVDb252ZXhfdiA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZUNvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lQ29udmV4X3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUNvbnZleDtcbmNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleENvbnZleF9xID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7IC8vIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4VHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4VHJpbWVzaFxuXG5jb25zdCBwYXJ0aWNsZVBsYW5lX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwYXJ0aWNsZVBsYW5lX3JlbHBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lUGFydGljbGU7XG5jb25zdCBwYXJ0aWNsZVNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlUGFydGljbGU7IC8vIFdJUFxuXG5jb25zdCBjcWogPSBuZXcgUXVhdGVybmlvbigpO1xuY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4UGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFBhcnRpY2xlO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94SGVpZ2h0ZmllbGQ7XG5jb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3QgPSBbMF07XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDtcbmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDtcblxuLyoqXHJcbiAqIEBjbGFzcyBPdmVybGFwS2VlcGVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIE92ZXJsYXBLZWVwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmN1cnJlbnQgPSBbXTtcbiAgICB0aGlzLnByZXZpb3VzID0gW107XG4gIH1cblxuICBnZXRLZXkoaSwgaikge1xuICAgIGlmIChqIDwgaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiBpIDw8IDE2IHwgajtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGpcclxuICAgKi9cblxuXG4gIHNldChpLCBqKSB7XG4gICAgLy8gSW5zZXJ0aW9uIHNvcnQuIFRoaXMgd2F5IHRoZSBkaWZmIHdpbGwgaGF2ZSBsaW5lYXIgY29tcGxleGl0eS5cbiAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleShpLCBqKTtcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50O1xuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoa2V5ID4gY3VycmVudFtpbmRleF0pIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gY3VycmVudFtpbmRleF0pIHtcbiAgICAgIHJldHVybjsgLy8gUGFpciB3YXMgYWxyZWFkeSBhZGRlZFxuICAgIH1cblxuICAgIGZvciAobGV0IGogPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGogPj0gaW5kZXg7IGotLSkge1xuICAgICAgY3VycmVudFtqICsgMV0gPSBjdXJyZW50W2pdO1xuICAgIH1cblxuICAgIGN1cnJlbnRbaW5kZXhdID0ga2V5O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgdGlja1xyXG4gICAqL1xuXG5cbiAgdGljaygpIHtcbiAgICBjb25zdCB0bXAgPSB0aGlzLmN1cnJlbnQ7XG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91cztcbiAgICB0aGlzLnByZXZpb3VzID0gdG1wO1xuICAgIHRoaXMuY3VycmVudC5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZ2V0RGlmZlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSBhZGRpdGlvbnNcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVtb3ZhbHNcclxuICAgKi9cblxuXG4gIGdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscykge1xuICAgIGNvbnN0IGEgPSB0aGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgYiA9IHRoaXMucHJldmlvdXM7XG4gICAgY29uc3QgYWwgPSBhLmxlbmd0aDtcbiAgICBjb25zdCBibCA9IGIubGVuZ3RoO1xuICAgIGxldCBqID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWw7IGkrKykge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBjb25zdCBrZXlBID0gYVtpXTtcblxuICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7XG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgZm91bmQgPSBrZXlBID09PSBiW2pdO1xuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHVucGFja0FuZFB1c2goYWRkaXRpb25zLCBrZXlBKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBqID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmw7IGkrKykge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBjb25zdCBrZXlCID0gYltpXTtcblxuICAgICAgd2hpbGUgKGtleUIgPiBhW2pdKSB7XG4gICAgICAgIGorKztcbiAgICAgIH1cblxuICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCO1xuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHVucGFja0FuZFB1c2gocmVtb3ZhbHMsIGtleUIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHVucGFja0FuZFB1c2goYXJyYXksIGtleSkge1xuICBhcnJheS5wdXNoKChrZXkgJiAweGZmZmYwMDAwKSA+PiAxNiwga2V5ICYgMHgwMDAwZmZmZik7XG59XG5cbi8qKlxyXG4gKiBAY2xhc3MgVHVwbGVEaWN0aW9uYXJ5XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFR1cGxlRGljdGlvbmFyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGtleXM6IFtdXG4gICAgfTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0galxyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cblxuXG4gIGdldChpLCBqKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICAvLyBzd2FwXG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YVtpICsgXCItXCIgKyBqXTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0galxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gICAqL1xuXG5cbiAgc2V0KGksIGosIHZhbHVlKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gaSArIFwiLVwiICsgajsgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzXG5cbiAgICBpZiAoIXRoaXMuZ2V0KGksIGopKSB7XG4gICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGtleXMgPSBkYXRhLmtleXM7XG5cbiAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICB9XG4gIH1cblxufVxuXG4vKipcclxuICogVGhlIHBoeXNpY3Mgd29ybGRcclxuICogQGNsYXNzIFdvcmxkXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZ3Jhdml0eV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwXVxyXG4gKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdXHJcbiAqIEBwYXJhbSB7U29sdmVyfSBbb3B0aW9ucy5zb2x2ZXJdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3RdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF1cclxuICovXG5jbGFzcyBXb3JsZCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLy8gQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgXCJmcmVzaFwiIGluc2lkZSBldmVudCBjYWxsYmFja3MuXG4gIC8vIE1ha2VzIGJvZGllcyBnbyB0byBzbGVlcCB3aGVuIHRoZXkndmUgYmVlbiBpbmFjdGl2ZS5cbiAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuXG4gIC8vIEhvdyBvZnRlbiB0byBub3JtYWxpemUgcXVhdGVybmlvbnMuIFNldCB0byAwIGZvciBldmVyeSBzdGVwLCAxIGZvciBldmVyeSBzZWNvbmQgZXRjLi4gQSBsYXJnZXIgdmFsdWUgaW5jcmVhc2VzIHBlcmZvcm1hbmNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gYSBzbWFsbGVyIHZhbHVlICh6ZXJvIHRvIGJlIHN1cmUgbm90aGluZyBjYW4gZ28gd3JvbmcpLlxuICAvLyBTZXQgdG8gdHJ1ZSB0byB1c2UgZmFzdCBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIEl0IGlzIG9mdGVuIGVub3VnaCBhY2N1cmF0ZSB0byB1c2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBmYWxzZS5cbiAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LlxuICAvLyBOdW1iZXIgb2YgdGltZXN0ZXBzIHRha2VuIHNpbmNlIHN0YXJ0LlxuICAvLyBEZWZhdWx0IGFuZCBsYXN0IHRpbWVzdGVwIHNpemVzLlxuICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS5cbiAgLy8gQWxsIGJvZGllcyBpbiB0aGlzIHdvcmxkXG4gIC8vIFRydWUgaWYgYW55IGJvZGllcyBhcmUgbm90IHNsZWVwaW5nLCBmYWxzZSBpZiBldmVyeSBib2R5IGlzIHNsZWVwaW5nLlxuICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuXG4gIC8vIENvbGxpc2lvbk1hdHJpeCBmcm9tIHRoZSBwcmV2aW91cyBzdGVwLlxuICAvLyBBbGwgYWRkZWQgbWF0ZXJpYWxzLlxuICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC5cbiAgLy8gVGhpcyBjb250YWN0IG1hdGVyaWFsIGlzIHVzZWQgaWYgbm8gc3VpdGFibGUgY29udGFjdG1hdGVyaWFsIGlzIGZvdW5kIGZvciBhIGNvbnRhY3QuXG4gIC8vIFRpbWUgYWNjdW11bGF0b3IgZm9yIGludGVycG9sYXRpb24uIFNlZSBodHRwOi8vZ2FmZmVyb25nYW1lcy5jb20vZ2FtZS1waHlzaWNzL2ZpeC15b3VyLXRpbWVzdGVwL1xuICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuXG4gIC8vIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgd29ybGQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kdCA9IC0xO1xuICAgIHRoaXMuYWxsb3dTbGVlcCA9ICEhb3B0aW9ucy5hbGxvd1NsZWVwO1xuICAgIHRoaXMuY29udGFjdHMgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zID0gW107XG4gICAgdGhpcy5xdWF0Tm9ybWFsaXplU2tpcCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgOiAwO1xuICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7XG4gICAgdGhpcy50aW1lID0gMC4wO1xuICAgIHRoaXMuc3RlcG51bWJlciA9IDA7XG4gICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwO1xuICAgIHRoaXMubmV4dElkID0gMDtcbiAgICB0aGlzLmdyYXZpdHkgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMuZ3Jhdml0eSkge1xuICAgICAgdGhpcy5ncmF2aXR5LmNvcHkob3B0aW9ucy5ncmF2aXR5KTtcbiAgICB9XG5cbiAgICB0aGlzLmJyb2FkcGhhc2UgPSBvcHRpb25zLmJyb2FkcGhhc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYnJvYWRwaGFzZSA6IG5ldyBOYWl2ZUJyb2FkcGhhc2UoKTtcbiAgICB0aGlzLmJvZGllcyA9IFtdO1xuICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7XG4gICAgdGhpcy5zb2x2ZXIgPSBvcHRpb25zLnNvbHZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zb2x2ZXIgOiBuZXcgR1NTb2x2ZXIoKTtcbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG4gICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTtcbiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTtcbiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlciA9IG5ldyBPdmVybGFwS2VlcGVyKCk7XG4gICAgdGhpcy5tYXRlcmlhbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlID0gbmV3IFR1cGxlRGljdGlvbmFyeSgpO1xuICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCdkZWZhdWx0Jyk7XG4gICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHtcbiAgICAgIGZyaWN0aW9uOiAwLjMsXG4gICAgICByZXN0aXR1dGlvbjogMC4wXG4gICAgfSk7XG4gICAgdGhpcy5kb1Byb2ZpbGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvZmlsZSA9IHtcbiAgICAgIHNvbHZlOiAwLFxuICAgICAgbWFrZUNvbnRhY3RDb25zdHJhaW50czogMCxcbiAgICAgIGJyb2FkcGhhc2U6IDAsXG4gICAgICBpbnRlZ3JhdGU6IDAsXG4gICAgICBuYXJyb3dwaGFzZTogMFxuICAgIH07XG4gICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7XG4gICAgdGhpcy5zdWJzeXN0ZW1zID0gW107XG4gICAgdGhpcy5hZGRCb2R5RXZlbnQgPSB7XG4gICAgICB0eXBlOiAnYWRkQm9keScsXG4gICAgICBib2R5OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHtcbiAgICAgIHR5cGU6ICdyZW1vdmVCb2R5JyxcbiAgICAgIGJvZHk6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuaWRUb0JvZHlNYXAgPSB7fTtcbiAgICB0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMlxyXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdE1hdGVyaWFsXHJcbiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTFcclxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMlxyXG4gICAqIEByZXR1cm4ge0NvbnRhY3RNYXRlcmlhbH0gVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWYgaXQgd2FzIGZvdW5kLlxyXG4gICAqL1xuXG5cbiAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikge1xuICAgIHJldHVybiB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLmdldChtMS5pZCwgbTIuaWQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBudW1iZXIgb2Ygb2JqZWN0cyBpbiB0aGUgd29ybGQuXHJcbiAgICogQG1ldGhvZCBudW1PYmplY3RzXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXG5cblxuICBudW1PYmplY3RzKCkge1xuICAgIHJldHVybiB0aGlzLmJvZGllcy5sZW5ndGg7XG4gIH1cbiAgLyoqXHJcbiAgICogU3RvcmUgb2xkIGNvbGxpc2lvbiBzdGF0ZSBpbmZvXHJcbiAgICogQG1ldGhvZCBjb2xsaXNpb25NYXRyaXhUaWNrXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25NYXRyaXhUaWNrKCkge1xuICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeDtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeCA9IHRlbXA7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKTtcbiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnRpY2soKTtcbiAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci50aWNrKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi5cclxuICAgKiBAbWV0aG9kIGFkZENvbnN0cmFpbnRcclxuICAgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGNcclxuICAgKi9cblxuXG4gIGFkZENvbnN0cmFpbnQoYykge1xuICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjKTtcbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmVzIGEgY29uc3RyYWludFxyXG4gICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludFxyXG4gICAqIEBwYXJhbSB7Q29uc3RyYWludH0gY1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQ29uc3RyYWludChjKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5jb25zdHJhaW50cy5pbmRleE9mKGMpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY29uc3RyYWludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJheWNhc3QgdGVzdFxyXG4gICAqIEBtZXRob2QgcmF5VGVzdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEBkZXByZWNhdGVkIFVzZSAucmF5Y2FzdEFsbCwgLnJheWNhc3RDbG9zZXN0IG9yIC5yYXljYXN0QW55IGluc3RlYWQuXHJcbiAgICovXG5cblxuICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUmF5Y2FzdFJlc3VsdCkge1xuICAgICAgLy8gRG8gcmF5Y2FzdENsb3Nlc3RcbiAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHtcbiAgICAgICAgc2tpcEJhY2tmYWNlczogdHJ1ZVxuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRG8gcmF5Y2FzdEFsbFxuICAgICAgdGhpcy5yYXljYXN0QWxsKGZyb20sIHRvLCB7XG4gICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWVcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC5cclxuICAgKiBAbWV0aG9kIHJheWNhc3RBbGxcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tXHJcbiAgICogQHBhcmFtICB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuXHJcbiAgICovXG5cblxuICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7XG4gICAgb3B0aW9ucy5tb2RlID0gUmF5LkFMTDtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJheSBjYXN0LCBhbmQgc3RvcCBhdCB0aGUgZmlyc3QgcmVzdWx0LiBOb3RlIHRoYXQgdGhlIG9yZGVyIGlzIHJhbmRvbSAtIGJ1dCB0aGUgbWV0aG9kIGlzIGZhc3QuXHJcbiAgICogQG1ldGhvZCByYXljYXN0QW55XHJcbiAgICogQHBhcmFtICB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRvXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXHJcbiAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LlxyXG4gICAqL1xuXG5cbiAgcmF5Y2FzdEFueShmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHtcbiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQU5ZO1xuICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgb3B0aW9ucy50byA9IHRvO1xuICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuXHJcbiAgICogQG1ldGhvZCByYXljYXN0Q2xvc2VzdFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGZyb21cclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0b1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXVxyXG4gICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC5cclxuICAgKi9cblxuXG4gIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkge1xuICAgIG9wdGlvbnMubW9kZSA9IFJheS5DTE9TRVNUO1xuICAgIG9wdGlvbnMuZnJvbSA9IGZyb207XG4gICAgb3B0aW9ucy50byA9IHRvO1xuICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLlxyXG4gICAqIEBtZXRob2QgYWRkXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLlxyXG4gICAqIEB0b2RvIEFkZGluZyBhbiBhcnJheSBvZiBib2RpZXMgc2hvdWxkIGJlIHBvc3NpYmxlLiBUaGlzIHdvdWxkIHNhdmUgc29tZSBsb29wcyB0b29cclxuICAgKi9cblxuXG4gIGFkZEJvZHkoYm9keSkge1xuICAgIGlmICh0aGlzLmJvZGllcy5pbmNsdWRlcyhib2R5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7XG4gICAgdGhpcy5ib2RpZXMucHVzaChib2R5KTtcbiAgICBib2R5LndvcmxkID0gdGhpcztcbiAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pO1xuICAgIGJvZHkuaW5pdFZlbG9jaXR5LmNvcHkoYm9keS52ZWxvY2l0eSk7XG4gICAgYm9keS50aW1lTGFzdFNsZWVweSA9IHRoaXMudGltZTtcblxuICAgIGlmIChib2R5IGluc3RhbmNlb2YgQm9keSkge1xuICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuICAgICAgYm9keS5pbml0UXVhdGVybmlvbi5jb3B5KGJvZHkucXVhdGVybmlvbik7XG4gICAgfVxuXG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyh0aGlzLmJvZGllcy5sZW5ndGgpO1xuICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5O1xuICAgIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF0gPSBib2R5O1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmFkZEJvZHlFdmVudCk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICovXG5cblxuICByZW1vdmVCb2R5KGJvZHkpIHtcbiAgICBib2R5LndvcmxkID0gbnVsbDtcbiAgICBjb25zdCBuID0gdGhpcy5ib2RpZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICBib2RpZXMuc3BsaWNlKGlkeCwgMSk7IC8vIFRvZG86IHNob3VsZCB1c2UgYSBnYXJiYWdlIGZyZWUgbWV0aG9kXG4gICAgICAvLyBSZWNvbXB1dGUgaW5kZXhcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKG4pO1xuICAgICAgdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keSA9IGJvZHk7XG4gICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnJlbW92ZUJvZHlFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Qm9keUJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5pZFRvQm9keU1hcFtpZF07XG4gIH0gLy8gVE9ETyBNYWtlIGEgZmFzdGVyIG1hcFxuXG5cbiAgZ2V0U2hhcGVCeUlkKGlkKSB7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgYmwgPSBib2RpZXMubGVuZ3RoOyBpIDwgYmw7IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlcztcblxuICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbal07XG5cbiAgICAgICAgaWYgKHNoYXBlLmlkID09PSBpZCkge1xuICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkTWF0ZXJpYWxcclxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtXHJcbiAgICogQHRvZG8gTmVjZXNzYXJ5P1xyXG4gICAqL1xuXG5cbiAgYWRkTWF0ZXJpYWwobSkge1xuICAgIHRoaXMubWF0ZXJpYWxzLnB1c2gobSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkXHJcbiAgICogQG1ldGhvZCBhZGRDb250YWN0TWF0ZXJpYWxcclxuICAgKiBAcGFyYW0ge0NvbnRhY3RNYXRlcmlhbH0gY21hdFxyXG4gICAqL1xuXG5cbiAgYWRkQ29udGFjdE1hdGVyaWFsKGNtYXQpIHtcbiAgICAvLyBBZGQgY29udGFjdCBtYXRlcmlhbFxuICAgIHRoaXMuY29udGFjdG1hdGVyaWFscy5wdXNoKGNtYXQpOyAvLyBBZGQgY3VycmVudCBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBtYXRlcmlhbCB0YWJsZVxuXG4gICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5zZXQoY21hdC5tYXRlcmlhbHNbMF0uaWQsIGNtYXQubWF0ZXJpYWxzWzFdLmlkLCBjbWF0KTtcbiAgfVxuICAvKipcclxuICAgKiBTdGVwIHRoZSBwaHlzaWNzIHdvcmxkIGZvcndhcmQgaW4gdGltZS5cclxuICAgKlxyXG4gICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLlxyXG4gICAqXHJcbiAgICogQG1ldGhvZCBzdGVwXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNpbmNlTGFzdENhbGxlZF0gICAgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4U3ViU3RlcHM9MTBdICAgICAgICAgTWF4aW11bSBudW1iZXIgb2YgZml4ZWQgc3RlcHMgdG8gdGFrZSBwZXIgZnVuY3Rpb24gY2FsbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogICAgIC8vIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb25cclxuICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTtcclxuICAgKlxyXG4gICAqIEBzZWUgaHR0cDovL2J1bGxldHBoeXNpY3Mub3JnL21lZGlhd2lraS0xLjUuOC9pbmRleC5waHAvU3RlcHBpbmdfVGhlX1dvcmxkXHJcbiAgICovXG5cblxuICBzdGVwKGR0LCB0aW1lU2luY2VMYXN0Q2FsbGVkID0gMCwgbWF4U3ViU3RlcHMgPSAxMCkge1xuICAgIGlmICh0aW1lU2luY2VMYXN0Q2FsbGVkID09PSAwKSB7XG4gICAgICAvLyBGaXhlZCwgc2ltcGxlIHN0ZXBwaW5nXG4gICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7IC8vIEluY3JlbWVudCB0aW1lXG5cbiAgICAgIHRoaXMudGltZSArPSBkdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hY2N1bXVsYXRvciArPSB0aW1lU2luY2VMYXN0Q2FsbGVkO1xuICAgICAgbGV0IHN1YnN0ZXBzID0gMDtcblxuICAgICAgd2hpbGUgKHRoaXMuYWNjdW11bGF0b3IgPj0gZHQgJiYgc3Vic3RlcHMgPCBtYXhTdWJTdGVwcykge1xuICAgICAgICAvLyBEbyBmaXhlZCBzdGVwcyB0byBjYXRjaCB1cFxuICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7XG4gICAgICAgIHRoaXMuYWNjdW11bGF0b3IgLT0gZHQ7XG4gICAgICAgIHN1YnN0ZXBzKys7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHQgPSB0aGlzLmFjY3VtdWxhdG9yICUgZHQgLyBkdDtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IHRoaXMuYm9kaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmJvZGllc1tqXTtcbiAgICAgICAgYi5wcmV2aW91c1Bvc2l0aW9uLmxlcnAoYi5wb3NpdGlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRQb3NpdGlvbik7XG4gICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLnNsZXJwKGIucXVhdGVybmlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uKTtcbiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24ubm9ybWFsaXplKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGltZSArPSB0aW1lU2luY2VMYXN0Q2FsbGVkO1xuICAgIH1cbiAgfVxuXG4gIGludGVybmFsU3RlcChkdCkge1xuICAgIHRoaXMuZHQgPSBkdDtcbiAgICBjb25zdCBjb250YWN0cyA9IHRoaXMuY29udGFjdHM7XG4gICAgY29uc3QgcDEgPSBXb3JsZF9zdGVwX3AxO1xuICAgIGNvbnN0IHAyID0gV29ybGRfc3RlcF9wMjtcbiAgICBjb25zdCBOID0gdGhpcy5udW1PYmplY3RzKCk7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG4gICAgY29uc3Qgc29sdmVyID0gdGhpcy5zb2x2ZXI7XG4gICAgY29uc3QgZ3Jhdml0eSA9IHRoaXMuZ3Jhdml0eTtcbiAgICBjb25zdCBkb1Byb2ZpbGluZyA9IHRoaXMuZG9Qcm9maWxpbmc7XG4gICAgY29uc3QgcHJvZmlsZSA9IHRoaXMucHJvZmlsZTtcbiAgICBjb25zdCBEWU5BTUlDID0gQm9keS5EWU5BTUlDO1xuICAgIGxldCBwcm9maWxpbmdTdGFydCA9IC1JbmZpbml0eTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgY29uc3QgZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sO1xuICAgIGNvbnN0IGdub3JtID0gZ3Jhdml0eS5sZW5ndGgoKTtcbiAgICBjb25zdCBneCA9IGdyYXZpdHkueDtcbiAgICBjb25zdCBneSA9IGdyYXZpdHkueTtcbiAgICBjb25zdCBneiA9IGdyYXZpdHkuejtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSAvLyBBZGQgZ3Jhdml0eSB0byBhbGwgb2JqZWN0c1xuXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkudHlwZSA9PT0gRFlOQU1JQykge1xuICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllc1xuICAgICAgICBjb25zdCBmID0gYmkuZm9yY2U7XG4gICAgICAgIGNvbnN0IG0gPSBiaS5tYXNzO1xuICAgICAgICBmLnggKz0gbSAqIGd4O1xuICAgICAgICBmLnkgKz0gbSAqIGd5O1xuICAgICAgICBmLnogKz0gbSAqIGd6O1xuICAgICAgfVxuICAgIH0gLy8gVXBkYXRlIHN1YnN5c3RlbXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDAsIE5zdWJzeXN0ZW1zID0gdGhpcy5zdWJzeXN0ZW1zLmxlbmd0aDsgaSAhPT0gTnN1YnN5c3RlbXM7IGkrKykge1xuICAgICAgdGhpcy5zdWJzeXN0ZW1zW2ldLnVwZGF0ZSgpO1xuICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvblxuXG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgcDEubGVuZ3RoID0gMDsgLy8gQ2xlYW4gdXAgcGFpciBhcnJheXMgZnJvbSBsYXN0IHN0ZXBcblxuICAgIHAyLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5icm9hZHBoYXNlLmNvbGxpc2lvblBhaXJzKHRoaXMsIHAxLCBwMik7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUuYnJvYWRwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBSZW1vdmUgY29uc3RyYWluZWQgcGFpcnMgd2l0aCBjb2xsaWRlQ29ubmVjdGVkID09IGZhbHNlXG5cblxuICAgIGxldCBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykge1xuICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldO1xuXG4gICAgICBpZiAoIWMuY29sbGlkZUNvbm5lY3RlZCkge1xuICAgICAgICBmb3IgKGxldCBqID0gcDEubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHtcbiAgICAgICAgICBpZiAoYy5ib2R5QSA9PT0gcDFbal0gJiYgYy5ib2R5QiA9PT0gcDJbal0gfHwgYy5ib2R5QiA9PT0gcDFbal0gJiYgYy5ib2R5QSA9PT0gcDJbal0pIHtcbiAgICAgICAgICAgIHAxLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgIHAyLnNwbGljZShqLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFRpY2soKTsgLy8gR2VuZXJhdGUgY29udGFjdHNcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRjb250YWN0cyA9IFdvcmxkX3N0ZXBfb2xkQ29udGFjdHM7XG4gICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZENvbnRhY3RzOyBpKyspIHtcbiAgICAgIG9sZGNvbnRhY3RzLnB1c2goY29udGFjdHNbaV0pO1xuICAgIH1cblxuICAgIGNvbnRhY3RzLmxlbmd0aCA9IDA7IC8vIFRyYW5zZmVyIEZyaWN0aW9uRXF1YXRpb24gZnJvbSBjdXJyZW50IGxpc3QgdG8gdGhlIHBvb2wgZm9yIHJldXNlXG5cbiAgICBjb25zdCBOb2xkRnJpY3Rpb25FcXVhdGlvbnMgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE5vbGRGcmljdGlvbkVxdWF0aW9uczsgaSsrKSB7XG4gICAgICBmcmljdGlvbkVxdWF0aW9uUG9vbC5wdXNoKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLm5hcnJvd3BoYXNlLmdldENvbnRhY3RzKHAxLCBwMiwgdGhpcywgY29udGFjdHMsIG9sZGNvbnRhY3RzLCAvLyBUbyBiZSByZXVzZWRcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLCBmcmljdGlvbkVxdWF0aW9uUG9vbCk7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUubmFycm93cGhhc2UgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gTG9vcCBvdmVyIGFsbCBjb2xsaXNpb25zXG5cblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IC8vIEFkZCBhbGwgZnJpY3Rpb24gZXFzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb2x2ZXIuYWRkRXF1YXRpb24odGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmNvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgayA9IDA7IGsgIT09IG5jb250YWN0czsgaysrKSB7XG4gICAgICAvLyBDdXJyZW50IGNvbnRhY3RcbiAgICAgIGNvbnN0IGMgPSBjb250YWN0c1trXTsgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGluZGVjZXNcblxuICAgICAgY29uc3QgYmkgPSBjLmJpO1xuICAgICAgY29uc3QgYmogPSBjLmJqO1xuICAgICAgY29uc3Qgc2kgPSBjLnNpO1xuICAgICAgY29uc3Qgc2ogPSBjLnNqOyAvLyBHZXQgY29sbGlzaW9uIHByb3BlcnRpZXNcblxuICAgICAgbGV0IGNtO1xuXG4gICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHtcbiAgICAgICAgY20gPSB0aGlzLmdldENvbnRhY3RNYXRlcmlhbChiaS5tYXRlcmlhbCwgYmoubWF0ZXJpYWwpIHx8IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNtID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO1xuICAgICAgfSAvLyBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTtcblxuXG4gICAgICBsZXQgbXUgPSBjbS5mcmljdGlvbjsgLy8gYy5yZXN0aXR1dGlvbiA9IGNtLnJlc3RpdHV0aW9uO1xuICAgICAgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbVxuXG4gICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKGJpLm1hdGVyaWFsLmZyaWN0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCkge1xuICAgICAgICAgIG11ID0gYmkubWF0ZXJpYWwuZnJpY3Rpb24gKiBiai5tYXRlcmlhbC5mcmljdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDApIHtcbiAgICAgICAgICBjLnJlc3RpdHV0aW9uID0gYmkubWF0ZXJpYWwucmVzdGl0dXRpb24gKiBiai5tYXRlcmlhbC5yZXN0aXR1dGlvbjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBjLnNldFNwb29rUGFyYW1zKFxuICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyxcbiAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uLFxuICAgICAgLy8gICAgICAgICAgIGR0XG4gICAgICAvLyAgICAgICApO1xuXG5cbiAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihjKTsgLy8gLy8gQWRkIGZyaWN0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb25cbiAgICAgIC8vIGlmKG11ID4gMCl7XG4gICAgICAvLyBcdC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zXG4gICAgICAvLyBcdGNvbnN0IG11ZyA9IG11ICogZ25vcm07XG4gICAgICAvLyBcdGNvbnN0IHJlZHVjZWRNYXNzID0gKGJpLmludk1hc3MgKyBiai5pbnZNYXNzKTtcbiAgICAgIC8vIFx0aWYocmVkdWNlZE1hc3MgPiAwKXtcbiAgICAgIC8vIFx0XHRyZWR1Y2VkTWFzcyA9IDEvcmVkdWNlZE1hc3M7XG4gICAgICAvLyBcdH1cbiAgICAgIC8vIFx0Y29uc3QgcG9vbCA9IGZyaWN0aW9uRXF1YXRpb25Qb29sO1xuICAgICAgLy8gXHRjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7XG4gICAgICAvLyBcdGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTtcbiAgICAgIC8vIFx0dGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKGMxLCBjMik7XG4gICAgICAvLyBcdGMxLmJpID0gYzIuYmkgPSBiaTtcbiAgICAgIC8vIFx0YzEuYmogPSBjMi5iaiA9IGJqO1xuICAgICAgLy8gXHRjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZypyZWR1Y2VkTWFzcztcbiAgICAgIC8vIFx0YzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZypyZWR1Y2VkTWFzcztcbiAgICAgIC8vIFx0Ly8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzXG4gICAgICAvLyBcdGMxLnJpLmNvcHkoYy5yaSk7XG4gICAgICAvLyBcdGMxLnJqLmNvcHkoYy5yaik7XG4gICAgICAvLyBcdGMyLnJpLmNvcHkoYy5yaSk7XG4gICAgICAvLyBcdGMyLnJqLmNvcHkoYy5yaik7XG4gICAgICAvLyBcdC8vIENvbnN0cnVjdCB0YW5nZW50c1xuICAgICAgLy8gXHRjLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpO1xuICAgICAgLy8gICAgICAgICAgIC8vIFNldCBzcG9vayBwYXJhbXNcbiAgICAgIC8vICAgICAgICAgICBjMS5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgZHQpO1xuICAgICAgLy8gICAgICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7XG4gICAgICAvLyAgICAgICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjLmVuYWJsZWQ7XG4gICAgICAvLyBcdC8vIEFkZCBlcXVhdGlvbnMgdG8gc29sdmVyXG4gICAgICAvLyBcdHNvbHZlci5hZGRFcXVhdGlvbihjMSk7XG4gICAgICAvLyBcdHNvbHZlci5hZGRFcXVhdGlvbihjMik7XG4gICAgICAvLyB9XG5cbiAgICAgIGlmIChiaS5hbGxvd1NsZWVwICYmIGJpLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmoudHlwZSAhPT0gQm9keS5TVEFUSUMpIHtcbiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQiA9IGJqLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJqLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQiA9IGJqLnNsZWVwU3BlZWRMaW1pdCAqKiAyO1xuXG4gICAgICAgIGlmIChzcGVlZFNxdWFyZWRCID49IHNwZWVkTGltaXRTcXVhcmVkQiAqIDIpIHtcbiAgICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYmouYWxsb3dTbGVlcCAmJiBiai50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJpLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7XG4gICAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZEEgPSBiaS52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyBiaS5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEEgPSBiaS5zbGVlcFNwZWVkTGltaXQgKiogMjtcblxuICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQSA+PSBzcGVlZExpbWl0U3F1YXJlZEEgKiAyKSB7XG4gICAgICAgICAgYmoud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTm93IHdlIGtub3cgdGhhdCBpIGFuZCBqIGFyZSBpbiBjb250YWN0LiBTZXQgY29sbGlzaW9uIG1hdHJpeCBzdGF0ZVxuXG5cbiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldChiaSwgYmosIHRydWUpO1xuXG4gICAgICBpZiAoIXRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMuZ2V0KGJpLCBiaikpIHtcbiAgICAgICAgLy8gRmlyc3QgY29udGFjdCFcbiAgICAgICAgLy8gV2UgcmV1c2UgdGhlIGNvbGxpZGVFdmVudCBvYmplY3QsIG90aGVyd2lzZSB3ZSB3aWxsIGVuZCB1cCBjcmVhdGluZyBuZXcgb2JqZWN0cyBmb3IgZWFjaCBuZXcgY29udGFjdCwgZXZlbiBpZiB0aGVyZSdzIG5vIGV2ZW50IGxpc3RlbmVyIGF0dGFjaGVkLlxuICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmo7XG4gICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmNvbnRhY3QgPSBjO1xuICAgICAgICBiaS5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTtcbiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuYm9keSA9IGJpO1xuICAgICAgICBiai5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5zZXQoYmkuaWQsIGJqLmlkKTtcbiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdENvbnRhY3RFdmVudHMoKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5tYWtlQ29udGFjdENvbnN0cmFpbnRzID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSAvLyBXYWtlIHVwIGJvZGllc1xuXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSkge1xuICAgICAgICBiaS53YWtlVXAoKTtcbiAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gLy8gQWRkIHVzZXItYWRkZWQgY29uc3RyYWludHNcblxuXG4gICAgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTtcbiAgICAgIGMudXBkYXRlKCk7XG5cbiAgICAgIGZvciAobGV0IGogPSAwLCBOZXEgPSBjLmVxdWF0aW9ucy5sZW5ndGg7IGogIT09IE5lcTsgaisrKSB7XG4gICAgICAgIGNvbnN0IGVxID0gYy5lcXVhdGlvbnNbal07XG4gICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihlcSk7XG4gICAgICB9XG4gICAgfSAvLyBTb2x2ZSB0aGUgY29uc3RyYWluZWQgc3lzdGVtXG5cblxuICAgIHNvbHZlci5zb2x2ZShkdCwgdGhpcyk7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUuc29sdmUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gUmVtb3ZlIGFsbCBjb250YWN0cyBmcm9tIHNvbHZlclxuXG5cbiAgICBzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7IC8vIEFwcGx5IGRhbXBpbmcsIHNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYnVsbGV0L2lzc3Vlcy9kZXRhaWw/aWQ9NzQgZm9yIGRldGFpbHNcblxuICAgIGNvbnN0IHBvdyA9IE1hdGgucG93O1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgaWYgKGJpLnR5cGUgJiBEWU5BTUlDKSB7XG4gICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzXG4gICAgICAgIGNvbnN0IGxkID0gcG93KDEuMCAtIGJpLmxpbmVhckRhbXBpbmcsIGR0KTtcbiAgICAgICAgY29uc3QgdiA9IGJpLnZlbG9jaXR5O1xuICAgICAgICB2LnNjYWxlKGxkLCB2KTtcbiAgICAgICAgY29uc3QgYXYgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKGF2KSB7XG4gICAgICAgICAgY29uc3QgYWQgPSBwb3coMS4wIC0gYmkuYW5ndWxhckRhbXBpbmcsIGR0KTtcbiAgICAgICAgICBhdi5zY2FsZShhZCwgYXYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50KTsgLy8gSW52b2tlIHByZS1zdGVwIGNhbGxiYWNrc1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgaWYgKGJpLnByZVN0ZXApIHtcbiAgICAgICAgYmkucHJlU3RlcC5jYWxsKGJpKTtcbiAgICAgIH1cbiAgICB9IC8vIExlYXAgZnJvZ1xuICAgIC8vIHZuZXcgPSB2ICsgaCpmL21cbiAgICAvLyB4bmV3ID0geCArIGgqdm5ld1xuXG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RlcG51bWJlciA9IHRoaXMuc3RlcG51bWJlcjtcbiAgICBjb25zdCBxdWF0Tm9ybWFsaXplID0gc3RlcG51bWJlciAlICh0aGlzLnF1YXROb3JtYWxpemVTa2lwICsgMSkgPT09IDA7XG4gICAgY29uc3QgcXVhdE5vcm1hbGl6ZUZhc3QgPSB0aGlzLnF1YXROb3JtYWxpemVGYXN0O1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBib2RpZXNbaV0uaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCk7XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhckZvcmNlcygpO1xuICAgIHRoaXMuYnJvYWRwaGFzZS5kaXJ0eSA9IHRydWU7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUuaW50ZWdyYXRlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICB9IC8vIFVwZGF0ZSB3b3JsZCB0aW1lXG5cblxuICAgIHRoaXMudGltZSArPSBkdDtcbiAgICB0aGlzLnN0ZXBudW1iZXIgKz0gMTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50KTsgLy8gSW52b2tlIHBvc3Qtc3RlcCBjYWxsYmFja3NcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG4gICAgICBjb25zdCBwb3N0U3RlcCA9IGJpLnBvc3RTdGVwO1xuXG4gICAgICBpZiAocG9zdFN0ZXApIHtcbiAgICAgICAgcG9zdFN0ZXAuY2FsbChiaSk7XG4gICAgICB9XG4gICAgfSAvLyBTbGVlcGluZyB1cGRhdGVcblxuXG4gICAgbGV0IGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7XG4gICAgICBoYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTtcblxuICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuICAgICAgICBiaS5zbGVlcFRpY2sodGhpcy50aW1lKTtcblxuICAgICAgICBpZiAoYmkuc2xlZXBTdGF0ZSAhPT0gQm9keS5TTEVFUElORykge1xuICAgICAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmhhc0FjdGl2ZUJvZGllcyA9IGhhc0FjdGl2ZUJvZGllcztcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIGFsbCBib2R5IGZvcmNlcyBpbiB0aGUgd29ybGQgdG8gemVyby5cclxuICAgKiBAbWV0aG9kIGNsZWFyRm9yY2VzXHJcbiAgICovXG5cblxuICBjbGVhckZvcmNlcygpIHtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICBjb25zdCBmb3JjZSA9IGIuZm9yY2U7XG4gICAgICBjb25zdCB0YXUgPSBiLnRvcnF1ZTtcbiAgICAgIGIuZm9yY2Uuc2V0KDAsIDAsIDApO1xuICAgICAgYi50b3JxdWUuc2V0KDAsIDAsIDApO1xuICAgIH1cbiAgfVxuXG59IC8vIFRlbXAgc3R1ZmZcblxuY29uc3QgdG1wQUFCQjEgPSBuZXcgQUFCQigpO1xuY29uc3QgdG1wUmF5JDEgPSBuZXcgUmF5KCk7IC8vIHBlcmZvcm1hbmNlLm5vdygpXG5cbmlmICh0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gIHBlcmZvcm1hbmNlID0ge307XG59XG5cbmlmICghcGVyZm9ybWFuY2Uubm93KSB7XG4gIGxldCBub3dPZmZzZXQgPSBEYXRlLm5vdygpO1xuXG4gIGlmIChwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCkge1xuICAgIG5vd09mZnNldCA9IHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7XG4gIH1cblxuICBwZXJmb3JtYW5jZS5ub3cgPSAoKSA9PiBEYXRlLm5vdygpIC0gbm93T2Zmc2V0O1xufVxuLy8gUmV1c2FibGUgZXZlbnQgb2JqZWN0cyB0byBzYXZlIG1lbW9yeS5cblxuY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0ge1xuICB0eXBlOiAncG9zdFN0ZXAnXG59OyAvLyBEaXNwYXRjaGVkIGJlZm9yZSB0aGUgd29ybGQgc3RlcHMgZm9yd2FyZCBpbiB0aW1lLlxuXG5jb25zdCBXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCA9IHtcbiAgdHlwZTogJ3ByZVN0ZXAnXG59O1xuY29uc3QgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQgPSB7XG4gIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLFxuICBib2R5OiBudWxsLFxuICBjb250YWN0OiBudWxsXG59OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHNcblxuY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdO1xuY29uc3QgV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdOyAvLyBSZXVzYWJsZSBhcnJheXMgZm9yIGNvbGxpc2lvbiBwYWlyc1xuXG5jb25zdCBXb3JsZF9zdGVwX3AxID0gW107XG5jb25zdCBXb3JsZF9zdGVwX3AyID0gW107XG5cbldvcmxkLnByb3RvdHlwZS5lbWl0Q29udGFjdEV2ZW50cyA9ICgoKSA9PiB7XG4gIGNvbnN0IGFkZGl0aW9ucyA9IFtdO1xuICBjb25zdCByZW1vdmFscyA9IFtdO1xuICBjb25zdCBiZWdpbkNvbnRhY3RFdmVudCA9IHtcbiAgICB0eXBlOiAnYmVnaW5Db250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbFxuICB9O1xuICBjb25zdCBlbmRDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2VuZENvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsXG4gIH07XG4gIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2JlZ2luU2hhcGVDb250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbCxcbiAgICBzaGFwZUE6IG51bGwsXG4gICAgc2hhcGVCOiBudWxsXG4gIH07XG4gIGNvbnN0IGVuZFNoYXBlQ29udGFjdEV2ZW50ID0ge1xuICAgIHR5cGU6ICdlbmRTaGFwZUNvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsLFxuICAgIHNoYXBlQTogbnVsbCxcbiAgICBzaGFwZUI6IG51bGxcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpO1xuICAgIGNvbnN0IGhhc0VuZENvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZENvbnRhY3QnKTtcblxuICAgIGlmIChoYXNCZWdpbkNvbnRhY3QgfHwgaGFzRW5kQ29udGFjdCkge1xuICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpO1xuICAgIH1cblxuICAgIGlmIChoYXNCZWdpbkNvbnRhY3QpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2ldKTtcbiAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpICsgMV0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5Db250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kQ29udGFjdCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpXSk7XG4gICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaSArIDFdKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZENvbnRhY3RFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7XG4gICAgfVxuXG4gICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7XG4gICAgY29uc3QgaGFzQmVnaW5TaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luU2hhcGVDb250YWN0Jyk7XG4gICAgY29uc3QgaGFzRW5kU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRTaGFwZUNvbnRhY3QnKTtcblxuICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCB8fCBoYXNFbmRTaGFwZUNvbnRhY3QpIHtcbiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7XG4gICAgfVxuXG4gICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2ldKTtcbiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7XG4gICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBO1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjtcbiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5O1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpblNoYXBlQ29udGFjdEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaGFzRW5kU2hhcGVDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpXSk7XG4gICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2kgKyAxXSk7XG4gICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTtcbiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCO1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5O1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5O1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kU2hhcGVDb250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDtcbiAgICB9XG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBBQUJCLCBBcnJheUNvbGxpc2lvbk1hdHJpeCwgQk9EWV9TTEVFUF9TVEFURVMsIEJPRFlfVFlQRVMsIEJvZHksIEJveCwgQnJvYWRwaGFzZSwgQ09MTElTSU9OX1RZUEVTLCBDb25lVHdpc3RDb25zdHJhaW50LCBDb25zdHJhaW50LCBDb250YWN0RXF1YXRpb24sIENvbnRhY3RNYXRlcmlhbCwgQ29udmV4UG9seWhlZHJvbiwgQ3lsaW5kZXIsIERpc3RhbmNlQ29uc3RyYWludCwgRXF1YXRpb24sIEV2ZW50VGFyZ2V0LCBGcmljdGlvbkVxdWF0aW9uLCBHU1NvbHZlciwgR3JpZEJyb2FkcGhhc2UsIEhlaWdodGZpZWxkLCBIaW5nZUNvbnN0cmFpbnQsIEphY29iaWFuRWxlbWVudCwgTG9ja0NvbnN0cmFpbnQsIE1hdDMsIE1hdGVyaWFsLCBOYWl2ZUJyb2FkcGhhc2UsIE5hcnJvd3BoYXNlLCBPYmplY3RDb2xsaXNpb25NYXRyaXgsIFBhcnRpY2xlLCBQbGFuZSwgUG9pbnRUb1BvaW50Q29uc3RyYWludCwgUG9vbCwgUXVhdGVybmlvbiwgUkFZX01PREVTLCBSYXksIFJheWNhc3RSZXN1bHQsIFJheWNhc3RWZWhpY2xlLCBSaWdpZFZlaGljbGUsIFJvdGF0aW9uYWxFcXVhdGlvbiwgUm90YXRpb25hbE1vdG9yRXF1YXRpb24sIFNBUEJyb2FkcGhhc2UsIFNIQVBFX1RZUEVTLCBTUEhTeXN0ZW0sIFNoYXBlLCBTb2x2ZXIsIFNwaGVyZSwgU3BsaXRTb2x2ZXIsIFNwcmluZywgVHJhbnNmb3JtLCBUcmltZXNoLCBWZWMzLCBWZWMzUG9vbCwgV29ybGQgfTtcbiIsImltcG9ydCB7XHJcbiAgV29ybGQsXHJcbiAgTmFpdmVCcm9hZHBoYXNlLFxyXG4gIFNBUEJyb2FkcGhhc2UsXHJcbiAgQm9keSxcclxuICBQbGFuZSxcclxuICBCb3gsXHJcbiAgVmVjMyxcclxuICBDb252ZXhQb2x5aGVkcm9uLFxyXG4gIEN5bGluZGVyLFxyXG4gIEhlaWdodGZpZWxkLFxyXG4gIFBhcnRpY2xlLFxyXG4gIFNwaGVyZSxcclxuICBUcmltZXNoLFxyXG4gIFBvaW50VG9Qb2ludENvbnN0cmFpbnQsXHJcbiAgQ29uZVR3aXN0Q29uc3RyYWludCxcclxuICBIaW5nZUNvbnN0cmFpbnQsXHJcbiAgRGlzdGFuY2VDb25zdHJhaW50LFxyXG4gIExvY2tDb25zdHJhaW50LFxyXG4gIENvbnN0cmFpbnQsXHJcbiAgU3ByaW5nLFxyXG4gIE1hdGVyaWFsLFxyXG4gIFF1YXRlcm5pb24sXHJcbiAgUmF5LFxyXG4gIFJheWNhc3RSZXN1bHQsXHJcbn0gZnJvbSAnY2Fubm9uLWVzJ1xyXG5cclxubGV0IGJvZGllcyA9IHt9XHJcbmNvbnN0IHNwcmluZ3MgPSB7fVxyXG5jb25zdCByYXlzID0ge31cclxuY29uc3Qgd29ybGQgPSBuZXcgV29ybGQoKVxyXG5jb25zdCBjb25maWcgPSB7IHN0ZXA6IDEgLyA2MCB9XHJcbmNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fVxyXG5jb25zdCB0ZW1wVmVjdG9yID0gbmV3IFZlYzMoKVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykge1xyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSAnQm94JzpcclxuICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncykpIC8vIGhhbGZFeHRlbnRzXHJcbiAgICBjYXNlICdDb252ZXhQb2x5aGVkcm9uJzpcclxuICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnc1xyXG4gICAgICByZXR1cm4gbmV3IENvbnZleFBvbHloZWRyb24oe1xyXG4gICAgICAgIHZlcnRpY2VzOiB2Lm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSksXHJcbiAgICAgICAgbm9ybWFsczogbiA/IG4ubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSA6IG51bGwsXHJcbiAgICAgICAgZmFjZXM6IGYsXHJcbiAgICAgIH0pXHJcbiAgICBjYXNlICdDeWxpbmRlcic6XHJcbiAgICAgIHJldHVybiBuZXcgQ3lsaW5kZXIoLi4uYXJncykgLy8gWyByYWRpdXNUb3AsIHJhZGl1c0JvdHRvbSwgaGVpZ2h0LCBudW1TZWdtZW50cyBdID0gYXJnc1xyXG4gICAgY2FzZSAnSGVpZ2h0ZmllbGQnOlxyXG4gICAgICByZXR1cm4gbmV3IEhlaWdodGZpZWxkKC4uLmFyZ3MpIC8vIFsgQXJyYXkgZGF0YSwgb3B0aW9uczoge21pblZhbHVlLCBtYXhWYWx1ZSwgZWxlbWVudFNpemV9ICBdID0gYXJnc1xyXG4gICAgY2FzZSAnUGFydGljbGUnOlxyXG4gICAgICByZXR1cm4gbmV3IFBhcnRpY2xlKCkgLy8gbm8gYXJnc1xyXG4gICAgY2FzZSAnUGxhbmUnOlxyXG4gICAgICByZXR1cm4gbmV3IFBsYW5lKCkgLy8gbm8gYXJncywgaW5maW5pdGUgeCBhbmQgeVxyXG4gICAgY2FzZSAnU3BoZXJlJzpcclxuICAgICAgcmV0dXJuIG5ldyBTcGhlcmUoLi4uYXJncykgLy8gW3JhZGl1c10gPSBhcmdzXHJcbiAgICBjYXNlICdUcmltZXNoJzpcclxuICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKC4uLmFyZ3MpIC8vIFt2ZXJ0aWNlcywgaW5kaWNlc10gPSBhcmdzXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzeW5jQm9kaWVzKCkge1xyXG4gIHNlbGYucG9zdE1lc3NhZ2UoeyBvcDogJ3N5bmMnLCBib2RpZXM6IHdvcmxkLmJvZGllcy5tYXAoKGJvZHkpID0+IGJvZHkudXVpZCkgfSlcclxuICBib2RpZXMgPSB3b3JsZC5ib2RpZXMucmVkdWNlKChhY2MsIGJvZHkpID0+ICh7IC4uLmFjYywgW2JvZHkudXVpZF06IGJvZHkgfSksIHt9KVxyXG59XHJcblxyXG5zZWxmLm9ubWVzc2FnZSA9IChlKSA9PiB7XHJcbiAgY29uc3QgeyBvcCwgdXVpZCwgdHlwZSwgcG9zaXRpb25zLCBxdWF0ZXJuaW9ucywgcHJvcHMgfSA9IGUuZGF0YVxyXG5cclxuICBzd2l0Y2ggKG9wKSB7XHJcbiAgICBjYXNlICdpbml0Jzoge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgZ3Jhdml0eSxcclxuICAgICAgICB0b2xlcmFuY2UsXHJcbiAgICAgICAgc3RlcCxcclxuICAgICAgICBpdGVyYXRpb25zLFxyXG4gICAgICAgIGFsbG93U2xlZXAsXHJcbiAgICAgICAgYnJvYWRwaGFzZSxcclxuICAgICAgICBheGlzSW5kZXgsXHJcbiAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCxcclxuICAgICAgfSA9IHByb3BzXHJcbiAgICAgIGNvbnN0IGJyb2FkcGhhc2VzID0geyBOYWl2ZUJyb2FkcGhhc2UsIFNBUEJyb2FkcGhhc2UgfVxyXG4gICAgICB3b3JsZC5hbGxvd1NsZWVwID0gYWxsb3dTbGVlcFxyXG4gICAgICB3b3JsZC5ncmF2aXR5LnNldChncmF2aXR5WzBdLCBncmF2aXR5WzFdLCBncmF2aXR5WzJdKVxyXG4gICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlXHJcbiAgICAgIHdvcmxkLnNvbHZlci5pdGVyYXRpb25zID0gaXRlcmF0aW9uc1xyXG4gICAgICB3b3JsZC5icm9hZHBoYXNlID0gbmV3IChicm9hZHBoYXNlc1ticm9hZHBoYXNlICsgJ0Jyb2FkcGhhc2UnXSB8fCBOYWl2ZUJyb2FkcGhhc2UpKHdvcmxkKVxyXG4gICAgICB3b3JsZC5icm9hZHBoYXNlLmF4aXNJbmRleCA9IGF4aXNJbmRleCA/PyAwXHJcbiAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbClcclxuICAgICAgY29uZmlnLnN0ZXAgPSBzdGVwXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdzdGVwJzoge1xyXG4gICAgICB3b3JsZC5zdGVwKGNvbmZpZy5zdGVwKVxyXG4gICAgICBjb25zdCBudW1iZXJPZkJvZGllcyA9IHdvcmxkLmJvZGllcy5sZW5ndGhcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJvZGllczsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sXHJcbiAgICAgICAgICBwID0gYi5wb3NpdGlvbixcclxuICAgICAgICAgIHEgPSBiLnF1YXRlcm5pb25cclxuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAwXSA9IHAueFxyXG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDFdID0gcC55XHJcbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMl0gPSBwLnpcclxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDBdID0gcS54XHJcbiAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAxXSA9IHEueVxyXG4gICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMl0gPSBxLnpcclxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDNdID0gcS53XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW11cclxuICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkge1xyXG4gICAgICAgIGNvbnN0IFt1dWlkLCB0eXBlXSA9IHN1YnNjcmlwdGlvbnNbaWRdXHJcbiAgICAgICAgbGV0IHZhbHVlID0gYm9kaWVzW3V1aWRdW3R5cGVdXHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVmVjMykgdmFsdWUgPSB2YWx1ZS50b0FycmF5KClcclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHtcclxuICAgICAgICAgIHZhbHVlLnRvRXVsZXIodGVtcFZlY3RvcilcclxuICAgICAgICAgIHZhbHVlID0gdGVtcFZlY3Rvci50b0FycmF5KClcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pXHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5wb3N0TWVzc2FnZShcclxuICAgICAgICB7XHJcbiAgICAgICAgICBvcDogJ2ZyYW1lJyxcclxuICAgICAgICAgIHBvc2l0aW9ucyxcclxuICAgICAgICAgIHF1YXRlcm5pb25zLFxyXG4gICAgICAgICAgb2JzZXJ2YXRpb25zLFxyXG4gICAgICAgICAgYWN0aXZlOiB3b3JsZC5oYXNBY3RpdmVCb2RpZXMsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBbcG9zaXRpb25zLmJ1ZmZlciwgcXVhdGVybmlvbnMuYnVmZmVyXVxyXG4gICAgICApXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdhZGRCb2RpZXMnOiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgIGFyZ3MgPSBbXSxcclxuICAgICAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdLFxyXG4gICAgICAgICAgcm90YXRpb24gPSBbMCwgMCwgMF0sXHJcbiAgICAgICAgICBzY2FsZSA9IFsxLCAxLCAxXSxcclxuICAgICAgICAgIHZlbG9jaXR5ID0gWzAsIDAsIDBdLFxyXG4gICAgICAgICAgYW5ndWxhclZlbG9jaXR5ID0gWzAsIDAsIDBdLFxyXG4gICAgICAgICAgbGluZWFyRmFjdG9yID0gWzEsIDEsIDFdLFxyXG4gICAgICAgICAgYW5ndWxhckZhY3RvciA9IFsxLCAxLCAxXSxcclxuICAgICAgICAgIHR5cGU6IGJvZHlUeXBlLFxyXG4gICAgICAgICAgbWFzcyxcclxuICAgICAgICAgIG1hdGVyaWFsLFxyXG4gICAgICAgICAgc2hhcGVzLFxyXG4gICAgICAgICAgb25Db2xsaWRlLFxyXG4gICAgICAgICAgLi4uZXh0cmFcclxuICAgICAgICB9ID0gcHJvcHNbaV1cclxuXHJcbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHtcclxuICAgICAgICAgIC4uLmV4dHJhLFxyXG4gICAgICAgICAgbWFzczogYm9keVR5cGUgPT09ICdTdGF0aWMnID8gMCA6IG1hc3MsXHJcbiAgICAgICAgICB0eXBlOiBib2R5VHlwZSA/IEJvZHlbYm9keVR5cGUudG9VcHBlckNhc2UoKV0gOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICBtYXRlcmlhbDogbWF0ZXJpYWwgPyBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgYm9keS51dWlkID0gdXVpZFtpXVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ0NvbXBvdW5kJykge1xyXG4gICAgICAgICAgc2hhcGVzLmZvckVhY2goKHsgdHlwZSwgYXJncywgcG9zaXRpb24sIHJvdGF0aW9uLCBtYXRlcmlhbCwgLi4uZXh0cmEgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZUJvZHkgPSBib2R5LmFkZFNoYXBlKFxyXG4gICAgICAgICAgICAgIGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpLFxyXG4gICAgICAgICAgICAgIHBvc2l0aW9uID8gbmV3IFZlYzMoLi4ucG9zaXRpb24pIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uID8gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIoLi4ucm90YXRpb24pIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsKSBzaGFwZUJvZHkubWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpXHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhcGVCb2R5LCBleHRyYSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncykpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKVxyXG4gICAgICAgIGJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocm90YXRpb25bMF0sIHJvdGF0aW9uWzFdLCByb3RhdGlvblsyXSlcclxuICAgICAgICBib2R5LnZlbG9jaXR5LnNldCh2ZWxvY2l0eVswXSwgdmVsb2NpdHlbMV0sIHZlbG9jaXR5WzJdKVxyXG4gICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKVxyXG4gICAgICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKVxyXG4gICAgICAgIGJvZHkuYW5ndWxhckZhY3Rvci5zZXQoYW5ndWxhckZhY3RvclswXSwgYW5ndWxhckZhY3RvclsxXSwgYW5ndWxhckZhY3RvclsyXSlcclxuICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpXHJcblxyXG4gICAgICAgIGlmIChvbkNvbGxpZGUpXHJcbiAgICAgICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpZGUnLCAoeyB0eXBlLCBib2R5LCB0YXJnZXQsIGNvbnRhY3QgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5pLCByaSwgcmogfSA9IGNvbnRhY3RcclxuICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgb3A6ICdldmVudCcsXHJcbiAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQudXVpZCxcclxuICAgICAgICAgICAgICBjb250YWN0OiB7XHJcbiAgICAgICAgICAgICAgICBuaTogbmkudG9BcnJheSgpLFxyXG4gICAgICAgICAgICAgICAgcmk6IHJpLnRvQXJyYXkoKSxcclxuICAgICAgICAgICAgICAgIHJqOiByai50b0FycmF5KCksXHJcbiAgICAgICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCksXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBib2R5RmlsdGVyR3JvdXA6IGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAsXHJcbiAgICAgICAgICAgICAgICBib2R5RmlsdGVyTWFzazogYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCxcclxuICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlck1hc2s6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJNYXNrLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHN5bmNCb2RpZXMoKVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHdvcmxkLnJlbW92ZUJvZHkoYm9kaWVzW3V1aWRbaV1dKVxyXG4gICAgICBzeW5jQm9kaWVzKClcclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3N1YnNjcmliZSc6IHtcclxuICAgICAgY29uc3QgeyBpZCwgdHlwZSB9ID0gcHJvcHNcclxuICAgICAgc3Vic2NyaXB0aW9uc1tpZF0gPSBbdXVpZCwgdHlwZV1cclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3Vuc3Vic2NyaWJlJzoge1xyXG4gICAgICBkZWxldGUgc3Vic2NyaXB0aW9uc1twcm9wc11cclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3NldFBvc2l0aW9uJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLnBvc2l0aW9uLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0UXVhdGVybmlvbic6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0VmVsb2NpdHknOlxyXG4gICAgICBib2RpZXNbdXVpZF0udmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzZXRBbmd1bGFyVmVsb2NpdHknOlxyXG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhclZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0TGluZWFyRmFjdG9yJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldEFuZ3VsYXJGYWN0b3InOlxyXG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldE1hc3MnOlxyXG4gICAgICBib2RpZXNbdXVpZF0ubWFzcyA9IHByb3BzXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzZXRMaW5lYXJEYW1waW5nJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckRhbXBpbmcgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0QW5ndWxhckRhbXBpbmcnOlxyXG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckRhbXBpbmcgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0QWxsb3dTbGVlcCc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hbGxvd1NsZWVwID0gcHJvcHNcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldFNsZWVwU3BlZWRMaW1pdCc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFNwZWVkTGltaXQgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0U2xlZXBUaW1lTGltaXQnOlxyXG4gICAgICBib2RpZXNbdXVpZF0uc2xlZXBUaW1lTGltaXQgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAnOlxyXG4gICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyTWFzayc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHNcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOlxyXG4gICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzZXRGaXhlZFJvdGF0aW9uJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmZpeGVkUm90YXRpb24gPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnYXBwbHlGb3JjZSc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnYXBwbHlJbXB1bHNlJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5SW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ2FwcGx5TG9jYWxGb3JjZSc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsRm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdhcHBseUxvY2FsSW1wdWxzZSc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsSW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ2FkZENvbnN0cmFpbnQnOiB7XHJcbiAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzXHJcbiAgICAgIGxldCB7IHBpdm90QSwgcGl2b3RCLCBheGlzQSwgYXhpc0IsIC4uLm9wdGlvbnMgfSA9IG9wdG5zXHJcblxyXG4gICAgICAvLyBpcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZW5mb3JjZSBkZWZhdWx0cz9cclxuICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZFxyXG4gICAgICBwaXZvdEIgPSBBcnJheS5pc0FycmF5KHBpdm90QikgPyBuZXcgVmVjMyguLi5waXZvdEIpIDogdW5kZWZpbmVkXHJcbiAgICAgIGF4aXNBID0gQXJyYXkuaXNBcnJheShheGlzQSkgPyBuZXcgVmVjMyguLi5heGlzQSkgOiB1bmRlZmluZWRcclxuICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZFxyXG5cclxuICAgICAgbGV0IGNvbnN0cmFpbnRcclxuXHJcbiAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ1BvaW50VG9Qb2ludCc6XHJcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoXHJcbiAgICAgICAgICAgIGJvZGllc1tib2R5QV0sXHJcbiAgICAgICAgICAgIHBpdm90QSxcclxuICAgICAgICAgICAgYm9kaWVzW2JvZHlCXSxcclxuICAgICAgICAgICAgcGl2b3RCLFxyXG4gICAgICAgICAgICBvcHRucy5tYXhGb3JjZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICBjYXNlICdDb25lVHdpc3QnOlxyXG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25lVHdpc3RDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcclxuICAgICAgICAgICAgcGl2b3RBLFxyXG4gICAgICAgICAgICBwaXZvdEIsXHJcbiAgICAgICAgICAgIGF4aXNBLFxyXG4gICAgICAgICAgICBheGlzQixcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ0hpbmdlJzpcclxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgSGluZ2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcclxuICAgICAgICAgICAgcGl2b3RBLFxyXG4gICAgICAgICAgICBwaXZvdEIsXHJcbiAgICAgICAgICAgIGF4aXNBLFxyXG4gICAgICAgICAgICBheGlzQixcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ0Rpc3RhbmNlJzpcclxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSlcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSAnTG9jayc6XHJcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkXHJcbiAgICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludClcclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3JlbW92ZUNvbnN0cmFpbnQnOlxyXG4gICAgICB3b3JsZC5yZW1vdmVDb25zdHJhaW50KHV1aWQpXHJcbiAgICAgIGJyZWFrXHJcblxyXG4gICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6XHJcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IGMuZW5hYmxlKCkpXHJcbiAgICAgIGJyZWFrXHJcblxyXG4gICAgY2FzZSAnZGlzYWJsZUNvbnN0cmFpbnQnOlxyXG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmRpc2FibGUoKSlcclxuICAgICAgYnJlYWtcclxuXHJcbiAgICBjYXNlICdhZGRTcHJpbmcnOiB7XHJcbiAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzXHJcbiAgICAgIGxldCB7IHdvcmxkQW5jaG9yQSwgd29ybGRBbmNob3JCLCBsb2NhbEFuY2hvckEsIGxvY2FsQW5jaG9yQiwgcmVzdExlbmd0aCwgc3RpZmZuZXNzLCBkYW1waW5nIH0gPSBvcHRuc1xyXG5cclxuICAgICAgd29ybGRBbmNob3JBID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckEpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JBKSA6IHVuZGVmaW5lZFxyXG4gICAgICB3b3JsZEFuY2hvckIgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQikgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckIpIDogdW5kZWZpbmVkXHJcbiAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWRcclxuICAgICAgbG9jYWxBbmNob3JCID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckIpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JCKSA6IHVuZGVmaW5lZFxyXG5cclxuICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwge1xyXG4gICAgICAgIHdvcmxkQW5jaG9yQSxcclxuICAgICAgICB3b3JsZEFuY2hvckIsXHJcbiAgICAgICAgbG9jYWxBbmNob3JBLFxyXG4gICAgICAgIGxvY2FsQW5jaG9yQixcclxuICAgICAgICByZXN0TGVuZ3RoLFxyXG4gICAgICAgIHN0aWZmbmVzcyxcclxuICAgICAgICBkYW1waW5nLFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgc3ByaW5nLnV1aWQgPSB1dWlkXHJcblxyXG4gICAgICBsZXQgcG9zdFN0ZXBTcHJpbmcgPSAoZSkgPT4gc3ByaW5nLmFwcGx5Rm9yY2UoKVxyXG5cclxuICAgICAgc3ByaW5nc1t1dWlkXSA9IHBvc3RTdGVwU3ByaW5nXHJcblxyXG4gICAgICAvLyBDb21wdXRlIHRoZSBmb3JjZSBhZnRlciBlYWNoIHN0ZXBcclxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgY2FzZSAncmVtb3ZlU3ByaW5nJzoge1xyXG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdhZGRSYXknOiB7XHJcbiAgICAgIGNvbnN0IHsgZnJvbSwgdG8sIC4uLm9wdGlvbnMgfSA9IHByb3BzXHJcbiAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoZnJvbSA/IG5ldyBWZWMzKC4uLmZyb20pIDogdW5kZWZpbmVkLCB0byA/IG5ldyBWZWMzKC4uLnRvKSA6IHVuZGVmaW5lZClcclxuICAgICAgb3B0aW9ucy5tb2RlID0gUmF5W29wdGlvbnMubW9kZS50b1VwcGVyQ2FzZSgpXVxyXG4gICAgICBvcHRpb25zLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KClcclxuICAgICAgcmF5c1t1dWlkXSA9ICgpID0+IHtcclxuICAgICAgICByYXkuaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgYm9keSxcclxuICAgICAgICAgIHNoYXBlLFxyXG4gICAgICAgICAgcmF5RnJvbVdvcmxkLFxyXG4gICAgICAgICAgcmF5VG9Xb3JsZCxcclxuICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLFxyXG4gICAgICAgICAgaGl0UG9pbnRXb3JsZCxcclxuICAgICAgICAgIC4uLnJlc3RcclxuICAgICAgICB9ID0gb3B0aW9ucy5yZXN1bHRcclxuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgIG9wOiAnZXZlbnQnLFxyXG4gICAgICAgICAgdHlwZTogJ3JheWhpdCcsXHJcbiAgICAgICAgICByYXk6IHtcclxuICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogcmF5LmRpcmVjdGlvbi50b0FycmF5KCksXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiByYXkuY29sbGlzaW9uRmlsdGVyR3JvdXAsXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxyXG4gICAgICAgICAgICB1dWlkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IGJvZHkgPyBib2R5LnV1aWQgOiBudWxsLFxyXG4gICAgICAgICAgc2hhcGU6IHNoYXBlID8geyAuLi5zaGFwZSwgYm9keTogYm9keS51dWlkIH0gOiBudWxsLFxyXG4gICAgICAgICAgcmF5RnJvbVdvcmxkOiByYXlGcm9tV29ybGQudG9BcnJheSgpLFxyXG4gICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksXHJcbiAgICAgICAgICBoaXROb3JtYWxXb3JsZDogaGl0Tm9ybWFsV29ybGQudG9BcnJheSgpLFxyXG4gICAgICAgICAgaGl0UG9pbnRXb3JsZDogaGl0UG9pbnRXb3JsZC50b0FycmF5KCksXHJcbiAgICAgICAgICAuLi5yZXN0LFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdyZW1vdmVSYXknOiB7XHJcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKVxyXG4gICAgICBkZWxldGUgcmF5c1t1dWlkXVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTWF0MyIsImNvbnN0cnVjdG9yIiwiZWxlbWVudHMiLCJpZGVudGl0eSIsImUiLCJzZXRaZXJvIiwic2V0VHJhY2UiLCJ2ZWN0b3IiLCJ4IiwieSIsInoiLCJnZXRUcmFjZSIsInRhcmdldCIsIlZlYzMiLCJ2bXVsdCIsInYiLCJzbXVsdCIsInMiLCJpIiwibGVuZ3RoIiwibW11bHQiLCJtYXRyaXgiLCJqIiwic3VtIiwiayIsInNjYWxlIiwidCIsInNvbHZlIiwiYiIsIm5yIiwibmMiLCJlcW5zIiwicHVzaCIsIm4iLCJucCIsImtwIiwicCIsIm11bHRpcGxpZXIiLCJpc05hTiIsIkluZmluaXR5IiwidG9TdHJpbmciLCJyb3ciLCJjb2x1bW4iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImNvcHkiLCJyIiwic2VwIiwicmV2ZXJzZSIsInNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24iLCJxIiwidyIsIngyIiwieTIiLCJ6MiIsInh4IiwieHkiLCJ4eiIsInl5IiwieXoiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsInRyYW5zcG9zZSIsIk10IiwiTSIsImNyb3NzIiwidngiLCJ2eSIsInZ6Iiwic2V0IiwidmFkZCIsInZzdWIiLCJjcm9zc21hdCIsIm5vcm1hbGl6ZSIsIk1hdGgiLCJzcXJ0IiwiaW52TiIsInVuaXQiLCJuaW52IiwibGVuZ3RoU3F1YXJlZCIsImRvdCIsImRpc3RhbmNlVG8iLCJweCIsInB5IiwicHoiLCJkaXN0YW5jZVNxdWFyZWQiLCJzY2FsYXIiLCJ2bXVsIiwiYWRkU2NhbGVkVmVjdG9yIiwiaXNaZXJvIiwibmVnYXRlIiwidGFuZ2VudHMiLCJ0MSIsInQyIiwibm9ybSIsIlZlYzNfdGFuZ2VudHNfbiIsImlub3JtIiwicmFuZFZlYyIsIlZlYzNfdGFuZ2VudHNfcmFuZFZlYyIsImFicyIsInRvQXJyYXkiLCJsZXJwIiwiYWxtb3N0RXF1YWxzIiwicHJlY2lzaW9uIiwiYWxtb3N0WmVybyIsImlzQW50aXBhcmFsbGVsVG8iLCJhbnRpcF9uZWciLCJjbG9uZSIsIlpFUk8iLCJVTklUX1giLCJVTklUX1kiLCJVTklUX1oiLCJBQUJCIiwib3B0aW9ucyIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwic2V0RnJvbVBvaW50cyIsInBvaW50cyIsInBvc2l0aW9uIiwicXVhdGVybmlvbiIsInNraW5TaXplIiwibCIsInUiLCJ0bXAiLCJhYWJiIiwiZXh0ZW5kIiwibWluIiwibWF4Iiwib3ZlcmxhcHMiLCJsMSIsInUxIiwibDIiLCJ1MiIsIm92ZXJsYXBzWCIsIm92ZXJsYXBzWSIsIm92ZXJsYXBzWiIsInZvbHVtZSIsImNvbnRhaW5zIiwiZ2V0Q29ybmVycyIsImEiLCJjIiwiZCIsImYiLCJnIiwiaCIsInRvTG9jYWxGcmFtZSIsImZyYW1lIiwiY29ybmVycyIsInRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzIiwiY29ybmVyIiwicG9pbnRUb0xvY2FsIiwidG9Xb3JsZEZyYW1lIiwicG9pbnRUb1dvcmxkIiwib3ZlcmxhcHNSYXkiLCJyYXkiLCJkaXJlY3Rpb24iLCJmcm9tIiwiZGlyRnJhY1giLCJkaXJGcmFjWSIsImRpckZyYWNaIiwidDMiLCJ0NCIsInQ1IiwidDYiLCJ0bWluIiwidG1heCIsIkFycmF5Q29sbGlzaW9uTWF0cml4IiwiZ2V0IiwiYmkiLCJiaiIsImluZGV4IiwidGVtcCIsInJlc2V0Iiwic2V0TnVtT2JqZWN0cyIsIkV2ZW50VGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJsaXN0ZW5lciIsIl9saXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJpbmNsdWRlcyIsImhhc0V2ZW50TGlzdGVuZXIiLCJoYXNBbnlFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnQiLCJsaXN0ZW5lckFycmF5IiwiY2FsbCIsIlF1YXRlcm5pb24iLCJzZXRGcm9tQXhpc0FuZ2xlIiwiYW5nbGUiLCJzaW4iLCJjb3MiLCJ0b0F4aXNBbmdsZSIsInRhcmdldEF4aXMiLCJhY29zIiwic2V0RnJvbVZlY3RvcnMiLCJzZnZfdDEiLCJzZnZfdDIiLCJQSSIsIm11bHQiLCJxdWF0IiwiYXgiLCJheSIsImF6IiwiYXciLCJieCIsImJ5IiwiYnoiLCJidyIsImludmVyc2UiLCJjb25qdWdhdGUiLCJpbm9ybTIiLCJub3JtYWxpemVGYXN0IiwicXgiLCJxeSIsInF6IiwicXciLCJpeCIsIml5IiwiaXoiLCJpdyIsInRvRXVsZXIiLCJvcmRlciIsImhlYWRpbmciLCJhdHRpdHVkZSIsImJhbmsiLCJ0ZXN0IiwiYXRhbjIiLCJzcXgiLCJzcXkiLCJzcXoiLCJhc2luIiwiRXJyb3IiLCJzZXRGcm9tRXVsZXIiLCJjMSIsImMyIiwiYzMiLCJzMSIsInMyIiwiczMiLCJzbGVycCIsInRvUXVhdCIsIm9tZWdhIiwiY29zb20iLCJzaW5vbSIsInNjYWxlMCIsInNjYWxlMSIsImludGVncmF0ZSIsImFuZ3VsYXJWZWxvY2l0eSIsImR0IiwiYW5ndWxhckZhY3RvciIsImhhbGZfZHQiLCJTSEFQRV9UWVBFUyIsIlNQSEVSRSIsIlBMQU5FIiwiQk9YIiwiQ09NUE9VTkQiLCJDT05WRVhQT0xZSEVEUk9OIiwiSEVJR0hURklFTEQiLCJQQVJUSUNMRSIsIkNZTElOREVSIiwiVFJJTUVTSCIsIlNoYXBlIiwiaWQiLCJpZENvdW50ZXIiLCJib3VuZGluZ1NwaGVyZVJhZGl1cyIsImNvbGxpc2lvblJlc3BvbnNlIiwiY29sbGlzaW9uRmlsdGVyR3JvdXAiLCJjb2xsaXNpb25GaWx0ZXJNYXNrIiwibWF0ZXJpYWwiLCJib2R5IiwidXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMiLCJjYWxjdWxhdGVMb2NhbEluZXJ0aWEiLCJtYXNzIiwiY2FsY3VsYXRlV29ybGRBQUJCIiwicG9zIiwidHlwZXMiLCJUcmFuc2Zvcm0iLCJ3b3JsZFBvaW50IiwicmVzdWx0IiwicG9pbnRUb0xvY2FsRnJhbWUiLCJsb2NhbFBvaW50IiwicG9pbnRUb1dvcmxkRnJhbWUiLCJ2ZWN0b3JUb1dvcmxkRnJhbWUiLCJsb2NhbFZlY3RvciIsInRtcFF1YXQiLCJ2ZWN0b3JUb0xvY2FsRnJhbWUiLCJ3b3JsZFZlY3RvciIsIkNvbnZleFBvbHloZWRyb24iLCJwcm9wcyIsInZlcnRpY2VzIiwiZmFjZXMiLCJub3JtYWxzIiwiYXhlcyIsImZhY2VOb3JtYWxzIiwiY29tcHV0ZU5vcm1hbHMiLCJ3b3JsZFZlcnRpY2VzIiwid29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIiwid29ybGRGYWNlTm9ybWFscyIsIndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSIsInVuaXF1ZUF4ZXMiLCJzbGljZSIsInVuaXF1ZUVkZ2VzIiwiY29tcHV0ZUVkZ2VzIiwiZWRnZXMiLCJlZGdlIiwiZmFjZSIsIm51bVZlcnRpY2VzIiwiZm91bmQiLCJnZXRGYWNlTm9ybWFsIiwidmVydGV4IiwiY29uc29sZSIsImVycm9yIiwid2FybiIsInZhIiwidmIiLCJ2YyIsImNvbXB1dGVOb3JtYWwiLCJjbGlwQWdhaW5zdEh1bGwiLCJwb3NBIiwicXVhdEEiLCJodWxsQiIsInBvc0IiLCJxdWF0QiIsInNlcGFyYXRpbmdOb3JtYWwiLCJtaW5EaXN0IiwibWF4RGlzdCIsIldvcmxkTm9ybWFsIiwiY2xvc2VzdEZhY2VCIiwiZG1heCIsIk51bWJlciIsIk1BWF9WQUxVRSIsIndvcmxkVmVydHNCMSIsIndvcmxkYiIsImNsaXBGYWNlQWdhaW5zdEh1bGwiLCJmaW5kU2VwYXJhdGluZ0F4aXMiLCJmYWNlTGlzdEEiLCJmYWNlTGlzdEIiLCJmYWNlQU5vcm1hbFdTMyIsIldvcmxkbm9ybWFsMSIsImRlbHRhQyIsIndvcmxkRWRnZTAiLCJ3b3JsZEVkZ2UxIiwiQ3Jvc3MiLCJkbWluIiwiaHVsbEEiLCJudW1GYWNlc0EiLCJmaSIsInRlc3RTZXBBeGlzIiwibnVtRmFjZXNCIiwiZTAiLCJlMSIsImRpc3QiLCJheGlzIiwicHJvamVjdCIsIm1heG1pbkEiLCJtYXhtaW5CIiwibWF4QSIsIm1pbkEiLCJtYXhCIiwibWluQiIsImQwIiwiZDEiLCJkZXB0aCIsImFhYmJtYXgiLCJhYWJibWluIiwiY29tcHV0ZUxvY2FsQUFCQiIsImdldFBsYW5lQ29uc3RhbnRPZkZhY2UiLCJmYWNlX2kiLCJmYWNlQU5vcm1hbFdTIiwiZWRnZTAiLCJXb3JsZEVkZ2UwIiwid29ybGRQbGFuZUFub3JtYWwxIiwicGxhbmVOb3JtYWxXUzEiLCJ3b3JsZEExIiwibG9jYWxQbGFuZU5vcm1hbCIsInBsYW5lTm9ybWFsV1MiLCJ3b3JsZFZlcnRzQjIiLCJwVnR4SW4iLCJwVnR4T3V0IiwiY2xvc2VzdEZhY2VBIiwicG9seUEiLCJjb25uZWN0ZWRGYWNlcyIsIm51bVZlcnRpY2VzQSIsIm90aGVyRmFjZSIsImxvY2FsUGxhbmVFcSIsInBsYW5lRXFXUyIsImNsaXBGYWNlQWdhaW5zdFBsYW5lIiwic2hpZnQiLCJsb2ciLCJwb2ludCIsIm5vcm1hbCIsImluVmVydGljZXMiLCJvdXRWZXJ0aWNlcyIsInBsYW5lTm9ybWFsIiwicGxhbmVDb25zdGFudCIsIm5fZG90X2ZpcnN0Iiwibl9kb3RfbGFzdCIsIm51bVZlcnRzIiwiZmlyc3RWZXJ0ZXgiLCJsYXN0VmVydGV4IiwidmkiLCJuZXd2IiwiY29tcHV0ZVdvcmxkVmVydGljZXMiLCJ2ZXJ0cyIsIndvcmxkVmVydHMiLCJjb21wdXRlV29ybGRGYWNlTm9ybWFscyIsIk4iLCJ3b3JsZE5vcm1hbHMiLCJtYXgyIiwibm9ybTIiLCJtaW54IiwibWlueSIsIm1pbnoiLCJtYXh4IiwibWF4eSIsIm1heHoiLCJ0ZW1wV29ybGRWZXJ0ZXgiLCJnZXRBdmVyYWdlUG9pbnRMb2NhbCIsInRyYW5zZm9ybUFsbFBvaW50cyIsIm9mZnNldCIsInBvaW50SXNJbnNpZGUiLCJwb2ludEluc2lkZSIsInZUb1AiLCJyMSIsInZUb1BvaW50SW5zaWRlIiwicjIiLCJjYiIsImFiIiwic2hhcGUiLCJsb2NhbEF4aXMiLCJsb2NhbE9yaWdpbiIsInZzIiwiYWRkIiwidmFsIiwiQm94IiwiaGFsZkV4dGVudHMiLCJjb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24iLCJ1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24iLCJzeCIsInN5Iiwic3oiLCJWIiwiY2FsY3VsYXRlSW5lcnRpYSIsImdldFNpZGVOb3JtYWxzIiwic2l4VGFyZ2V0VmVjdG9ycyIsInNpZGVzIiwiZXgiLCJmb3JFYWNoV29ybGRDb3JuZXIiLCJjYWxsYmFjayIsIndvcmxkQ29ybmVyVGVtcFBvcyIsIndvcmxkQ29ybmVyc1RlbXAiLCJ3YyIsIkJPRFlfU0xFRVBfU1RBVEVTIiwiQVdBS0UiLCJTTEVFUFkiLCJTTEVFUElORyIsIkJvZHkiLCJ3b3JsZCIsInByZVN0ZXAiLCJwb3N0U3RlcCIsInZsYW1iZGEiLCJwcmV2aW91c1Bvc2l0aW9uIiwiaW50ZXJwb2xhdGVkUG9zaXRpb24iLCJpbml0UG9zaXRpb24iLCJ2ZWxvY2l0eSIsImluaXRWZWxvY2l0eSIsImZvcmNlIiwiaW52TWFzcyIsImxpbmVhckRhbXBpbmciLCJTVEFUSUMiLCJEWU5BTUlDIiwiYWxsb3dTbGVlcCIsInNsZWVwU3RhdGUiLCJzbGVlcFNwZWVkTGltaXQiLCJzbGVlcFRpbWVMaW1pdCIsInRpbWVMYXN0U2xlZXB5Iiwid2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSIsInRvcnF1ZSIsImluaXRRdWF0ZXJuaW9uIiwicHJldmlvdXNRdWF0ZXJuaW9uIiwiaW50ZXJwb2xhdGVkUXVhdGVybmlvbiIsImluaXRBbmd1bGFyVmVsb2NpdHkiLCJzaGFwZXMiLCJzaGFwZU9mZnNldHMiLCJzaGFwZU9yaWVudGF0aW9ucyIsImluZXJ0aWEiLCJpbnZJbmVydGlhIiwiaW52SW5lcnRpYVdvcmxkIiwiaW52TWFzc1NvbHZlIiwiaW52SW5lcnRpYVNvbHZlIiwiaW52SW5lcnRpYVdvcmxkU29sdmUiLCJmaXhlZFJvdGF0aW9uIiwiYW5ndWxhckRhbXBpbmciLCJsaW5lYXJGYWN0b3IiLCJhYWJiTmVlZHNVcGRhdGUiLCJib3VuZGluZ1JhZGl1cyIsIndsYW1iZGEiLCJhZGRTaGFwZSIsInVwZGF0ZU1hc3NQcm9wZXJ0aWVzIiwid2FrZVVwIiwicHJldlN0YXRlIiwid2FrZXVwRXZlbnQiLCJzbGVlcCIsInNsZWVwVGljayIsInRpbWUiLCJzcGVlZFNxdWFyZWQiLCJzcGVlZExpbWl0U3F1YXJlZCIsInNsZWVweUV2ZW50Iiwic2xlZXBFdmVudCIsInVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMiLCJLSU5FTUFUSUMiLCJfb2Zmc2V0IiwiX29yaWVudGF0aW9uIiwib3JpZW50YXRpb24iLCJ1cGRhdGVCb3VuZGluZ1JhZGl1cyIsInJhZGl1cyIsImNvbXB1dGVBQUJCIiwidG1wVmVjIiwidG1wUXVhdCQxIiwiYm9keVF1YXQiLCJzaGFwZUFBQkIiLCJjb21wdXRlQUFCQl9zaGFwZUFBQkIiLCJ1cGRhdGVJbmVydGlhV29ybGQiLCJJIiwibTEiLCJ1aXdfbTEiLCJtMiIsInVpd19tMiIsImFwcGx5Rm9yY2UiLCJyZWxhdGl2ZVBvaW50Iiwicm90Rm9yY2UiLCJCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UiLCJhcHBseUxvY2FsRm9yY2UiLCJsb2NhbEZvcmNlIiwid29ybGRGb3JjZSIsIkJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UiLCJyZWxhdGl2ZVBvaW50V29ybGQiLCJCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQiLCJhcHBseUltcHVsc2UiLCJpbXB1bHNlIiwidmVsbyIsIkJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8iLCJyb3RWZWxvIiwiQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyIsImFwcGx5TG9jYWxJbXB1bHNlIiwibG9jYWxJbXB1bHNlIiwid29ybGRJbXB1bHNlIiwiQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UiLCJCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQiLCJCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzIiwiZml4ZWQiLCJnZXRWZWxvY2l0eUF0V29ybGRQb2ludCIsInF1YXROb3JtYWxpemUiLCJxdWF0Tm9ybWFsaXplRmFzdCIsImFuZ3VsYXJWZWxvIiwiaU1kdCIsInR4IiwidHkiLCJ0eiIsIkNPTExJREVfRVZFTlRfTkFNRSIsIkJyb2FkcGhhc2UiLCJ1c2VCb3VuZGluZ0JveGVzIiwiZGlydHkiLCJjb2xsaXNpb25QYWlycyIsInAxIiwicDIiLCJuZWVkQnJvYWRwaGFzZUNvbGxpc2lvbiIsImJvZHlBIiwiYm9keUIiLCJpbnRlcnNlY3Rpb25UZXN0IiwicGFpcnMxIiwicGFpcnMyIiwiZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UiLCJkb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZSIsIkJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfciIsImJvdW5kaW5nUmFkaXVzU3VtMiIsIm1ha2VQYWlyc1VuaXF1ZSIsIkJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXAiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSIsIkJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyIiwiaWQxIiwiaWQyIiwia2V5Iiwia2V5cyIsInBvcCIsInBhaXJJbmRleCIsInNldFdvcmxkIiwiYWFiYlF1ZXJ5IiwiYm91bmRpbmdTcGhlcmVDaGVjayIsInNhIiwic2IiLCJwb3ciLCJOYWl2ZUJyb2FkcGhhc2UiLCJib2RpZXMiLCJSYXljYXN0UmVzdWx0IiwicmF5RnJvbVdvcmxkIiwicmF5VG9Xb3JsZCIsImhpdE5vcm1hbFdvcmxkIiwiaGl0UG9pbnRXb3JsZCIsImhhc0hpdCIsImhpdEZhY2VJbmRleCIsImRpc3RhbmNlIiwic2hvdWxkU3RvcCIsImFib3J0IiwiUmF5IiwidG8iLCJjaGVja0NvbGxpc2lvblJlc3BvbnNlIiwic2tpcEJhY2tmYWNlcyIsIm1vZGUiLCJBTlkiLCJpbnRlcnNlY3RXb3JsZCIsInVwZGF0ZURpcmVjdGlvbiIsImdldEFBQkIiLCJ0bXBBQUJCIiwidG1wQXJyYXkiLCJicm9hZHBoYXNlIiwiaW50ZXJzZWN0Qm9kaWVzIiwiaW50ZXJzZWN0Qm9keSIsInhpIiwiaW50ZXJzZWN0Qm9keV94aSIsInFpIiwiaW50ZXJzZWN0Qm9keV9xaSIsImludGVyc2VjdFNoYXBlIiwiZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0TWV0aG9kIiwiX2ludGVyc2VjdEJveCIsImJveCIsInJlcG9ydGVkU2hhcGUiLCJfaW50ZXJzZWN0Q29udmV4IiwiX2ludGVyc2VjdFBsYW5lIiwid29ybGROb3JtYWwiLCJsZW4iLCJwbGFuZVRvRnJvbSIsInBsYW5lVG9UbyIsIm5fZG90X2RpciIsInBsYW5lUG9pbnRUb0Zyb20iLCJkaXJfc2NhbGVkX3dpdGhfdCIsInJlcG9ydEludGVyc2VjdGlvbiIsIl9pbnRlcnNlY3RIZWlnaHRmaWVsZCIsImRhdGEiLCJlbGVtZW50U2l6ZSIsImxvY2FsUmF5IiwiaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkiLCJpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCIsImlNaW5YIiwiaU1pblkiLCJpTWF4WCIsImlNYXhZIiwiZ2V0SW5kZXhPZlBvc2l0aW9uIiwiZ2V0QWFiYkF0SW5kZXgiLCJnZXRDb252ZXhUcmlhbmdsZVBpbGxhciIsInBpbGxhck9mZnNldCIsIndvcmxkUGlsbGFyT2Zmc2V0IiwicGlsbGFyQ29udmV4IiwiaW50ZXJzZWN0Q29udmV4T3B0aW9ucyIsIl9pbnRlcnNlY3RTcGhlcmUiLCJzcGhlcmUiLCJkZWx0YSIsImludGVyc2VjdGlvblBvaW50IiwiUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCIsIlJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsIiwiZDIiLCJpbnRlcnNlY3RDb252ZXhfbm9ybWFsIiwiaW50ZXJzZWN0Q29udmV4X3ZlY3RvciIsImZhY2VMaXN0IiwiZnJvbVRvRGlzdGFuY2UiLCJOZmFjZXMiLCJmYWNlTm9ybWFsIiwiaW50ZXJzZWN0UG9pbnQiLCJwb2ludEluVHJpYW5nbGUiLCJfaW50ZXJzZWN0VHJpbWVzaCIsIm1lc2giLCJpbnRlcnNlY3RUcmltZXNoX25vcm1hbCIsInRyaWFuZ2xlcyIsImludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzIiwidHJlZVRyYW5zZm9ybSIsImludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybSIsImxvY2FsRGlyZWN0aW9uIiwiaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbiIsImxvY2FsRnJvbSIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tIiwibG9jYWxUbyIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyIsIndvcmxkSW50ZXJzZWN0UG9pbnQiLCJpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQiLCJpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsIiwiaW5kaWNlcyIsImZyb21Ub0Rpc3RhbmNlU3F1YXJlZCIsInRyZWUiLCJyYXlRdWVyeSIsInRyaWFuZ2xlc0luZGV4IiwiZ2V0Tm9ybWFsIiwiZ2V0VmVydGV4Iiwic3F1YXJlZERpc3RhbmNlIiwiQUxMIiwiQ0xPU0VTVCIsInYxIiwidjIiLCJ2MCIsImRvdDAwIiwiZG90MDEiLCJkb3QwMiIsImRvdDExIiwiZG90MTIiLCJwcm90b3R5cGUiLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiIsImludGVyc2VjdCIsIlNBUEJyb2FkcGhhc2UiLCJheGlzTGlzdCIsImF4aXNJbmRleCIsIl9hZGRCb2R5SGFuZGxlciIsIl9yZW1vdmVCb2R5SGFuZGxlciIsImlkeCIsInNvcnRMaXN0IiwiY2hlY2tCb3VuZHMiLCJpbnNlcnRpb25Tb3J0WCIsImluc2VydGlvblNvcnRZIiwiaW5zZXJ0aW9uU29ydFoiLCJhdXRvRGV0ZWN0QXhpcyIsInN1bVgiLCJzdW1YMiIsInN1bVkiLCJzdW1ZMiIsInN1bVoiLCJzdW1aMiIsImNlbnRlclgiLCJjZW50ZXJZIiwiY2VudGVyWiIsInZhcmlhbmNlWCIsInZhcmlhbmNlWSIsInZhcmlhbmNlWiIsImxvd2VyIiwidXBwZXIiLCJiaVBvcyIsImJqUG9zIiwicmkiLCJyaiIsImJvdW5kQTIiLCJib3VuZEIxIiwiVXRpbHMiLCJkZWZhdWx0cyIsIkNvbnN0cmFpbnQiLCJjb2xsaWRlQ29ubmVjdGVkIiwid2FrZVVwQm9kaWVzIiwiZXF1YXRpb25zIiwidXBkYXRlIiwiZW5hYmxlIiwiZXFzIiwiZW5hYmxlZCIsImRpc2FibGUiLCJKYWNvYmlhbkVsZW1lbnQiLCJzcGF0aWFsIiwicm90YXRpb25hbCIsIm11bHRpcGx5RWxlbWVudCIsImVsZW1lbnQiLCJtdWx0aXBseVZlY3RvcnMiLCJFcXVhdGlvbiIsIm1pbkZvcmNlIiwibWF4Rm9yY2UiLCJlcHMiLCJqYWNvYmlhbkVsZW1lbnRBIiwiamFjb2JpYW5FbGVtZW50QiIsInNldFNwb29rUGFyYW1zIiwic3RpZmZuZXNzIiwicmVsYXhhdGlvbiIsInRpbWVTdGVwIiwiY29tcHV0ZUIiLCJHVyIsImNvbXB1dGVHVyIsIkdxIiwiY29tcHV0ZUdxIiwiR2lNZiIsImNvbXB1dGVHaU1mIiwiR0EiLCJHQiIsInhqIiwidmoiLCJ3aSIsIndqIiwiY29tcHV0ZUdXbGFtYmRhIiwidGkiLCJmaiIsInRqIiwiaW52TWFzc2kiLCJpbnZNYXNzaiIsImlNZmkiLCJpTWZqIiwiaW52SWlfdm11bHRfdGF1aSIsImludklqX3ZtdWx0X3RhdWoiLCJjb21wdXRlR2lNR3QiLCJpbnZJaSIsImludklqIiwidG1wJDEiLCJhZGRUb1dsYW1iZGEiLCJkZWx0YWxhbWJkYSIsImFkZFRvV2xhbWJkYV90ZW1wIiwiY29tcHV0ZUMiLCJDb250YWN0RXF1YXRpb24iLCJyZXN0aXR1dGlvbiIsIm5pIiwicml4biIsIkNvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSIsInJqeG4iLCJDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIiLCJ0YXVpIiwidGF1aiIsInBlbmV0cmF0aW9uVmVjIiwiQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzIiwiZVBsdXNPbmUiLCJCIiwiZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmoiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqIiwicmVsVmVsIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsIiwiUG9pbnRUb1BvaW50Q29uc3RyYWludCIsInBpdm90QSIsInBpdm90QiIsImVxdWF0aW9uWCIsImVxdWF0aW9uWSIsImVxdWF0aW9uWiIsIkNvbmVFcXVhdGlvbiIsImF4aXNBIiwiYXhpc0IiLCJuaiIsIm5peG5qIiwidG1wVmVjMSIsIm5qeG5pIiwidG1wVmVjMiIsIlJvdGF0aW9uYWxFcXVhdGlvbiIsIm1heEFuZ2xlIiwidG1wVmVjMSQxIiwidG1wVmVjMiQxIiwiQ29uZVR3aXN0Q29uc3RyYWludCIsImNvbmVFcXVhdGlvbiIsInR3aXN0RXF1YXRpb24iLCJ0d2lzdEFuZ2xlIiwiY29uZSIsInR3aXN0IiwiRGlzdGFuY2VDb25zdHJhaW50IiwiZXEiLCJkaXN0YW5jZUVxdWF0aW9uIiwiaGFsZkRpc3QiLCJMb2NrQ29uc3RyYWludCIsImhhbGZXYXkiLCJ4QSIsInhCIiwieUEiLCJ5QiIsInpBIiwiekIiLCJyb3RhdGlvbmFsRXF1YXRpb24xIiwicm90YXRpb25hbEVxdWF0aW9uMiIsInIzIiwicm90YXRpb25hbEVxdWF0aW9uMyIsIm1vdG9yIiwibW90b3JFcXVhdGlvbiIsIlJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIiwidGFyZ2V0VmVsb2NpdHkiLCJIaW5nZUNvbnN0cmFpbnQiLCJyb3RhdGlvbmFsMSIsInJvdGF0aW9uYWwyIiwiZW5hYmxlTW90b3IiLCJkaXNhYmxlTW90b3IiLCJzZXRNb3RvclNwZWVkIiwic3BlZWQiLCJzZXRNb3Rvck1heEZvcmNlIiwid29ybGRBeGlzQSIsIkhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSIsIndvcmxkQXhpc0IiLCJIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIiLCJGcmljdGlvbkVxdWF0aW9uIiwic2xpcEZvcmNlIiwicml4dCIsIkZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEiLCJyanh0IiwiRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiIsIkNvbnRhY3RNYXRlcmlhbCIsImZyaWN0aW9uIiwiY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzIiwiY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiIsImZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MiLCJmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiIsIm1hdGVyaWFscyIsIk1hdGVyaWFsIiwibmFtZSIsIlNwcmluZyIsInJlc3RMZW5ndGgiLCJkYW1waW5nIiwibG9jYWxBbmNob3JBIiwibG9jYWxBbmNob3JCIiwid29ybGRBbmNob3JBIiwic2V0V29ybGRBbmNob3JBIiwid29ybGRBbmNob3JCIiwic2V0V29ybGRBbmNob3JCIiwiZ2V0V29ybGRBbmNob3JBIiwiZ2V0V29ybGRBbmNob3JCIiwiYXBwbHlGb3JjZV9yIiwicl91bml0IiwiYXBwbHlGb3JjZV9yX3VuaXQiLCJhcHBseUZvcmNlX3UiLCJhcHBseUZvcmNlX2YiLCJhcHBseUZvcmNlX3RtcCIsImFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBIiwiYXBwbHlGb3JjZV93b3JsZEFuY2hvckIiLCJhcHBseUZvcmNlX3JpIiwiYXBwbHlGb3JjZV9yaiIsInJpX3hfZiIsImFwcGx5Rm9yY2VfcmlfeF9mIiwicmpfeF9mIiwiYXBwbHlGb3JjZV9yal94X2YiLCJybGVuIiwidG1wUmF5IiwiU3BoZXJlIiwiQ3lsaW5kZXIiLCJyYWRpdXNUb3AiLCJyYWRpdXNCb3R0b20iLCJoZWlnaHQiLCJudW1TZWdtZW50cyIsImJvdHRvbWZhY2UiLCJ0b3BmYWNlIiwidGhldGEiLCJ0aGV0YU4iLCJQYXJ0aWNsZSIsIlBsYW5lIiwid29ybGROb3JtYWxOZWVkc1VwZGF0ZSIsImNvbXB1dGVXb3JsZE5vcm1hbCIsInRlbXBOb3JtYWwiLCJtYXhWYWwiLCJIZWlnaHRmaWVsZCIsIm1heFZhbHVlIiwibWluVmFsdWUiLCJ1cGRhdGVNaW5WYWx1ZSIsInVwZGF0ZU1heFZhbHVlIiwiY2FjaGVFbmFibGVkIiwiX2NhY2hlZFBpbGxhcnMiLCJzZXRIZWlnaHRWYWx1ZUF0SW5kZXgiLCJ5aSIsImNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIiLCJnZXRSZWN0TWluTWF4IiwiY2xhbXAiLCJmbG9vciIsImdldFRyaWFuZ2xlQXQiLCJlZGdlQ2xhbXAiLCJnZXRIZWlnaHRBdF9pZHgiLCJsb3dlckRpc3QyIiwidXBwZXJEaXN0MiIsImdldFRyaWFuZ2xlIiwiZ2V0Tm9ybWFsQXQiLCJnZXROb3JtYWxBdF9hIiwiZ2V0Tm9ybWFsQXRfYiIsImdldE5vcm1hbEF0X2MiLCJnZXROb3JtYWxBdF9lMCIsImdldE5vcm1hbEF0X2UxIiwiZ2V0SGVpZ2h0QXQiLCJnZXRIZWlnaHRBdF9hIiwiZ2V0SGVpZ2h0QXRfYiIsImdldEhlaWdodEF0X2MiLCJiYXJ5Y2VudHJpY1dlaWdodHMiLCJnZXRIZWlnaHRBdF93ZWlnaHRzIiwiZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSIsImdldFVwcGVyVHJpYW5nbGUiLCJnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhciIsInNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyIiwiY29udmV4Iiwib2Zmc2V0UmVzdWx0Iiwic2V0SGVpZ2h0c0Zyb21JbWFnZSIsImltYWdlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInVuc2hpZnQiLCJjeCIsImN5IiwiT2N0cmVlTm9kZSIsInJvb3QiLCJjaGlsZHJlbiIsImluc2VydCIsImVsZW1lbnREYXRhIiwibGV2ZWwiLCJub2RlRGF0YSIsIm1heERlcHRoIiwic3ViZGl2aWRlZCIsInN1YmRpdmlkZSIsImhhbGZEaWFnb25hbCIsImNoaWxkIiwicXVldWUiLCJub2RlIiwiQXJyYXkiLCJhcHBseSIsInRtcEFBQkIkMSIsInJlbW92ZUVtcHR5Tm9kZXMiLCJPY3RyZWUiLCJUcmltZXNoIiwiRmxvYXQzMkFycmF5IiwiSW50MTZBcnJheSIsInVwZGF0ZUVkZ2VzIiwidXBkYXRlTm9ybWFscyIsInVwZGF0ZUFBQkIiLCJ1cGRhdGVUcmVlIiwidHJpYW5nbGVBQUJCIiwiaTMiLCJfZ2V0VW5zY2FsZWRWZXJ0ZXgiLCJnZXRUcmlhbmdsZXNJbkFBQkIiLCJ1bnNjYWxlZEFBQkIiLCJpc3giLCJpc3kiLCJpc3oiLCJzZXRTY2FsZSIsIndhc1VuaWZvcm0iLCJpc1VuaWZvcm0iLCJjb21wdXRlTm9ybWFsc19uIiwiT2JqZWN0Iiwic3BsaXQiLCJwYXJzZUludCIsImdldEVkZ2VWZXJ0ZXgiLCJlZGdlSW5kZXgiLCJmaXJzdE9yU2Vjb25kIiwidmVydGV4U3RvcmUiLCJ2ZXJ0ZXhJbmRleCIsImdldEVkZ2VWZWN0b3IiLCJ2ZWN0b3JTdG9yZSIsImdldEVkZ2VWZWN0b3JfdmEiLCJnZXRFZGdlVmVjdG9yX3ZiIiwib3V0IiwiZ2V0V29ybGRWZXJ0ZXgiLCJnZXRUcmlhbmdsZVZlcnRpY2VzIiwiY2xpX2FhYmIiLCJjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCIsImNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSIsImNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiIiwiY3JlYXRlVG9ydXMiLCJ0dWJlIiwicmFkaWFsU2VnbWVudHMiLCJ0dWJ1bGFyU2VnbWVudHMiLCJhcmMiLCJTb2x2ZXIiLCJhZGRFcXVhdGlvbiIsInJlbW92ZUVxdWF0aW9uIiwicmVtb3ZlQWxsRXF1YXRpb25zIiwiR1NTb2x2ZXIiLCJpdGVyYXRpb25zIiwidG9sZXJhbmNlIiwiaXRlciIsIm1heEl0ZXIiLCJ0b2xTcXVhcmVkIiwiTmVxIiwiTmJvZGllcyIsImludkMiLCJkZWx0YWxhbWJkYVRvdCIsIkdXbGFtYmRhIiwibGFtYmRhaiIsImludkNzIiwiR1NTb2x2ZXJfc29sdmVfaW52Q3MiLCJCcyIsIkdTU29sdmVyX3NvbHZlX0JzIiwibGFtYmRhIiwiR1NTb2x2ZXJfc29sdmVfbGFtYmRhIiwiaW52RHQiLCJQb29sIiwib2JqZWN0cyIsInJlbGVhc2UiLCJhcmdzIiwiTmFyZ3MiLCJjb25zdHJ1Y3RPYmplY3QiLCJyZXNpemUiLCJzaXplIiwiVmVjM1Bvb2wiLCJDT0xMSVNJT05fVFlQRVMiLCJzcGhlcmVTcGhlcmUiLCJzcGhlcmVQbGFuZSIsImJveEJveCIsInNwaGVyZUJveCIsInBsYW5lQm94IiwiY29udmV4Q29udmV4Iiwic3BoZXJlQ29udmV4IiwicGxhbmVDb252ZXgiLCJib3hDb252ZXgiLCJzcGhlcmVIZWlnaHRmaWVsZCIsImJveEhlaWdodGZpZWxkIiwiY29udmV4SGVpZ2h0ZmllbGQiLCJzcGhlcmVQYXJ0aWNsZSIsInBsYW5lUGFydGljbGUiLCJib3hQYXJ0aWNsZSIsImNvbnZleFBhcnRpY2xlIiwic3BoZXJlVHJpbWVzaCIsInBsYW5lVHJpbWVzaCIsIk5hcnJvd3BoYXNlIiwiY29udGFjdFBvaW50UG9vbCIsImZyaWN0aW9uRXF1YXRpb25Qb29sIiwiZnJpY3Rpb25SZXN1bHQiLCJ2M3Bvb2wiLCJjdXJyZW50Q29udGFjdE1hdGVyaWFsIiwiZGVmYXVsdENvbnRhY3RNYXRlcmlhbCIsImVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uIiwiY3JlYXRlQ29udGFjdEVxdWF0aW9uIiwic2kiLCJzaiIsIm92ZXJyaWRlU2hhcGVBIiwib3ZlcnJpZGVTaGFwZUIiLCJjbSIsIm1hdEEiLCJtYXRCIiwiY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdCIsImNvbnRhY3RFcXVhdGlvbiIsIm91dEFycmF5Iiwic2hhcGVBIiwic2hhcGVCIiwibXVnIiwiZ3Jhdml0eSIsInJlZHVjZWRNYXNzIiwicG9vbCIsImNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UiLCJudW1Db250YWN0cyIsImYxIiwiZjIiLCJhdmVyYWdlTm9ybWFsIiwiYXZlcmFnZUNvbnRhY3RQb2ludEEiLCJhdmVyYWdlQ29udGFjdFBvaW50QiIsImludk51bUNvbnRhY3RzIiwiZ2V0Q29udGFjdHMiLCJvbGRjb250YWN0cyIsImZyaWN0aW9uUG9vbCIsInRtcFF1YXQxIiwicWoiLCJ0bXBRdWF0MiIsInRtcFZlYzEkMiIsInRtcFZlYzIkMiIsImJvZHlDb250YWN0TWF0ZXJpYWwiLCJnZXRDb250YWN0TWF0ZXJpYWwiLCJqdXN0VGVzdCIsInNoYXBlQ29udGFjdE1hdGVyaWFsIiwicmVzb2x2ZXJJbmRleCIsInJlc29sdmVyIiwicmV0dmFsIiwic2hhcGVPdmVybGFwS2VlcGVyIiwiYm9keU92ZXJsYXBLZWVwZXIiLCJyc2kiLCJyc2oiLCJwb2ludF9vbl9wbGFuZV90b19zcGhlcmUiLCJwbGFuZV90b19zcGhlcmVfb3J0aG8iLCJzcGhlcmVCb3hfc2lkZXMiLCJib3hfdG9fc3BoZXJlIiwiUiIsInNpZGVfbnMiLCJzcGhlcmVCb3hfc2lkZV9ucyIsInNpZGVfbnMxIiwic3BoZXJlQm94X3NpZGVfbnMxIiwic2lkZV9uczIiLCJzcGhlcmVCb3hfc2lkZV9uczIiLCJzaWRlX2giLCJzaWRlX3BlbmV0cmF0aW9ucyIsInNpZGVfZG90MSIsInNpZGVfZG90MiIsInNpZGVfZGlzdGFuY2UiLCJuc2lkZXMiLCJucyIsInNwaGVyZUJveF9ucyIsIm5zMSIsInNwaGVyZUJveF9uczEiLCJuczIiLCJzcGhlcmVCb3hfbnMyIiwiaDEiLCJoMiIsImRvdDEiLCJkb3QyIiwic3BoZXJlX3RvX2Nvcm5lciIsInNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyIiwiZWRnZVRhbmdlbnQiLCJlZGdlQ2VudGVyIiwib3J0aG9nb25hbCIsIk5zaWRlcyIsIm9ydGhvbm9ybSIsInRkaXN0IiwibmRpc3QiLCJyZXMiLCJzZXBBeGlzIiwiY29udmV4Q29udmV4X3NlcEF4aXMiLCJjb252ZXhDb252ZXhfcSIsImNvbnZleF90b19zcGhlcmUiLCJ3b3JsZENvcm5lciIsInNwaGVyZUNvbnZleF93b3JsZENvcm5lciIsInNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciIsIm5mYWNlcyIsInNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCIsInNwaGVyZUNvbnZleF93b3JsZFBvaW50Iiwid29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lIiwic3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSIsInNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyIsInBlbmV0cmF0aW9uIiwid29ybGRQb2ludFRvU3BoZXJlIiwic3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludCIsImZhY2VWZXJ0cyIsIk52ZXJ0cyIsIndvcmxkVmVydGV4IiwicG9pbnRJblBvbHlnb24iLCJwZW5ldHJhdGlvblZlYzIiLCJwZW5ldHJhdGlvblNwaGVyZVBvaW50IiwiTmZhY2V2ZXJ0cyIsInNwaGVyZUNvbnZleF9lZGdlIiwiZWRnZVVuaXQiLCJzcGhlcmVDb252ZXhfZWRnZVVuaXQiLCJ2MV90b194aSIsInhpX3RvX3AiLCJwbGFuZVNoYXBlIiwiY29udmV4U2hhcGUiLCJwbGFuZVBvc2l0aW9uIiwiY29udmV4UG9zaXRpb24iLCJwbGFuZVF1YXQiLCJjb252ZXhRdWF0IiwicGxhbmVCb2R5IiwiY29udmV4Qm9keSIsInBsYW5lQ29udmV4X3YiLCJwbGFuZUNvbnZleF9ub3JtYWwiLCJyZWxwb3MiLCJwbGFuZUNvbnZleF9yZWxwb3MiLCJwcm9qZWN0ZWQiLCJwbGFuZUNvbnZleF9wcm9qZWN0ZWQiLCJzcGhlcmVTaGFwZSIsImhmU2hhcGUiLCJzcGhlcmVQb3MiLCJoZlBvcyIsInNwaGVyZVF1YXQiLCJoZlF1YXQiLCJzcGhlcmVCb2R5IiwiaGZCb2R5Iiwic3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiIsImxvY2FsU3BoZXJlUG9zIiwic3BoZXJlSGVpZ2h0ZmllbGRfdG1wMSIsImNlaWwiLCJtaW5NYXgiLCJudW1Db250YWN0c0JlZm9yZSIsImludGVyc2VjdGluZyIsImNvbnZleFBvcyIsImNvbnZleEhlaWdodGZpZWxkX3RtcDIiLCJjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdCIsImxvY2FsQ29udmV4UG9zIiwiY29udmV4SGVpZ2h0ZmllbGRfdG1wMSIsInBhcnRpY2xlU3BoZXJlX25vcm1hbCIsInBhcnRpY2xlUGxhbmVfbm9ybWFsIiwicGFydGljbGVQbGFuZV9yZWxwb3MiLCJwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCIsInBlbmV0cmF0ZWRGYWNlSW5kZXgiLCJwZW5ldHJhdGVkRmFjZU5vcm1hbCIsImNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsIiwid29ybGRQZW5ldHJhdGlvblZlYyIsImNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWMiLCJtaW5QZW5ldHJhdGlvbiIsImxvY2FsIiwiY29udmV4UGFydGljbGVfbG9jYWwiLCJjcWoiLCJjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlIiwidHJpbWVzaFNoYXBlIiwidHJpbWVzaFBvcyIsInRyaW1lc2hRdWF0IiwidHJpbWVzaEJvZHkiLCJlZGdlVmVydGV4QSIsInNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEEiLCJlZGdlVmVydGV4QiIsInNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEIiLCJlZGdlVmVjdG9yIiwic3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yIiwiZWRnZVZlY3RvclVuaXQiLCJzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0Iiwic3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvcyIsInNwaGVyZVRyaW1lc2hfdG1wIiwibG9jYWxTcGhlcmVBQUJCIiwic3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIiLCJzcGhlcmVUcmltZXNoX3YyIiwic3BoZXJlVHJpbWVzaF9yZWxwb3MiLCJzcGhlcmVUcmltZXNoX3RyaWFuZ2xlcyIsInNwaGVyZVJhZGl1cyIsInNwaGVyZVRyaW1lc2hfdiIsInJhZGl1c1NxdWFyZWQiLCJwb3NpdGlvbkFsb25nRWRnZUIiLCJwb3NpdGlvbkFsb25nRWRnZUEiLCJzcGhlcmVUcmltZXNoX3ZhIiwic3BoZXJlVHJpbWVzaF92YiIsInNwaGVyZVRyaW1lc2hfdmMiLCJzcGhlcmVUcmltZXNoX25vcm1hbCIsInBsYW5lUG9zIiwicGxhbmVUcmltZXNoX25vcm1hbCIsInBsYW5lVHJpbWVzaF9yZWxwb3MiLCJwbGFuZVRyaW1lc2hfcHJvamVjdGVkIiwicG9pbnRJblBvbHlnb25fZWRnZSIsInBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwiLCJwb2ludEluUG9seWdvbl92dHAiLCJwb3NpdGl2ZVJlc3VsdCIsImVkZ2VfeF9ub3JtYWwiLCJ2ZXJ0ZXhfdG9fcCIsIk92ZXJsYXBLZWVwZXIiLCJjdXJyZW50IiwicHJldmlvdXMiLCJnZXRLZXkiLCJ0aWNrIiwiZ2V0RGlmZiIsImFkZGl0aW9ucyIsInJlbW92YWxzIiwiYWwiLCJibCIsImtleUEiLCJ1bnBhY2tBbmRQdXNoIiwia2V5QiIsImFycmF5IiwiVHVwbGVEaWN0aW9uYXJ5IiwiV29ybGQiLCJjb250YWN0cyIsImZyaWN0aW9uRXF1YXRpb25zIiwicXVhdE5vcm1hbGl6ZVNraXAiLCJzdGVwbnVtYmVyIiwiZGVmYXVsdF9kdCIsIm5leHRJZCIsImhhc0FjdGl2ZUJvZGllcyIsInNvbHZlciIsImNvbnN0cmFpbnRzIiwibmFycm93cGhhc2UiLCJjb2xsaXNpb25NYXRyaXgiLCJjb2xsaXNpb25NYXRyaXhQcmV2aW91cyIsImNvbnRhY3RtYXRlcmlhbHMiLCJjb250YWN0TWF0ZXJpYWxUYWJsZSIsImRlZmF1bHRNYXRlcmlhbCIsImRvUHJvZmlsaW5nIiwicHJvZmlsZSIsIm1ha2VDb250YWN0Q29uc3RyYWludHMiLCJhY2N1bXVsYXRvciIsInN1YnN5c3RlbXMiLCJhZGRCb2R5RXZlbnQiLCJyZW1vdmVCb2R5RXZlbnQiLCJpZFRvQm9keU1hcCIsIm51bU9iamVjdHMiLCJjb2xsaXNpb25NYXRyaXhUaWNrIiwiYWRkQ29uc3RyYWludCIsInJlbW92ZUNvbnN0cmFpbnQiLCJyYXlUZXN0IiwicmF5Y2FzdENsb3Nlc3QiLCJyYXljYXN0QWxsIiwidG1wUmF5JDEiLCJyYXljYXN0QW55IiwiYWRkQm9keSIsInJlbW92ZUJvZHkiLCJnZXRCb2R5QnlJZCIsImdldFNoYXBlQnlJZCIsInNsIiwiYWRkTWF0ZXJpYWwiLCJtIiwiYWRkQ29udGFjdE1hdGVyaWFsIiwiY21hdCIsInN0ZXAiLCJ0aW1lU2luY2VMYXN0Q2FsbGVkIiwibWF4U3ViU3RlcHMiLCJpbnRlcm5hbFN0ZXAiLCJzdWJzdGVwcyIsIldvcmxkX3N0ZXBfcDEiLCJXb3JsZF9zdGVwX3AyIiwicHJvZmlsaW5nU3RhcnQiLCJXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sIiwiZ25vcm0iLCJneCIsImd5IiwiZ3oiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIk5zdWJzeXN0ZW1zIiwiTmNvbnN0cmFpbnRzIiwiV29ybGRfc3RlcF9vbGRDb250YWN0cyIsIk5vbGRDb250YWN0cyIsIk5vbGRGcmljdGlvbkVxdWF0aW9ucyIsIm5jb250YWN0cyIsIm11Iiwic3BlZWRTcXVhcmVkQiIsInNwZWVkTGltaXRTcXVhcmVkQiIsInNwZWVkU3F1YXJlZEEiLCJzcGVlZExpbWl0U3F1YXJlZEEiLCJXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCIsImNvbnRhY3QiLCJlbWl0Q29udGFjdEV2ZW50cyIsImxkIiwiYXYiLCJhZCIsIldvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50IiwiY2xlYXJGb3JjZXMiLCJXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQiLCJ0YXUiLCJ0bXBBQUJCMSIsIm5vd09mZnNldCIsIkRhdGUiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiLCJiZWdpbkNvbnRhY3RFdmVudCIsImVuZENvbnRhY3RFdmVudCIsImJlZ2luU2hhcGVDb250YWN0RXZlbnQiLCJlbmRTaGFwZUNvbnRhY3RFdmVudCIsImhhc0JlZ2luQ29udGFjdCIsImhhc0VuZENvbnRhY3QiLCJoYXNCZWdpblNoYXBlQ29udGFjdCIsImhhc0VuZFNoYXBlQ29udGFjdCIsInNwcmluZ3MiLCJyYXlzIiwiY29uZmlnIiwic3Vic2NyaXB0aW9ucyIsInRlbXBWZWN0b3IiLCJjcmVhdGVTaGFwZSIsIm1hcCIsInN5bmNCb2RpZXMiLCJzZWxmIiwicG9zdE1lc3NhZ2UiLCJvcCIsInV1aWQiLCJyZWR1Y2UiLCJhY2MiLCJvbm1lc3NhZ2UiLCJwb3NpdGlvbnMiLCJxdWF0ZXJuaW9ucyIsImJyb2FkcGhhc2VzIiwiYXNzaWduIiwibnVtYmVyT2ZCb2RpZXMiLCJvYnNlcnZhdGlvbnMiLCJhY3RpdmUiLCJidWZmZXIiLCJyb3RhdGlvbiIsImJvZHlUeXBlIiwib25Db2xsaWRlIiwiZXh0cmEiLCJ0b1VwcGVyQ2FzZSIsImZvckVhY2giLCJzaGFwZUJvZHkiLCJpbXBhY3RWZWxvY2l0eSIsImNvbGxpc2lvbkZpbHRlcnMiLCJib2R5RmlsdGVyR3JvdXAiLCJib2R5RmlsdGVyTWFzayIsInRhcmdldEZpbHRlckdyb3VwIiwidGFyZ2V0RmlsdGVyTWFzayIsIm9wdG5zIiwiaXNBcnJheSIsImNvbnN0cmFpbnQiLCJmaWx0ZXIiLCJ0aGlzSWQiLCJzcHJpbmciLCJwb3N0U3RlcFNwcmluZyIsInJlc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7OztBQWtGQTs7Ozs7Ozs7O0FBT0EsTUFBTUEsSUFBTixDQUFXO0FBQ1RDLEVBQUFBLFdBQVcsQ0FBQ0MsUUFBUSxHQUFHLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBekIsQ0FBWixFQUF5QztBQUNsRCxTQUFLQSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNEO0FBQ0Q7Ozs7Ozs7O0FBUUFDLEVBQUFBLFFBQVEsR0FBRztBQUNULFVBQU1DLENBQUMsR0FBRyxLQUFLRixRQUFmO0FBQ0FFLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0Q7QUFDRDs7Ozs7O0FBTUFDLEVBQUFBLE9BQU8sR0FBRztBQUNSLFVBQU1ELENBQUMsR0FBRyxLQUFLRixRQUFmO0FBQ0FFLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0FBLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxDQUFQO0FBQ0Q7QUFDRDs7Ozs7OztBQU9BRSxFQUFBQSxRQUFRLENBQUNDLE1BQUQsRUFBUztBQUNmLFVBQU1ILENBQUMsR0FBRyxLQUFLRixRQUFmO0FBQ0FFLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBT0csTUFBTSxDQUFDQyxDQUFkO0FBQ0FKLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBT0csTUFBTSxDQUFDRSxDQUFkO0FBQ0FMLElBQUFBLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBT0csTUFBTSxDQUFDRyxDQUFkO0FBQ0Q7QUFDRDs7Ozs7OztBQU9BQyxFQUFBQSxRQUFRLENBQUNDLE1BQU0sR0FBRyxJQUFJQyxJQUFKLEVBQVYsRUFBc0I7QUFDNUIsVUFBTVQsQ0FBQyxHQUFHLEtBQUtGLFFBQWY7QUFDQVUsSUFBQUEsTUFBTSxDQUFDSixDQUFQLEdBQVdKLENBQUMsQ0FBQyxDQUFELENBQVo7QUFDQVEsSUFBQUEsTUFBTSxDQUFDSCxDQUFQLEdBQVdMLENBQUMsQ0FBQyxDQUFELENBQVo7QUFDQVEsSUFBQUEsTUFBTSxDQUFDRixDQUFQLEdBQVdOLENBQUMsQ0FB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', false);
/* eslint-enable */

function Provider({
  children,
  step = 1 / 60,
  gravity = [0, -10, 0],
  tolerance = 0.001,
  iterations = 5,
  allowSleep = false,
  broadphase = 'Naive',
  axisIndex = 0,
  defaultContactMaterial = {
    contactEquationStiffness: 1e6
  },
  size = 1000
}) {
  const {
    invalidate
  } = useThree();
  const [worker] = useState(() => new WorkerFactory());
  const [refs] = useState({});
  const [buffers] = useState(() => ({
    positions: new Float32Array(size * 3),
    quaternions: new Float32Array(size * 4)
  }));
  const [events] = useState({});
  const [subscriptions] = useState({});
  const bodies = useRef({});
  useEffect(() => {
    worker.postMessage({
      op: 'init',
      props: {
        gravity,
        tolerance,
        step,
        iterations,
        broadphase,
        allowSleep,
        axisIndex,
        defaultContactMaterial
      }
    });

    function loop() {
      worker.postMessage(_extends({
        op: 'step'
      }, buffers), [buffers.positions.buffer, buffers.quaternions.buffer]);
    }

    worker.onmessage = e => {
      switch (e.data.op) {
        case 'frame':
          buffers.positions = e.data.positions;
          buffers.quaternions = e.data.quaternions;
          e.data.observations.forEach(([id, value]) => subscriptions[id](value));
          requestAnimationFrame(loop);
          if (e.data.active) invalidate();
          break;

        case 'sync':
          bodies.current = e.data.bodies.reduce((acc, id) => _extends({}, acc, {
            [id]: e.data.bodies.indexOf(id)
          }), {});
          break;

        case 'event':
          switch (e.data.type) {
            case 'collide':
              events[e.data.target](_extends({}, e.data, {
                target: refs[e.data.target],
                body: refs[e.data.body]
              }));
              break;

            case 'rayhit':
              events[e.data.ray.uuid](_extends({}, e.data, {
                body: e.data.body ? refs[e.data.body] : null
              }));
              break;
          }

          break;
      }
    };

    loop();
    return () => worker.terminate();
  }, []);
  const api = useMemo(() => ({
    worker,
    bodies,
    refs,
    buffers,
    events,
    subscriptions
  }), [worker, bodies, refs, buffers, events, subscriptions]);
  return /*#__PURE__*/React.createElement(context.Provider, {
    value: api
  }, children);
}

export default Provider;
